(this.webpackJsonphotm=this.webpackJsonphotm||[]).push([[0],{220:function(e,t,a){e.exports=a.p+"static/media/logo.a36b5832.png"},328:function(e,t,a){e.exports=a(563)},333:function(e,t,a){},338:function(e,t,a){},358:function(e,t,a){e.exports=a.p+"static/media/logo192.4d162816.png"},562:function(e,t,a){},563:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(11),o=a.n(i),c=(a(333),a(79)),l=a(80),s=a(83),u=a(81),m=a(84),d=a(17),g=a(643),p=a(308),b=(a(338),a(9)),f=a(66),E=a(87),h=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(n.Component),v=Object(E.f)(h),y=a(642),O=a(12),k=a(49),j=a(570),S=a(626),w=a(289),_=a.n(w),x=a(198),C=a(621),A=a(627),N=a(629),T=a(630),I=a(647),D=a(43),B=a(628),P=a(127),F=a.n(P),M=a(288),R=a.n(M),L=a(195),U=a.n(L),G=a(286),W=a.n(G),z=a(290),Y=a.n(z),H=a(292),V=a.n(H),K=a(293),Q=a.n(K),q=a(287),$=a.n(q),X=a(291),J=a.n(X),Z=a(15),ee=a.n(Z),te=a(30),ae=a(120),ne=a(312),re=a(564),ie=a(569),oe=a(568),ce="https://procomhost.com",le=ce+"/hotm_booking/api/v0.8",se=le+"/bookings",ue=ce+"/wp-json/wp/v2/users",me="Basic ZEtkWDBTM0wwSERsOnAxMk9GeFNMczVVNXVxdEEyQnVTYkFuUg==",de=a(33),ge=a.n(de),pe=a(618),be=Object(k.a)((function(){return{container1:{display:"flex",margin:20},grow:{flexGrow:1},container2:{display:"flex",flexDirection:"column",alignContent:"center"},button:{display:"flex",marginLeft:15,marginRight:15,marginTop:20,marginBottom:20}}}));function fe(e){var t=e.triggerOpen,a=Object(n.useState)(!1),i=Object(b.a)(a,2),o=i[0],c=i[1],l=Object(n.useRef)(!1),s=Object(n.useState)(""),u=Object(b.a)(s,2),m=u[0],d=u[1],g=be();Object(n.useEffect)((function(){l.current?c(!0):l.current=!0}),[t]);var p=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://procomhost.com/api/user/retrieve_password/?user_login="+m,e.next=3,ge()(t);case 3:200===(a=e.sent).status&&"ok"===a.data.status?(alert("An email to reset your password has been sent to you."),c(!1)):alert("username or email not found");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{open:o},r.a.createElement(oe.a,null,r.a.createElement(pe.a,null,"To reset password, please enter your username or email."),r.a.createElement(ne.a,{autoFocus:!0,margin:"dense",label:"username or email",type:"userLogin",fullWidth:!0,onChange:function(e){d(e.target.value)}})),r.a.createElement(ie.a,{className:g.button},r.a.createElement(ae.a,{variant:"contained",onClick:function(){c(!1)},color:"primary",fullWidth:!0},"Cancel"),r.a.createElement(ae.a,{variant:"contained",onClick:p,color:"primary",fullWidth:!0},"Submit")))}var Ee=a(622),he=a(220),ve=Object(k.a)((function(e){return{container1:{display:"flex",margin:20},grow:{flexGrow:1},button1:{marginLeft:15,marginRight:15,marginTop:10,marginBottom:10},logo:Object(O.a)({maxWidth:"50%",width:"auto",height:"auto"},e.breakpoints.down("sm"),{maxHeight:120})}}));function ye(e){var t=e.triggerOpen,a=e.signinUser,i=Object(n.useState)(!1),o=Object(b.a)(i,2),c=o[0],l=o[1],s=Object(n.useRef)(!1),u=Object(n.useState)(""),m=Object(b.a)(u,2),d=m[0],g=m[1],p=Object(n.useState)(""),f=Object(b.a)(p,2),E=f[0],h=f[1],v=Object(n.useState)(""),y=Object(b.a)(v,2),O=y[0],k=y[1],j=Object(n.useState)(""),S=Object(b.a)(j,2),w=S[0],_=S[1],x=Object(n.useState)(""),C=Object(b.a)(x,2),A=C[0],N=C[1],T=Object(n.useState)(""),I=Object(b.a)(T,2),D=I[0],B=I[1],P=Object(n.useState)(""),F=Object(b.a)(P,2),M=F[0],R=F[1],L=Object(n.useState)(""),U=Object(b.a)(L,2),G=U[0],W=U[1],z=Object(n.useState)(""),Y=Object(b.a)(z,2),H=Y[0],V=Y[1],K=Object(n.useState)(""),Q=Object(b.a)(K,2),q=Q[0],$=Q[1],X=Object(n.useState)(""),J=Object(b.a)(X,2),Z=J[0],ce=J[1],le=ve(),se=Object(n.useState)(!0),ue=Object(b.a)(se,2),me=ue[0],de=ue[1];Object(n.useEffect)((function(){de(""===d||""===E||""===O||""===w||""===A||""===Z)}),[d,E,O,w,A,Z]),Object(n.useEffect)((function(){s.current?l(!0):s.current=!0}),[t]);var pe=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,n,r,i,o,c,s,u,m,g;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge()("https://procomhost.com/api/get_nonce/?controller=user&method=register");case 2:if(200!==(t=e.sent).status||"ok"!==t.data.status){e.next=38;break}return n=t.data.nonce,(r=new FormData).set("username",d),r.set("user_pass",E),r.set("email",O),r.set("display_name",w+" "+A),r.set("nonce",n),i={method:"post",headers:{"Content-Type":"multipart/form-data"},url:"https://procomhost.com/api/user/register",data:r},e.next=14,ge()(i);case 14:if(200!==(o=e.sent).status||"ok"!==o.data.status){e.next=35;break}return c=o.data.cookie,s=o.data.user_id,(u=new FormData).set("cookie",c),u.set("billing_firstname",w),u.set("billing_lastname",A),u.set("billing_company",D),u.set("billing_address_1",M),u.set("billing_city",G),u.set("billing_state",H),u.set("billing_postcode",q),u.set("billing_phone",Z),m={method:"post",headers:{"Content-Type":"multipart/form-data"},url:"https://procomhost.com/api/user/update_user_meta_vars",data:u},e.next=31,ge()(m);case 31:200===(g=e.sent).status&&"ok"===g.data.status?(a({firstName:w,lastName:A,nickName:w,email:O,id:s,loggedIn:!0}),alert("You are now registered for HOTM online booking!"),l(!1)):alert(g.data.error),e.next=36;break;case 35:alert(o.data.error);case 36:e.next=39;break;case 38:alert(t.data.error);case 39:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(re.a,{open:c,onBackdropClick:function(){return l(!1)}},r.a.createElement("div",{className:le.container1},r.a.createElement("div",{className:le.grow}),r.a.createElement("img",{className:le.logo,src:he,alt:"Hair on the move logo"}),r.a.createElement("div",{className:le.grow})),r.a.createElement(oe.a,null,r.a.createElement(Ee.a,{container:!0},r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{autoFocus:!0,required:!0,margin:"dense",label:"username",type:"username",fullWidth:!0,onChange:function(e){g(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{required:!0,margin:"dense",label:"password",type:"password",fullWidth:!0,onChange:function(e){h(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(ne.a,{required:!0,margin:"dense",label:"email",type:"email",fullWidth:!0,onChange:function(e){k(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{required:!0,margin:"dense",label:"first name",type:"firstname",fullWidth:!0,onChange:function(e){_(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{required:!0,margin:"dense",label:"last name",type:"lastname",fullWidth:!0,onChange:function(e){N(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(ne.a,{margin:"dense",label:"company",type:"company",fullWidth:!0,onChange:function(e){B(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:12},r.a.createElement(ne.a,{margin:"dense",label:"address",type:"address",fullWidth:!0,onChange:function(e){R(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{margin:"dense",label:"city",type:"city",fullWidth:!0,onChange:function(e){W(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{margin:"dense",label:"postcode",type:"postcode",fullWidth:!0,onChange:function(e){$(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{margin:"dense",label:"state abbr.",type:"state",fullWidth:!0,onChange:function(e){V(e.target.value)}})),r.a.createElement(Ee.a,{item:!0,xs:6},r.a.createElement(ne.a,{required:!0,margin:"dense",label:"phone",type:"phone",fullWidth:!0,onChange:function(e){ce(e.target.value)}})))),r.a.createElement(ie.a,{className:le.button1},r.a.createElement(ae.a,{variant:"contained",onClick:pe,color:"primary",fullWidth:!0,disabled:me},"Submit")))}var Oe=a(220),ke=Object(k.a)((function(e){return{container1:{display:"flex",margin:20},container2:{display:"flex"},grow:{flexGrow:1},button1:{marginLeft:15,marginRight:15,marginTop:20},button2:{marginLeft:15,marginRight:15,marginTop:20,marginBottom:20},logo:Object(O.a)({maxWidth:"50%",width:"auto",height:"auto"},e.breakpoints.down("sm"),{maxHeight:120})}}));var je=Object(d.b)(null,(function(e){return{signinUser:function(t){return e(function(e){return{type:"SIGN_IN",payload:e}}(t))}}}))((function(e){var t=e.theme,a=e.triggerOpen,i=e.signinUser,o=e.initOpen,c=Object(n.useState)(!1),l=Object(b.a)(c,2),s=l[0],u=l[1],m=Object(n.useRef)(!1),d=Object(n.useState)(""),g=Object(b.a)(d,2),p=g[0],f=g[1],E=Object(n.useState)(""),h=Object(b.a)(E,2),v=h[0],y=h[1],O=Object(n.useState)(!1),k=Object(b.a)(O,2),j=k[0],S=k[1],w=Object(n.useState)(!1),_=Object(b.a)(w,2),x=_[0],C=_[1],A=ke(t);Object(n.useEffect)((function(){m.current?u(!0):(m.current=!0,u(o))}),[a,o]);var N=function(){var e=Object(te.a)(ee.a.mark((function e(){var t,a,n,r,o,c;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).set("username",p),t.set("password",v),a={method:"post",headers:{"Content-Type":"multipart/form-data"},url:"https://procomhost.com/api/auth/generate_auth_cookie",data:t},e.next=6,ge()(a);case 6:200===(n=e.sent).status&&n.data.user?(r=n.data.user,o=!1,r.capabilities.staff_members&&(o=!0),c={firstName:r.firstname,lastName:r.lastname,nickName:r.nickname,email:r.email,id:r.id,loggedIn:!0,isArtist:o},i(c),u(!1)):alert("login failed");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(re.a,{open:s,onBackdropClick:function(){return u(!1)}},r.a.createElement("div",{className:A.container1},r.a.createElement("div",{className:A.grow}),r.a.createElement("img",{className:A.logo,src:Oe,alt:"Hair on the move logo"}),r.a.createElement("div",{className:A.grow})),r.a.createElement(oe.a,null,r.a.createElement(ne.a,{autoFocus:!0,margin:"dense",label:"username or email",type:"username",fullWidth:!0,onChange:function(e){f(e.target.value)}}),r.a.createElement(ne.a,{margin:"dense",label:"password",type:"password",fullWidth:!0,onChange:function(e){y(e.target.value)}})),r.a.createElement(ie.a,{className:A.button1},r.a.createElement(ae.a,{variant:"contained",onClick:N,color:"primary",fullWidth:!0},"Sign in")),r.a.createElement(ie.a,{className:A.container2},r.a.createElement("div",{className:A.grow}),r.a.createElement(ae.a,{variant:"text",onClick:function(){u(!1),S(!j)},color:"primary"},"Forget password?"),r.a.createElement("div",{className:A.grow})),r.a.createElement("div",{className:A.container2},r.a.createElement("div",{className:A.grow}),r.a.createElement("p",null,"OR"),r.a.createElement("div",{className:A.grow})),r.a.createElement(ie.a,{className:A.button2},r.a.createElement(ae.a,{variant:"contained",onClick:function(){u(!1),C(!x)},color:"primary",fullWidth:!0},"Register"))),r.a.createElement(fe,{triggerOpen:j}),r.a.createElement(ye,{triggerOpen:x,signinUser:i}))})),Se="RESET_BOOKING",we=function(e){return{type:"SET_SELECTED_ARTIST",order:e}};var _e=function(){return{type:Se}},xe=function(e,t){return{type:"ADD_BOOKING",payload:e,callMe:t}},Ce=function(e){return{type:"SAVE_BOOKING",payload:e}},Ae=a(285),Ne=a.n(Ae),Te=Object(k.a)((function(){return{container1:{display:"flex",margin:20},grow:{flexGrow:1},container2:{display:"flex",flexDirection:"column",alignContent:"center"},button:{display:"flex",marginLeft:15,marginRight:15,marginTop:20,marginBottom:20}}}));var Ie=Object(d.b)((function(e){return{firstName:e.userInfo.firstName,lastName:e.userInfo.lastName,email:e.userInfo.email}}),(function(e){return{signoutUser:function(){return e({type:"SIGN_OUT"})},resetBooking:function(){return e(_e())}}}))((function(e){var t=e.firstName,a=e.lastName,i=e.email,o=e.triggerOpen,c=e.signoutUser,l=e.resetBooking,s=Object(n.useState)(!1),u=Object(b.a)(s,2),m=u[0],d=u[1],g=Object(n.useRef)(!1),p=Te();return Object(n.useEffect)((function(){g.current?d(!0):g.current=!0}),[o]),r.a.createElement(re.a,{maxWidth:"xs",fullWidth:!0,open:m},r.a.createElement("div",{className:p.container1},r.a.createElement("div",{className:p.grow}),r.a.createElement(Ne.a,{color:"primary",fontSize:"large"}),r.a.createElement("div",{className:p.grow})),r.a.createElement(oe.a,{className:p.container2},r.a.createElement(D.a,{variant:"h6",align:"center"},t+" "+a),r.a.createElement(D.a,{variant:"body2",align:"center"},i)),r.a.createElement(ie.a,{className:p.button},r.a.createElement(ae.a,{variant:"contained",onClick:function(){d(!1)},color:"primary",fullWidth:!0},"Cancel"),r.a.createElement(ae.a,{variant:"contained",onClick:function(){c(),l(),d(!1)},color:"primary",fullWidth:!0},"Sign out")))})),De=a(624),Be=a(158),Pe=a(28),Fe=a(625),Me=a(644);function Re(e){var t=e.tags,a=e.setTags,n=e.multiArtists,i=e.clearable,o=e.artists,c=e.label,l=Object.values(o).sort((function(e,t){var a=e.state.toUpperCase()+e.name,n=t.state.toUpperCase()+t.name;return a<n?-1:a>n?1:0}));return r.a.createElement(Me.a,{multiple:n,id:"artist-list",disableClearable:i,filterSelectedOptions:!0,options:l,groupBy:function(e){return e.state.toUpperCase()},getOptionLabel:function(e){return e.name},value:t,onChange:function(e,t){a(t)},renderInput:function(e){return r.a.createElement(ne.a,Object.assign({},e,{variant:"outlined",placeholder:"Artist name",label:c,fullWidth:!0}))}})}var Le=a(623);function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ge(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function We(e){var t=e.client,a=e.setClient,i=e.label,o=Object(n.useState)(!1),c=Object(b.a)(o,2),l=c[0],s=c[1],u=Object(n.useState)(null!==t?[t]:[]),m=Object(b.a)(u,2),d=m[0],g=m[1],p=Object(n.useState)(""),f=Object(b.a)(p,2),E=f[0],h=f[1],v=l&&E.length>=3,y=Object(n.useState)(!1),O=Object(b.a)(y,2),k=O[0],j=O[1];Object(n.useEffect)((function(){v&&!k&&Object(te.a)(ee.a.mark((function e(){var t,a;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={method:"get",headers:{Authorization:me},url:ue+"?search="+E},j(!0),e.next=4,ge()(t);case 4:a=e.sent,g(a.data.map((function(e){return{id:e.id,name:e.name,phone:e.meta.billing_phone[0]}}))),j(!1);case 7:case"end":return e.stop()}}),e)})))()}),[E,v]);return r.a.createElement(Me.a,{id:"asynchronous-client",open:l,onOpen:function(){s(!0)},onClose:function(){s(!1),h(""),g([])},getOptionLabel:function(e){return e.name+" - "+e.phone},options:d,loading:k,value:t,onChange:function(e,t){a(t)},onInputChange:function(e,t,a){"input"===a?h(t):"clear"===a&&h("")},renderInput:function(e){return r.a.createElement(ne.a,Object.assign({},e,{label:i,fullWidth:!0,variant:"outlined",placeholder:"Client name or username",InputProps:Ge({},e.InputProps,{endAdornment:r.a.createElement(r.a.Fragment,null,k?r.a.createElement(Le.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})}var ze=Object(k.a)((function(e){return{button:{marginLeft:15,marginRight:15,marginTop:20,marginBottom:20}}}));var Ye=Object(d.b)((function(e){return{bookingFilter:e.bookingFilter}}),(function(e){return{setFromDate:function(t){return e(function(e){return{type:"SET_FROM_DATE",val:e}}(t))},setToDate:function(t){return e(function(e){return{type:"SET_TO_DATE",val:e}}(t))},setArtist:function(t){return e(function(e){return{type:"SET_ARTIST",val:e}}(t))},setClient:function(t){return e(function(e){return{type:"SET_CLIENT",val:e}}(t))},searchBooking:function(){return e({type:"SEARCH_BOOKING"})}}}))((function(e){var t=e.theme,a=e.artists,i=e.triggerOpen,o=e.bookingFilter,c=e.setFromDate,l=e.setToDate,s=e.setArtist,u=e.setClient,m=e.searchBooking,d=o.fromDate,g=o.toDate,p=o.artist,f=o.client,E=Object(n.useState)(!1),h=Object(b.a)(E,2),v=h[0],y=h[1],O=Object(n.useRef)(!1),k=ze(t);return Object(n.useEffect)((function(){O.current?y(!0):O.current=!0}),[i]),r.a.createElement(re.a,{open:v,onBackdropClick:function(){return y(!1)}},r.a.createElement(De.a,{id:"simple-dialog-title"},"Filters for booking search"),r.a.createElement(oe.a,null,r.a.createElement(Pe.a,{utils:Be.a},r.a.createElement(Fe.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Select from date",value:d,onChange:c,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(Fe.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Select to date",value:g,onChange:l,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Re,{artists:a,multiArtists:!1,clearable:!1,setTags:s,tags:p,label:"Select artist"}),r.a.createElement("br",null),r.a.createElement(We,{setClient:u,client:f,label:"Select client"})),r.a.createElement(ie.a,{className:k.button},r.a.createElement(ae.a,{variant:"contained",onClick:function(){m(),y(!1)},color:"primary",fullWidth:!0},"Search")))})),He=a(358),Ve=Object(k.a)((function(e){return{grow:{flexGrow:1},title:Object(O.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:{display:"flex",alignItems:"center"}}})),Ke=[{label:"Add a booking",pathname:"/",icon:r.a.createElement(F.a,null)},{label:"Artist add a booking",pathname:"/artist",icon:r.a.createElement(W.a,null)},{label:"Manage bookings",pathname:"/manage",icon:r.a.createElement($.a,null)},{label:"Booking calendar",pathname:"/calendar",icon:r.a.createElement(R.a,null)},{label:"Go to Hair on the Move",pathname:ce,external:!0,icon:r.a.createElement(U.a,null)}],Qe=[{label:"Add a booking",pathname:"/",icon:r.a.createElement(F.a,null)},{label:"Go to Hair on the Move",pathname:ce,external:!0,icon:r.a.createElement(U.a,null)}];var qe=Object(E.f)((function(e){var t,a=e.location,i=e.bookingValue,o=e.loggedIn,c=e.isArtist,l=e.artists,s=Ve(),u=Object(n.useState)(!1),m=Object(b.a)(u,2),d=m[0],g=m[1],p=Object(n.useState)(!1),E=Object(b.a)(p,2),h=E[0],v=E[1],y=Object(n.useState)(!1),O=Object(b.a)(y,2),k=O[0],w=O[1],P=Object(n.useState)(!1),F=Object(b.a)(P,2),M=F[0],R=F[1],L=a.pathname,U="/"===L||"/artist"===L,G="/manage"===L||"/calendar"===L,W=c?Ke:Qe,z=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&g(e)}};switch(L){case"/calendar":t="Booking calendar";break;case"/manage":t="Manage bookings";break;case"/artist":t="Artist add a booking";break;default:t="Add a booking"}return r.a.createElement("div",{className:s.grow},r.a.createElement(S.a,{color:"secondary",position:"static"},r.a.createElement(j.a,null,r.a.createElement("img",{width:60,src:He,alt:"Hair on the move logo"}),r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{onClick:z(!0),color:"inherit","aria-label":"Menu"},r.a.createElement(_.a,null)),r.a.createElement("div",{className:s.title},r.a.createElement(D.a,{variant:"h6"},t)),r.a.createElement(I.a,{anchor:"left",open:d,onClose:z(!1)},r.a.createElement("div",{role:"presentation",onClick:z(!1),onKeyDown:z(!1)},r.a.createElement(C.a,null,W.map((function(e){return r.a.createElement(A.a,{component:e.external?B.a:f.b,href:e.external?e.pathname:null,to:e.external?null:{pathname:e.pathname,search:a.search},button:!0,key:e.label,target:e.external?"_blank":null},r.a.createElement(N.a,null,e.icon),r.a.createElement(T.a,{primary:e.label}))})))))),r.a.createElement("div",{className:s.grow}),r.a.createElement("div",{className:s.sectionDesktop},U&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{fontSize:"small"}),r.a.createElement("span",null," $"+i)),G&&r.a.createElement(x.a,{edge:"end",color:"inherit",onClick:function(e){e.preventDefault(),R(!M)}},r.a.createElement(J.a,null)),r.a.createElement(x.a,{edge:"end",color:"default",onClick:function(e){e.preventDefault(),o?w(!k):v(!h)}},o?r.a.createElement(V.a,{color:"primary"}):r.a.createElement(Q.a,{style:{color:"white"}})))),r.a.createElement(Ie,{triggerOpen:k}),r.a.createElement(je,{triggerOpen:h,initOpen:!1}),r.a.createElement(Ye,{triggerOpen:M,artists:l})))}));function $e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Xe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?$e(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$e(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Je=function(e,t){switch(t.type){case"FETCH_INIT":return Xe({},e,{isLoading:!0,hasErrored:!1});case"FETCH_SUCCESS":return Xe({},e,{isLoading:!1,hasErrored:!1,errorMessage:"",data:t.payload});case"FETCH_FAILURE":return Xe({},e,{isLoading:!1,hasErrored:!0,errorMessage:"Data Retrieve Failure"});default:throw new Error}},Ze=function(e,t,a){var r=Object(n.useState)(e),i=Object(b.a)(r,1)[0],o=Object(n.useReducer)(Je,{isLoading:!1,hasErrored:!1,errorMessage:"",data:t}),c=Object(b.a)(o,2),l=c[0],s=c[1];return Object(n.useEffect)((function(){var e=!1;return a&&function(){var t=Object(te.a)(ee.a.mark((function t(){var a;return ee.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s({type:"FETCH_INIT"}),t.prev=1,t.next=4,ge.a.get(i);case 4:a=t.sent,e||s({type:"FETCH_SUCCESS",payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e||s({type:"FETCH_FAILURE"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!0}}),[i,a]),Xe({},l)};function et(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?et(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):et(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var at=function(e,t){return e.reduce((function(e,a){return tt({},e,Object(O.a)({},a[t].toString(),a))}),{})},nt=function(e,t){switch(t.type){case"FETCH_INIT":return tt({},e,{isLoading:!0,isUpdating:!1,hasErrored:!1});case"FETCH_SUCCESS":return tt({},e,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:"",data:Object.assign({},at(t.payload,"booking_id"))});case"FETCH_FAILURE":return tt({},e,{isLoading:!1,isUpdating:!1,hasErrored:!0,errorMessage:"Data Retrieve Failure"});case"UPDATE_INIT":return tt({},e,{isLoading:!1,isUpdating:!0,hasErrored:!1});case"POST_SUCCESS":case"PUT_SUCCESS":return tt({},e,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:"",data:Object.assign({},e.data,at([t.payload],"booking_id"))});case"DELETE_SUCCESS":return tt({},e,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:""});case"UPDATE_FAILURE":return tt({},e,{isLoading:!1,isUpdating:!1,hasErrored:!0,errorMessage:t.errMessage});default:throw new Error}},rt=function(e,t,a,r,i,o,c){var l=Object(n.useReducer)(nt,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:"",data:t}),s=Object(b.a)(l,2),u=s[0],m=s[1];return Object(n.useEffect)((function(){var t=!1,n=function(){var a=Object(te.a)(ee.a.mark((function a(){var n;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m({type:"FETCH_INIT"}),a.prev=1,a.next=4,ge.a.get(e);case 4:n=a.sent,t||m({type:"FETCH_SUCCESS",payload:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),t||m({type:"FETCH_FAILURE"});case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(){return a.apply(this,arguments)}}(),c=function(){var a=Object(te.a)(ee.a.mark((function a(n){var r,i,c,l;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m({type:"UPDATE_INIT"}),r={method:"post",headers:{"Content-Type":"application/json"},url:e,data:n},a.prev=2,a.next=5,ge()(r);case 5:i=a.sent,c=i.data.booking_id,t||(c>0?(l=tt({},n,{booking_id:c}),m({type:"POST_SUCCESS",payload:l}),o()):alert(i.data.error+" Please call to resolve this issue.")),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),t||m({type:"UPDATE_FAILURE",errorMessage:a.t0});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}(),l=function(){var a=Object(te.a)(ee.a.mark((function a(n){var r,i,c;return ee.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return m({type:"UPDATE_INIT"}),r={method:"put",headers:{"Content-Type":"application/json"},url:e,data:n},a.prev=2,a.next=5,ge()(r);case 5:i=a.sent,c=i.data.booking_id,t||(c>0?(n.paid_amount>0&&(n.paid_amount=n.total_amount),m({type:"PUT_SUCCESS",payload:n}),o()):alert(i.data.error+" Please call to resolve this issue.")),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),t||m({type:"UPDATE_FAILURE",errorMessage:a.t0});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}();if(a&&!u.isLoading&&!u.isUpdating)switch(r){case"get":n();break;case"post":c(i);break;case"put":l(i);break;default:throw new Error}return function(){t=!0}}),[a,r,i,c]),tt({},u)},it=function(e,t,a){for(var n=0,r=t.organic,i=t.pensionerRate,o=0,c=Object.keys(a);o<c.length;o++){var l=c[o],s=a[l];n+=(r?e[l].organicPrice:e[l].price)*(i?.8:1)*s}return n.toFixed(2)};var ot=a(19),ct=a.n(ot),lt=Object(n.createContext)(),st=a(565),ut=a(309),mt=a(650),dt=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.avatar,n=e.name,i=e.bio,o=e.title,c="https://www.instagram.com/explore/tags/"+e.hashtag;return r.a.createElement(ut.a,{className:t.paper,elevation:6},r.a.createElement(Ee.a,{container:!0,spacing:2},r.a.createElement(Ee.a,{item:!0,xs:12,md:3,className:t.flex},r.a.createElement(mt.a,{alt:"",src:a,className:t.avatar})),r.a.createElement(Ee.a,{item:!0,xs:12,md:9},r.a.createElement("div",{className:t.itemContainer},r.a.createElement(D.a,{variant:"h5",gutterBottom:!0},n),r.a.createElement(D.a,{gutterBottom:!0},i),r.a.createElement(D.a,{variant:"h6",gutterBottom:!0},o)))),r.a.createElement(B.a,{target:"_blank",href:c,className:t.instagram,rel:"noopener"},"RECENT WORK"))}}]),t}(n.Component),gt=Object(st.a)((function(e){return{paper:Object(O.a)({position:"relative",padding:e.spacing(3),color:e.palette.text.secondary,background:"linear-gradient(#f0e8e8, #e0d8d8)",height:300},e.breakpoints.down("sm"),{height:450}),avatar:Object(O.a)({width:100,height:100},e.breakpoints.up("sm"),{width:160,height:160}),flex:{display:"flex",alignItems:"center",justifyContent:"center"},itemContainer:Object(O.a)({display:"flex",flexDirection:"column",alignItems:"flex-start"},e.breakpoints.down("md"),{alignItems:"center"}),instagram:{position:"absolute",right:20,bottom:20}}}))(dt),pt=a(631),bt=a(651),ft=a(154),Et=a.n(ft),ht=a(153),vt=a.n(ht),yt=Object(k.a)((function(e){return{container:{maxWidth:"sm",paddingTop:20,paddingBottom:20},progress:{display:"flex",justifyContent:"center",padding:40},flex:{display:"flex",marginTop:10},grow:{flexGrow:1}}}));var Ot=Object(d.b)((function(e){return{availArtists:e.availArtists,selectedArtist:e.selectedArtist.order,bookingDateAddr:e.bookingDateAddr}}),(function(e){return{changeSelectedArtist:function(t){return e(we(t))}}}))((function(e){e.theme;var t=e.changeBookingStage,a=e.availArtists,i=e.selectedArtist,o=e.changeSelectedArtist,c=(e.bookingDateAddr,Object(n.useContext)(lt).artists),l=yt(),s=Object(n.useState)(i),u=Object(b.a)(s,2),m=u[0],d=u[1],g=Object(n.useState)(0),p=Object(b.a)(g,2),f=p[0],E=p[1],h=a.ids,v=a.isLoading,y=a.hasErr,O=!v&&h.length>0,k=!v&&!y&&0===h.length;return Object(n.useEffect)((function(){E(h.length)}),[v,h.length]),r.a.createElement(pt.a,{className:l.container},O&&r.a.createElement(r.a.Fragment,null,r.a.createElement(gt,{avatar:c[h[m]].photo,name:c[h[m]].name,title:c[h[m]].title,bio:c[h[m]].bio,hashtag:c[h[m]].hashtag}),r.a.createElement(bt.a,{steps:f,position:"static",variant:"text",activeStep:m,nextButton:r.a.createElement(ae.a,{size:"small",onClick:function(){d((function(e){return e+1}))},disabled:m===f-1},"Next artist",r.a.createElement(vt.a,null)),backButton:r.a.createElement(ae.a,{size:"small",onClick:function(){d((function(e){return e-1}))},disabled:0===m},r.a.createElement(Et.a,null),"Prev artist")})),v&&r.a.createElement("div",{className:l.progress},r.a.createElement(Le.a,{color:"primary"})),y&&r.a.createElement(D.a,{variant:"body1",align:"center",color:"textPrimary"},"Fetching error"),k&&r.a.createElement(D.a,{variant:"body1",align:"center",color:"textPrimary"},"Sorry, no artists are available"),r.a.createElement("div",{className:l.flex},r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){return t(0)}},"back"),r.a.createElement("div",{className:l.grow}),r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){o(m),t(2)},disabled:!O},"select this artist")))})),kt=a(652),jt=a(632),St=a(645);function wt(e){var t=["Select service","Select an artist","Confirm booking","Pay deposit"],a=e.activeStep;return r.a.createElement(pt.a,{maxWidth:"md",style:{paddingTop:20}},r.a.createElement(kt.a,{activeStep:a,alternativeLabel:!0},t.map((function(e){return r.a.createElement(jt.a,{key:e},r.a.createElement(St.a,null,e))}))),r.a.createElement(D.a,{variant:"h6",align:"center",gutterBottom:!0},function(e){switch(e){case 0:return"Select service items, time and location to find available artists";case 1:return"Select an artist for your booking";case 2:return"Confirm your booking details";case 3:return"Pay the deposit to secure your booking";default:return"Unknown stepIndex"}}(a)))}var _t=a(640),xt=a(641),Ct=a(653),At=a(633),Nt=a(634),Tt=a(638),It=a(636),Dt=a(635),Bt=a(295),Pt=a.n(Bt),Ft=a(294),Mt=a.n(Ft),Rt=a(296),Lt=a.n(Rt),Ut=a(297),Gt=a.n(Ut),Wt=a(298),zt=a.n(Wt),Yt=a(299),Ht=a.n(Yt),Vt=a(639),Kt=a(637),Qt=Object(k.a)((function(e){return{paper:{width:"100%",overflowX:"auto"},background:{backgroundColor:e.palette.primary.main},priceField:Object(O.a)({display:"none"},e.breakpoints.up("sm"),{display:"inline"}),priceEmbedded:Object(O.a)({display:"inline"},e.breakpoints.up("sm"),{display:"none"})}}));var qt=Object(d.b)((function(e){return{itemQty:e.itemQty}}),(function(e){return{incItemQty:function(t){return e(function(e){return{type:"INC_ITEM_QTY",itemId:e}}(t))},decItemQty:function(t){return e(function(e){return{type:"DEC_ITEM_QTY",itemId:e}}(t))}}}))((function(e){var t=e.theme,a=e.items,i=e.cat,o=e.organic,c=e.pensioner,l=e.itemQty,s=e.incItemQty,u=e.decItemQty,m=e.artistBooking,d=Qt(t),g=Object(n.useState)(!1),p=Object(b.a)(g,2),f=p[0],E=p[1];return r.a.createElement(ut.a,{className:d.paper},r.a.createElement(At.a,{size:"small","aria-label":"a dense table"},r.a.createElement(Nt.a,{className:d.background},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left",style:{width:"60%"}},i.name.toUpperCase(),r.a.createElement(x.a,{onClick:function(e){E(!f)},edge:"start"},f?r.a.createElement(Mt.a,null):r.a.createElement(Pt.a,null))),r.a.createElement(It.a,{align:"right",style:{width:"30%",padding:0}},r.a.createElement("div",{className:d.priceField},r.a.createElement(Lt.a,{fontSize:"small",color:"inherit"}))),r.a.createElement(It.a,{align:"right",style:{width:"10%"}},r.a.createElement(x.a,{color:"inherit"},r.a.createElement(Kt.a,{badgeContent:function(e,t){var a=0,n=!0,r=!1,i=void 0;try{for(var o,c=e.list[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;a+=t[l]?t[l]:0}}catch(s){r=!0,i=s}finally{try{n||null==c.return||c.return()}finally{if(r)throw i}}return a}(i,l),showZero:!0},r.a.createElement(Gt.a,null)))))),f?r.a.createElement(Tt.a,null,i.list.map((function(e){return r.a.createElement(Dt.a,{key:e},r.a.createElement(It.a,{align:"left",style:{width:"60%"}},a[e].description+(a[e].addOn?"*":""),r.a.createElement("div",{className:d.priceEmbedded}," - $"+((o?a[e].organicPrice:a[e].price)*(c?.8:1)).toFixed(2))),r.a.createElement(It.a,{align:"right",style:{width:"30%",padding:0}},r.a.createElement("div",{className:d.priceField},((o?a[e].organicPrice:a[e].price)*(c?.8:1)).toFixed(2))),a[e].onlineBooking||m?r.a.createElement(It.a,{align:"right",style:{width:"10%"}},r.a.createElement(Vt.a,null,r.a.createElement(ae.a,{variant:"text",startIcon:r.a.createElement(F.a,{fontSize:"small"}),onClick:function(){return s(e)}},l[e]?l[e]:0),r.a.createElement(x.a,{onClick:function(){return u(e)}},r.a.createElement(zt.a,{fontSize:"small"})))):r.a.createElement(It.a,{align:"center",style:{width:"10%"}},r.a.createElement(Ht.a,null)))}))):null))})),$t=a(620),Xt=a(619),Jt=a(648),Zt=a(571),ea=a(301),ta=a.n(ea),aa=a(300),na=a.n(aa),ra=Object(k.a)((function(e){return{container:{display:"flex",flexWrap:"wrap",padding:0,paddingBottom:20},textField:{width:"100%"}}})),ia={componentRestrictions:{country:"au"}};function oa(e){var t=e.address,a=e.changeAddr,n=ra();return r.a.createElement(na.a,{value:t,onChange:a,onSelect:a,searchOptions:ia},(function(e){var t=e.getInputProps,a=e.suggestions,i=e.getSuggestionItemProps,o=e.loading;return r.a.createElement(pt.a,{className:n.container},r.a.createElement($t.a,{className:n.textField},r.a.createElement(Jt.a,{htmlFor:"input-with-icon-adornment"},"Enter booking location"),r.a.createElement(Xt.a,Object.assign({},t({placeholder:"Booking location ..."}),{startAdornment:r.a.createElement(Zt.a,{position:"start"},r.a.createElement(ta.a,null))}))),r.a.createElement("div",null,o&&r.a.createElement("div",null,"Loading..."),a.map((function(e){var t=e.active?"suggestion-item--active":"suggestion-item",a=e.active?{backgroundColor:"#f0e0e0",cursor:"pointer"}:{backgroundColor:"white",cursor:"pointer"};return r.a.createElement("div",i(e,{className:t,style:a}),e.description)}))))}))}var ca=Object(k.a)((function(e){return{flex:{display:"flex"},grow:{flexGrow:1}}})),la=function(e){var t=e.theme,a=e.services,i=e.itemQty,o=e.onSubmit,c=e.organic,l=e.pensionerRate,s=e.bookingDate,u=e.bookingAddr,m=e.toggleOrganic,d=e.togglePensionerRate,g=e.submitBooking,p=e.getAvailArtist,f=e.changeSelectedArtist,E=e.artistBooking,h=e.newBooking,v=e.setManageState,y=ca(),O=a.items,k=a.cats,j=Object(n.useState)(s),S=Object(b.a)(j,2),w=S[0],_=S[1],x=Object(n.useState)(u),C=Object(b.a)(x,2),A=C[0],N=C[1];Object(n.useEffect)((function(){_(s),N(u)}),[u,s]);var T=function(e){_(e)},I=function(){for(var e=0,t=0,a=Object.keys(i);t<a.length;t++){var n=a[t],r=i[n];e+=O[n].timeOnsite*r}return w.getTime()+60*e*1e3},D=function(){var e=!0;return Object.keys(i).forEach((function(t){e=O[t].addOn&&e})),l&&1!==w.getDay()?(alert("Sorry, pensioner rate is only available on Mondays."),!1):!e||(alert("Sorry, add-on services* can not be booked on its own."),!1)};return r.a.createElement(pt.a,{maxWidth:"sm",style:{paddingTop:20,paddingBottom:50}},r.a.createElement(_t.a,{control:r.a.createElement(xt.a,{checked:l,onChange:function(){return d()},value:"pensionerRate",color:"primary"}),label:"Monday pensioner rate (less 20%)"}),r.a.createElement(_t.a,{control:r.a.createElement(xt.a,{checked:c,onChange:function(){return m()},value:"organic",color:"primary"}),label:"Use organic products"}),k.map((function(e){return r.a.createElement(qt,{theme:t,items:O,key:e.name,cat:e,organic:c,pensioner:l,artistBooking:E})})),r.a.createElement(Pe.a,{utils:Be.a},r.a.createElement(Ee.a,{container:!0,justify:"space-between"},r.a.createElement(Fe.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Select booking date",value:w,onChange:T,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(Ct.a,{margin:"normal",id:"time-picker",label:"Select booking time",value:w,onChange:T,KeyboardButtonProps:{"aria-label":"change time"}}))),r.a.createElement(oa,{address:A,changeAddr:function(e){N(e)}}),r.a.createElement("div",{className:y.flex},!h&&r.a.createElement(ae.a,{variant:"text",color:"primary",onClick:function(){v("Default")}},"Cancel"),r.a.createElement("div",{className:y.grow}),r.a.createElement(ae.a,{variant:"text",color:"primary",onClick:E?function(e){D()&&(g(w,new Date(I()),A),o(1))}:function(e){if(D()){g(w,new Date(I()),A);var t="https://procomhost.com/hotm_booking/api/v0.8/get_available_artists.php?date="+ct()(w).format("YYYY-MM-DD")+"&start_time="+ct()(w).format("HH:mm")+"&services="+Object.keys(i)+"&quantities="+Object.values(i)+"&event_addr="+A;p(t),f(0),o(1)}},size:"large",disabled:function(){for(var e=0,t=0,a=Object.keys(i);t<a.length;t++){var n=a[t];e+=i[n]}return!(e>0&&A&&w)}()},E?"Next":"Submit")))},sa=Object(d.b)((function(e){return{organic:e.priceFactors.organic,pensionerRate:e.priceFactors.pensionerRate,bookingDate:e.bookingDateAddr.bookingDate,bookingAddr:e.bookingDateAddr.bookingAddr,itemQty:e.itemQty}}),(function(e){return{toggleOrganic:function(){return e({type:"CHANGE_ORGANIC"})},togglePensionerRate:function(){return e({type:"CHANGE_PENSIONER_RATE"})},submitBooking:function(t,a,n){return e(function(e,t,a){return{type:"SUBMIT_BOOKING",bookingDate:e,bookingEnd:t,bookingAddr:a}}(t,a,n))},getAvailArtist:function(t){return e(function(e){return function(t){return t({type:"GET_AVAIL_ARTISTS"}),fetch(e).then((function(e){return e.json()}),(function(e){console.log("Artists fetching error"),t({type:"ERROR_AVAIL_ARTISTS"})})).then((function(e){t({type:"RECEIVE_AVAIL_ARTISTS",payload:e})}))}}(t))},changeSelectedArtist:function(t){return e(we(t))}}}))(la),ua=a(646),ma=a(649),da=a(119),ga=a.n(da),pa=Object(k.a)((function(e){return{paper:{padding:e.spacing(3),color:e.palette.text.secondary,background:"linear-gradient(#f0e8e8, #e0d8d8)",width:"100%",overflowX:"auto"},flex:{display:"flex",marginTop:10},grow:{flexGrow:1},background:{backgroundColor:e.palette.primary.main},priceField:Object(O.a)({display:"none"},e.breakpoints.up("sm"),{display:"inline"}),priceEmbedded:Object(O.a)({display:"inline"},e.breakpoints.up("sm"),{display:"none"}),acknowledge:{display:"flex",marginTop:20,alignItems:"flexStart"},inline:{display:"inline",paddingTop:0}}}));var ba=function(e){var t=e.bookingDate,a=e.bookingEnd,i=e.bookingAddr,o=e.artistId,c=e.items,l=e.itemQty,s=e.changeBookingStage,u=e.organic,m=e.pensioner,d=e.bookingValue,g=e.artists,p=Object(n.useState)(!1),f=Object(b.a)(p,2),E=f[0],h=f[1],v=Object(n.useState)(!1),y=Object(b.a)(v,2),O=y[0],k=y[1],j=Object(n.useState)(!1),S=Object(b.a)(j,2),w=S[0],_=S[1],x=pa(),C=Object.keys(l);return r.a.createElement(pt.a,{maxWidth:"sm",style:{paddingTop:20,paddingBottom:50}},r.a.createElement(ut.a,{className:x.paper},r.a.createElement(D.a,{variant:"subtitle1",align:"center",color:"textPrimary"},ct()(t).format("dddd, Do MMMM YYYY")),r.a.createElement(D.a,{variant:"subtitle1",align:"center",color:"textPrimary",gutterBottom:!0},ct()(t).format("LT")+" \u2013 "+ct()(a).format("LT")),r.a.createElement(At.a,{size:"small","aria-label":"a dense table"},r.a.createElement(Nt.a,{className:x.background},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left",style:{width:"70%"}},r.a.createElement("b",null,"Booking location")))),r.a.createElement(Tt.a,null,r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left"},i)))),r.a.createElement("br",null),r.a.createElement(At.a,{size:"small","aria-label":"a dense table"},r.a.createElement(Nt.a,{className:x.background},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left",style:{width:"70%"}},r.a.createElement("b",null,"Selected artist")))),r.a.createElement(Tt.a,null,r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left"},g[o].name)))),r.a.createElement("br",null),r.a.createElement(At.a,{size:"small","aria-label":"a dense table"},r.a.createElement(Nt.a,{className:x.background},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left",style:{width:"70%"}},r.a.createElement("b",null,"Services requested")),r.a.createElement(It.a,{align:"right",style:{width:"20%",padding:0}},r.a.createElement("div",{className:x.priceField},r.a.createElement("b",null,"Unit price"))),r.a.createElement(It.a,{align:"right",style:{width:"10%"}},r.a.createElement("b",null,"Qty")))),r.a.createElement(Tt.a,null,C.map((function(e){return r.a.createElement(Dt.a,{key:e},r.a.createElement(It.a,{align:"left",style:{width:"70%"}},c[e].description,r.a.createElement("div",{className:x.priceEmbedded}," - $"+((u?c[e].organicPrice:c[e].price)*(m?.8:1)).toFixed(2))),r.a.createElement(It.a,{align:"right",style:{width:"20%",padding:0}},r.a.createElement("div",{className:x.priceField},"$"+((u?c[e].organicPrice:c[e].price)*(m?.8:1)).toFixed(2))),r.a.createElement(It.a,{align:"right",style:{width:"10%"}},l[e]))})))),m?r.a.createElement(ma.a,{deleteIcon:r.a.createElement(ga.a,null),onDelete:function(){},label:"Monday pensioner rate",color:"primary",size:"small"}):null,u?r.a.createElement(ma.a,{deleteIcon:r.a.createElement(ga.a,null),onDelete:function(){},label:"Use organic products",color:"primary",size:"small"}):null,r.a.createElement("hr",null),r.a.createElement(D.a,{variant:"subtitle2",align:"right",color:"textPrimary"},"TOTAL (GST INCL): $"+d),r.a.createElement("div",{className:x.acknowledge},r.a.createElement(ua.a,{checked:E,onChange:function(e){h(!E)},value:"checkedDeposit",className:x.inline}),r.a.createElement(D.a,{variant:"body2",align:"left",color:"textPrimary"},"Please pay 30% of the requested services to secure your booking now.")),r.a.createElement("div",{className:x.acknowledge},r.a.createElement(ua.a,{checked:O,onChange:function(e){k(!O)},value:"checkedTerm",className:x.inline}),r.a.createElement(D.a,{variant:"body2",align:"left",color:"textPrimary"},"Please read and accept our \xa0"),r.a.createElement(B.a,{target:"_blank",href:"https://procomhost.com/terms-conditions/",rel:"noopener"},"Terms & Conditions.")),r.a.createElement("div",{className:x.acknowledge},r.a.createElement(ua.a,{checked:w,onChange:function(e){_(!w)},value:"checkedTerm",className:x.inline}),r.a.createElement(D.a,{variant:"body2",align:"left",color:"textPrimary"},"Customers are required to pay parking charges incurred while artists attend your booking. The incurred parking charges will be added onto the final invoice."))),r.a.createElement("div",{className:x.flex},r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){return s(1)}},"back"),r.a.createElement("div",{className:x.grow}),r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){return s(3)},disabled:!E||!O||!w},"confirm booking")))},fa=Object(d.b)((function(e){return{artistId:e.availArtists.ids[e.selectedArtist.order],bookingDate:e.bookingDateAddr.bookingDate,bookingEnd:e.bookingDateAddr.bookingEnd,bookingAddr:e.bookingDateAddr.bookingAddr,itemQty:e.itemQty,organic:e.priceFactors.organic,pensioner:e.priceFactors.pensionerRate}}),null)(ba),Ea=a(129),ha=Object(k.a)((function(){return{stripe:{marginTop:20,marginBottom:20}}}));var va=Object(Ea.injectStripe)((function(e){var t=e.loggedIn,a=e.stripe,i=e.handleCharge,o=e.payMessage,c=Object(n.useState)(""),l=Object(b.a)(c,2),s=l[0],u=l[1],m=ha(),d=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!a){e.next=8;break}return e.next=4,a.createToken();case 4:(n=e.sent).token?i(n.token):alert("Payment token creation failed"),e.next=9;break;case 8:console.log("Stripe.js hasn't loaded yet.");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:m.stripe},r.a.createElement("form",{onSubmit:d},r.a.createElement("label",null,"Card details",r.a.createElement(Ea.CardElement,Object.assign({onChange:function(e){var t=e.error;t&&u(t.message)}},{hidePostalCode:!0,style:{base:{letterSpacing:"0.025em","::placeholder":{color:"#aab7c4"}},invalid:{color:"#c23d4b"}}}))),r.a.createElement("div",{className:m.stripe,role:"alert"},s),r.a.createElement(ae.a,{variant:"contained",color:"primary",fullWidth:!0,type:"submit",disabled:!t},o)))}));function ya(e){var t=e.stripePublicKey,a=e.handleCharge,n=e.loggedIn,i=e.payMessage;return r.a.createElement(Ea.StripeProvider,{apiKey:t},r.a.createElement(Ea.Elements,null,r.a.createElement(va,{handleCharge:a,loggedIn:n,payMessage:i})))}function Oa(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Oa(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oa(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ja=Object(k.a)((function(e){return{paper:{padding:e.spacing(3),color:e.palette.text.secondary,background:"linear-gradient(#f0e8e8, #e0d8d8)",width:"100%",overflowX:"auto"},textField:{width:"100%"}}}));var Sa=function(e){e.theme;var t=e.changeBookingStage,a=e.depositPayable,i=e.resetBooking,o=e.addBooking,c=e.bookingInfo,l=e.items,s=e.itemQty,u=e.loggedIn,m=e.priceFactors,d=e.bookingValue,g=e.userId,p=e.userName,f=Object(n.useState)(""),E=Object(b.a)(f,2),h=E[0],v=E[1],y=ja(),O=function(){alert("Booking successful!"),i()},k=function(){var e=Object(te.a)(ee.a.mark((function e(t){var n,r;return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://boiling-shore-55046.herokuapp.com/charge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,description:p+"'s deposit for booking",amount:(100*a).toFixed(0)})});case 2:n=e.sent,console.log(n),r=ka({},c,{client_id:g,with_organic:m.organic?1:0,with_pensioner_rate:m.pensionerRate?1:0,unit_prices:Object.keys(s).map((function(e){return l[e].price})),total_amount:d,paid_amount:a,paid_type:"deposit",comment:h,status:""}),n.ok?o(r,O,a):alert("Stripe error. Please call to resolve this issue.");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(pt.a,{maxWidth:"sm",style:{paddingTop:20,paddingBottom:20}},r.a.createElement(ut.a,{className:y.paper},r.a.createElement(D.a,{variant:"body1",align:"left",color:"textPrimary",gutterBottom:!0},"Deposit payable: $ ",a.toString()),r.a.createElement(ya,{stripePublicKey:"pk_test_a0vfdte94kBhPrDqosS5OnPd00A0fS0egz",handleCharge:k,loggedIn:u,payMessage:"Pay"}),r.a.createElement(ne.a,{id:"outlined-textarea",label:"Additional instructions",placeholder:"Let us know about any allergies, preferences, entrances, or any details about your room number if you are staying in a hotel. If there's free street parking near the event, please advise.",multiline:!0,className:y.textField,margin:"normal",variant:"outlined",onChange:function(e){v(e.target.value)}})),r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){return t(2)}},"back"),r.a.createElement(je,{initOpen:!u}))},wa=Object(d.b)((function(e){return{bookingInfo:e.availArtists.recs[e.selectedArtist.order],priceFactors:e.priceFactors,itemQty:e.itemQty,userId:e.userInfo.id,userName:e.userInfo.firstName+" "+e.userInfo.lastName,loggedIn:e.userInfo.loggedIn}}),(function(e){return{resetBooking:function(){return e(_e())},addBooking:function(t,a){return e(xe(t,a))}}}))(Sa),_a=Object(E.f)((function(e){var t=e.bookingStage,a=e.changeBookingStage,i=e.resetBooking,o=e.services,c=e.theme,l=e.bookingValue,s=e.depositPayable,u=e.artists;return Object(n.useEffect)((function(){i()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(wt,{activeStep:t}),0===t?r.a.createElement(sa,{onSubmit:a,services:o,theme:c,newBooking:!0}):null,1===t?r.a.createElement(Ot,{changeBookingStage:a,theme:c}):null,2===t?r.a.createElement(fa,{changeBookingStage:a,theme:c,items:o.items,bookingValue:l,artists:u}):null,3===t?r.a.createElement(wa,{changeBookingStage:a,theme:c,items:o.items,bookingValue:l,depositPayable:s}):null)}));function xa(e){var t=e.activeStep,a=function(e){return e?["Select service","Add people","Payment"]:["Select service","Add people","Payment or Update"]}(e.newBooking);return r.a.createElement(pt.a,{maxWidth:"md",style:{paddingTop:20}},r.a.createElement(kt.a,{activeStep:t,alternativeLabel:!0},a.map((function(e){return r.a.createElement(jt.a,{key:e},r.a.createElement(St.a,null,e))}))),r.a.createElement(D.a,{variant:"h6",align:"center",gutterBottom:!0},function(e){switch(e){case 0:return"Select service items, time and location";case 1:return"Add artists and client to the booking";case 2:return"Payment";default:return"Unknown stepIndex"}}(t)))}var Ca=Object(k.a)((function(e){return{paper:{padding:e.spacing(3),color:e.palette.text.secondary,background:"linear-gradient(#f0e8e8, #e0d8d8)",width:"100%",overflowX:"auto"},flex:{display:"flex",marginTop:10},grow:{flexGrow:1},background:{backgroundColor:e.palette.primary.main},priceField:Object(O.a)({display:"none"},e.breakpoints.up("sm"),{display:"inline"}),priceEmbedded:Object(O.a)({display:"inline"},e.breakpoints.up("sm"),{display:"none"}),acknowledge:{display:"flex",marginTop:20,alignItems:"flexStart"},inline:{display:"inline",paddingTop:0}}}));var Aa=function(e){var t=e.saveBooking,a=e.assignedArtists,i=e.clientInfo,o=e.assignArtists,c=e.assignClient,l=e.bookingDate,s=e.bookingEnd,u=e.bookingAddr,m=e.items,d=e.itemQty,g=e.changeBookingStage,p=e.organic,f=e.pensioner,E=e.bookingValue,h=e.depositPayable,v=e.newBooking,y=e.artists,k=Object(n.useState)(a.map((function(e){return y[e]}))),j=Object(b.a)(k,2),S=j[0],w=j[1],_=Ca(),x=Object(n.useState)(!0),C=Object(b.a)(x,2),A=C[0],N=C[1],T=Object(n.useState)(i.client),I=Object(b.a)(T,2),B=I[0],P=I[1];Object(n.useEffect)((function(){S.length>0?N(!1):N(!0)}),[S]);var F=Object.keys(d);return r.a.createElement(pt.a,{maxWidth:"sm",style:{paddingTop:20,paddingBottom:50}},r.a.createElement(ut.a,{className:_.paper},r.a.createElement(D.a,{variant:"subtitle1",align:"center",color:"textPrimary"},ct()(l).format("dddd, Do MMMM YYYY")),r.a.createElement(D.a,{variant:"subtitle1",align:"center",color:"textPrimary",gutterBottom:!0},ct()(l).format("LT")+" \u2013 "+ct()(s).format("LT")),r.a.createElement(At.a,{size:"small","aria-label":"a dense table"},r.a.createElement(Nt.a,{className:_.background},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left",style:{width:"70%"}},r.a.createElement("b",null,"Booking location")))),r.a.createElement(Tt.a,null,r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left"},u)))),r.a.createElement("br",null),r.a.createElement(Re,{artists:y,multiArtists:!0,clearable:!0,setTags:w,tags:S,label:"Add artists"}),r.a.createElement("br",null),r.a.createElement(We,{setClient:P,client:B,label:"Add client"}),r.a.createElement("br",null),r.a.createElement(At.a,{size:"small","aria-label":"a dense table"},r.a.createElement(Nt.a,{className:_.background},r.a.createElement(Dt.a,null,r.a.createElement(It.a,{align:"left",style:{width:"70%"}},r.a.createElement("b",null,"Services requested")),r.a.createElement(It.a,{align:"right",style:{width:"20%",padding:0}},r.a.createElement("div",{className:_.priceField},r.a.createElement("b",null,"Unit price"))),r.a.createElement(It.a,{align:"right",style:{width:"10%"}},r.a.createElement("b",null,"Qty")))),r.a.createElement(Tt.a,null,F.map((function(e){return r.a.createElement(Dt.a,{key:e},r.a.createElement(It.a,{align:"left",style:{width:"70%"}},m[e].description,r.a.createElement("div",{className:_.priceEmbedded}," - $"+((p?m[e].organicPrice:m[e].price)*(f?.8:1)).toFixed(2))),r.a.createElement(It.a,{align:"right",style:{width:"20%",padding:0}},r.a.createElement("div",{className:_.priceField},"$"+((p?m[e].organicPrice:m[e].price)*(f?.8:1)).toFixed(2))),r.a.createElement(It.a,{align:"right",style:{width:"10%"}},d[e]))})))),f?r.a.createElement(ma.a,{deleteIcon:r.a.createElement(ga.a,null),onDelete:function(){},label:"Monday pensioner rate",color:"primary",size:"small"}):null,p?r.a.createElement(ma.a,{deleteIcon:r.a.createElement(ga.a,null),onDelete:function(){},label:"Use organic products",color:"primary",size:"small"}):null,r.a.createElement("hr",null),r.a.createElement(D.a,{variant:"subtitle2",align:"right",color:"textPrimary"},"TOTAL (GST INCL): $"+E)),r.a.createElement("div",{className:_.flex},r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){o(S.map((function(e){return Number(e.id)}))),c(B),g(0)}},"back"),r.a.createElement("div",{className:_.grow}),r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){o(S.map((function(e){return Number(e.id)}))),c(B);var e=ct()(l).format("HH:mm"),a=Object(O.a)({artist_id_list:S.map((function(e){return Number(e.id)})),booking_date:ct()(l).format("YYYY-MM-DD"),booking_time:e,booking_end_time:ct()(s).format("HH:mm"),artist_start_time:e,booking_id:v?null:i.bookingId,created_datetime:null,event_address:u,quantities:Object.values(d),services:Object.keys(d).map((function(e){return Number(e)})),unit_prices:Object.keys(d).map((function(e){return m[e].price})),status:null,time_on_site:(s-l)/1e3/60,travel_distance:0,travel_duration:0,client_id:B.id,with_organic:p?1:0,with_pensioner_rate:f?1:0,paid_balance_total:null,paid_deposit_total:null,total_amount:E,paid_amount:v?h:E-i.paid,paid_type:v?"deposit":"balance",comment:""},"status","");t(a),g(2)},disabled:A},"confirm booking")))},Na=(a(368),Object(d.b)((function(e){return{assignedArtists:e.assignedArtists,bookingDate:e.bookingDateAddr.bookingDate,bookingEnd:e.bookingDateAddr.bookingEnd,bookingAddr:e.bookingDateAddr.bookingAddr,itemQty:e.itemQty,organic:e.priceFactors.organic,pensioner:e.priceFactors.pensionerRate,clientInfo:e.clientInfo}}),(function(e){return{assignArtists:function(t){return e({type:"ASSIGN_ARTISTS",artistIds:t})},assignClient:function(t){return e(function(e){return{type:"ASSIGN_CLIENT",client:e}}(t))},saveBooking:function(t){return e(Ce(t))}}}))(Aa));function Ta(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ia(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ta(a,!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ta(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Da=Object(k.a)((function(e){return{paper:{padding:e.spacing(3),color:e.palette.text.secondary,background:"linear-gradient(#f0e8e8, #e0d8d8)",width:"100%",overflowX:"auto"},textField:{width:"100%",marginTop:30},flex:{display:"flex",marginTop:10},container:{display:"flex"},grow:{flexGrow:1}}}));var Ba=function(e){e.theme;var t=e.changeBookingStage,a=e.depositPayable,i=e.resetBooking,o=e.addBooking,c=e.updateBooking,l=e.bookingData,s=e.newBooking,u=e.manageState,m=e.setManageState,d=e.comment,g=Object(n.useState)(d),p=Object(b.a)(g,2),f=p[0],E=p[1],h=s||l.paid_amount>0,v=Da(),y=function(e){alert(e+" successful!"),i()},O=function(){var e=Object(te.a)(ee.a.mark((function e(t){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/charge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,description:s?"deposit for booking":"balance for booking",amount:(100*l.paid_amount).toFixed(0)})});case 2:e.sent.ok?s?o(Ia({},l,{comment:f}),(function(){return y("Booking")})):c(Ia({},l,{comment:f}),(function(){return y("Checkout")})):alert("Stripe error. Please call to resolve this issue.");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(pt.a,{maxWidth:"sm",style:{paddingTop:20,paddingBottom:20}},r.a.createElement(ut.a,{className:v.paper},s?r.a.createElement(D.a,{variant:"body1",align:"left",color:"textPrimary",gutterBottom:!0},"Deposit payable: $ ",a.toString()):r.a.createElement(D.a,{variant:"body1",align:"left",color:"textPrimary",gutterBottom:!0},"Balance payable: $ ",l.paid_amount.toString()),h&&r.a.createElement(ya,{stripePublicKey:"pk_test_a0vfdte94kBhPrDqosS5OnPd00A0fS0egz",handleCharge:O,loggedIn:!0,payMessage:"Client Pay"}),!s&&h&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:v.container},r.a.createElement("div",{className:v.grow}),r.a.createElement("p",null,"OR"),r.a.createElement("div",{className:v.grow})),r.a.createElement(ae.a,{variant:"contained",onClick:function(){c(Ia({},l,{paid_type:"cash",comment:f}),(function(){return y("Checkout")}))},color:"primary",fullWidth:!0},"Cash Pay")),r.a.createElement(ne.a,{id:"outlined-textarea",label:"Additional instructions",placeholder:"Any allergies, preferences, entrances, or any details about the room number if the client is staying in a hotel.",multiline:!0,value:f,className:v.textField,margin:"normal",variant:"outlined",onChange:function(e){E(e.target.value)}})),r.a.createElement("div",{className:v.flex},"Checkout"===u?r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){return m("Default")}},"Cancel"):r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){return t(1)}},"back"),r.a.createElement("div",{className:v.grow}),!s&&"Checkout"!==u&&h&&r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){c(Ia({},l,{paid_amount:0,paid_type:"none",comment:f}),(function(){return y("Update")}))}},"Update Booking")))},Pa=Object(d.b)((function(e){return{bookingData:e.storeActivation.bookingData,comment:e.clientInfo.comment}}),(function(e){return{resetBooking:function(){return e(_e())},addBooking:function(t,a){return e(xe(t,a))},updateBooking:function(t,a){return e(function(e,t){return{type:"UPDATE_BOOKING",payload:e,callMe:t}}(t,a))}}}))(Ba),Fa=Object(E.f)((function(e){var t,a=e.bookingStage,i=e.changeBookingStage,o=e.resetBooking,c=e.services,l=e.theme,s=e.bookingValue,u=e.depositPayable,m=e.artists,d=e.newBooking,g=e.manageState,p=e.setManageState;return Object(n.useEffect)((function(){d&&o()}),[]),r.a.createElement(r.a.Fragment,null,"Checkout"===g?null:r.a.createElement(xa,{activeStep:a,newBooking:d}),0===a?r.a.createElement(sa,{onSubmit:i,services:c,theme:l,artistBooking:!0,newBooking:d,setManageState:p}):null,1===a?r.a.createElement(Na,{changeBookingStage:i,theme:l,items:c.items,bookingValue:s,depositPayable:u,newBooking:d,artists:m}):null,2===a?r.a.createElement(Pa,(t={changeBookingStage:i,theme:l,items:c.items,bookingValue:s,depositPayable:u},Object(O.a)(t,"bookingValue",s),Object(O.a)(t,"newBooking",d),Object(O.a)(t,"manageState",g),Object(O.a)(t,"setManageState",p),t)):null)})),Ma=a(35),Ra=a(302),La=a.n(Ra);function Ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ga(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ua(Object(a),!0).forEach((function(t){Object(O.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Wa=Object(k.a)((function(e){return{paper:{padding:e.spacing(3),color:e.palette.text.secondary,background:"linear-gradient(#f0e8e8, #e0d8d8)",marginBottom:10},flex:{display:"flex",marginTop:10},grow:{flexGrow:1},progress:{display:"flex",justifyContent:"center",padding:40}}}));function za(e){var t=e.event,a=Wa(),n=0;return r.a.createElement(ut.a,{className:a.paper,elevation:6},r.a.createElement(D.a,{variant:"h6",align:"center",color:"textPrimary"},ct()(t.start).format("dddd, YYYY/MM/DD")),r.a.createElement(D.a,{variant:"h6",align:"center",color:"textPrimary",gutterBottom:!0},ct()(t.start).format("LT")+" \u2013 "+ct()(t.end).format("LT")),r.a.createElement("div",null,r.a.createElement(Ma.f,null),r.a.createElement("span",null,t.address)),r.a.createElement("div",null,r.a.createElement(Ma.h,null),r.a.createElement("span",null,t.client.name+" "),r.a.createElement(Ma.g,null),r.a.createElement("span",null,t.client.phone+" "),t.organic?r.a.createElement(La.a,{color:"primary"}):null),r.a.createElement("div",null,r.a.createElement("br",null),r.a.createElement(Ma.e,null),r.a.createElement("span",null,t.total+" "),r.a.createElement(Ma.i,null),r.a.createElement("span",null,t.artists.map((function(e){return e.name})).join(", ")),r.a.createElement("ul",null,t.serviceItems.map((function(e){return r.a.createElement("li",{key:n++},e)})))))}var Ya=function(e){var t=e.events,a=e.eventsFetched,i=e.changeBookingStage,o=e.setManageState,c=e.loadBooking,l=e.saveBooking,s=e.activeStep,u=e.setActiveStep,m=Wa(),d=Object(n.useContext)(lt).bookingsData.data,g=Object(n.useState)(0),p=Object(b.a)(g,2),f=p[0],E=p[1];Object(n.useEffect)((function(){E(t.length)}),[a,t.length]);return r.a.createElement(pt.a,{maxWidth:"sm",style:{paddingTop:20,paddingBottom:20}},!a&&r.a.createElement("div",{className:m.progress},r.a.createElement(Le.a,{color:"primary"})),a&&r.a.createElement(r.a.Fragment,null,t.length>0?r.a.createElement(r.a.Fragment,null,r.a.createElement(za,{event:t[s]}),r.a.createElement(bt.a,{steps:f,position:"static",variant:"text",activeStep:s,nextButton:r.a.createElement(ae.a,{size:"small",onClick:function(){u((function(e){return e+1}))},disabled:s===f-1},"Next event",r.a.createElement(vt.a,null)),backButton:r.a.createElement(ae.a,{size:"small",onClick:function(){u((function(e){return e-1}))},disabled:0===s},r.a.createElement(Et.a,null),"Prev event")}),r.a.createElement("div",{className:m.flex},r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){c(Ga({},d[t[s].id],{client:t[s].client})),i(0),o("Edit")}},"Edit"),r.a.createElement("div",{className:m.grow}),r.a.createElement(ae.a,{variant:"text",color:"primary",size:"large",onClick:function(){var e=t[s].id,a=d[e];c(Ga({},a,{client:t[s].client})),l(Ga({},a,{paid_type:"balance",paid_amount:a.total_amount-a.paid_amount})),i(2),o("Checkout")}},"Checkout"))):r.a.createElement(D.a,{variant:"h6",align:"center",color:"textPrimary"},"No booking found")))},Ha=Object(d.b)(null,(function(e){return{loadBooking:function(t){return e(function(e){return{type:"LOAD_BOOKING",booking:e}}(t))},saveBooking:function(t){return e(Ce(t))}}}))(Ya),Va=Object(E.f)((function(e){var t=e.events,a=e.eventsFetched,i=e.setActivateBookings,o=e.bookingStage,c=e.changeBookingStage,l=e.services,s=e.bookingValue,u=e.depositPayable,m=e.artists,d=Object(n.useState)("Default"),g=Object(b.a)(d,2),p=g[0],f=g[1],E=Object(n.useState)(0),h=Object(b.a)(E,2),v=h[0],y=h[1];return Object(n.useEffect)((function(){return i(!0),function(){i(!1)}}),[]),r.a.createElement(r.a.Fragment,null,"Default"===p?r.a.createElement(Ha,{events:t,eventsFetched:a,changeBookingStage:c,setManageState:f,activeStep:v,setActiveStep:y}):null,"Edit"===p||"Checkout"===p?r.a.createElement(Fa,{bookingStage:o,changeBookingStage:c,services:l,bookingValue:s,depositPayable:u,artists:m,newBooking:!1,manageState:p,setManageState:f}):null)})),Ka=Object(d.b)(null,(function(e){return{setActivateBookings:function(t){return e(function(e){return{type:"ACTIVATE_BOOKINGS",val:e}}(t))}}}))(Va);var Qa=a(128),qa=a(305),$a=a.n(qa),Xa=(a(560),a(306)),Ja=$a()(Qa.a),Za={month:{event:function(e){var t=e.event;return r.a.createElement("div",{className:"rbc-event-label"},r.a.createElement("span",null,ct()(t.start).format("LT")+" \u2013 "+ct()(t.end).format("LT")+" "),r.a.createElement(Ma.e,null),r.a.createElement("span",null,t.total+" "),r.a.createElement("span",null,t.artistNames))}},day:{event:function(e){var t=e.event;return r.a.createElement("div",{className:"rbc-event-label"},r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma.f,null),r.a.createElement("span",null,t.address)),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma.h,null),r.a.createElement("span",null,t.client.name+" "),r.a.createElement(Ma.g,null),r.a.createElement("span",null,t.client.phone+" ")),r.a.createElement(r.a.Fragment,null,r.a.createElement(Ma.e,null),r.a.createElement("span",null,t.total+" "),r.a.createElement("span",null,t.artistNames),t.serviceItems.map((function(e){return r.a.createElement("div",null,e)}))))}}},en=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(Ja,{style:{height:"95vh",width:"100%",margin:"auto"},popup:!0,localizer:this.props.localizer,events:this.props.events,components:Za,resizable:!0,onDragStart:console.log,views:["month","day"],defaultView:Qa.b.MONTH,defaultDate:new Date,scrollToTime:new Date(2019,1,1,6),messages:{month:r.a.createElement(Ma.a,null),day:r.a.createElement(Ma.b,null),previous:r.a.createElement(Ma.c,null),next:r.a.createElement(Ma.d,null),showMore:function(e){return r.a.createElement(r.a.Fragment,null,"+".concat(e," "),r.a.createElement(Xa.a,null))},noEventsInRange:"There are no bookings in this range."}})}}]),t}(r.a.Component),tn=(a(561),a(562),Object(Qa.c)(ct.a)),an=Object(E.f)((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.a,{maxWidth:"xl",style:{padding:10}},r.a.createElement(en,{events:e.events,localizer:tn})))})),nn=function(e){var t=e.theme,a=e.bookingStage,i=e.changeBookingStage,o=e.resetBooking,c=e.priceFactors,l=e.itemQty,s=e.loggedIn,u=e.isArtist,m=Object(n.useContext)(lt),d=m.services,g=m.servicesFetched,p=m.events,h=m.eventsFetched,O=m.artists,k=Object(n.useState)(0),j=Object(b.a)(k,2),S=j[0],w=j[1],_=Object(n.useState)(0),x=Object(b.a)(_,2),C=x[0],A=x[1];return Object(n.useEffect)((function(){w(it(d.items,c,l)),A((.3*S).toFixed(2))}),[d.items,c,l,S]),r.a.createElement(f.a,null,r.a.createElement(v,null,r.a.createElement(y.a,null),r.a.createElement(qe,{bookingValue:S,loggedIn:s,isArtist:u,artists:O}),r.a.createElement(n.Suspense,{fallback:r.a.createElement(Le.a,null)},g&&r.a.createElement(E.c,null,r.a.createElement(E.a,{exact:!0,path:"/",render:function(){return r.a.createElement(_a,{theme:t,services:d,bookingStage:a,changeBookingStage:i,bookingValue:S,depositPayable:C,artists:O,resetBooking:o})}}),r.a.createElement(E.a,{exact:!0,path:"/artist",render:function(){return r.a.createElement(Fa,{theme:t,services:d,bookingStage:a,changeBookingStage:i,bookingValue:S,depositPayable:C,artists:O,newBooking:!0,resetBooking:o})}}),r.a.createElement(E.a,{path:"/manage",render:function(){return r.a.createElement(Ka,{events:p,eventsFetched:h,services:d,bookingStage:a,changeBookingStage:i,bookingValue:S,depositPayable:C,artists:O})}}),r.a.createElement(E.a,{path:"/calendar",render:function(){return r.a.createElement(an,{events:p})}})))))},rn=Object(d.b)((function(e){return{priceFactors:e.priceFactors,itemQty:e.itemQty,artists:e.artists,clients:e.clients,bookings:e.bookings,bookingStage:e.bookingStage.stage,loggedIn:e.userInfo.loggedIn,isArtist:e.userInfo.isArtist}}),(function(e){return{changeBookingStage:function(t){return e(function(e){return{type:"CHANGE_BOOKING_STAGE",stage:e}}(t))},resetBooking:function(){return e(_e())}}}))(nn),on=a(101),cn=a(307),ln={organic:!1,pensionerRate:!1};var sn={bookingDate:null,bookingEnd:null,bookingAddr:""};var un={client:null,comment:"",balance:null,paid:null,bookingId:null};var mn={ids:[],recs:[],isLoading:!1,hasErr:!1};var dn={servicesActive:!0,artistsActive:!0,bookingsActive:!1,bookingTrigger:!1,requestMethod:"get",data:{},callMe:null,bookingData:{}};var gn=new Date,pn={fromDate:new Date,toDate:gn.setDate(gn.getDate()+7),artist:null,client:null};var bn={firstName:"",lastName:"",nickName:"",email:"",id:"",phone:"",loggedIn:!1,isArtist:!1};var fn=Object(on.c)({priceFactors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ln,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_ORGANIC":return Object.assign({},e,{organic:!e.organic});case"CHANGE_PENSIONER_RATE":return Object.assign({},e,{pensionerRate:!e.pensionerRate});case"LOAD_BOOKING":return Object.assign({},{organic:1===t.booking.with_organic,pensionerRate:1===t.booking.with_pensioner_rate});case Se:return ln;default:return e}},bookingDateAddr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUBMIT_BOOKING":return{bookingDate:t.bookingDate,bookingEnd:t.bookingEnd,bookingAddr:t.bookingAddr};case"LOAD_BOOKING":var a=t.booking;return{bookingDate:new Date(a.booking_date+" "+a.booking_time+":00"),bookingEnd:new Date(a.booking_date+" "+a.booking_end_time+":00"),bookingAddr:a.event_address};case Se:return sn;default:return e}},bookingStage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stage:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_BOOKING_STAGE":return Object.assign({},e,{stage:t.stage});case Se:return{stage:0};default:return e}},selectedArtist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_ARTIST":return Object.assign({},e,{order:t.order});case Se:return{order:0};default:return e}},assignedArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ASSIGN_ARTISTS":return t.artistIds;case"LOAD_BOOKING":return t.booking.artist_id_list;case Se:return[];default:return e}},clientInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:un,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_BOOKING":return Object.assign({},{client:t.booking.client,comment:t.booking.comment,balance:t.booking.total_amount-t.booking.paid_amount,paid:t.booking.paid_amount,bookingId:t.booking.booking_id});case"ASSIGN_CLIENT":return Object.assign({},e,{client:t.client});case Se:return un;default:return e}},availArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AVAIL_ARTISTS":return Object.assign({},e,{ids:[],recs:[],isLoading:!0,hasErr:!1});case"RECEIVE_AVAIL_ARTISTS":var a=[],n=t.payload,r=!0,i=!1,o=void 0;try{for(var c,l=n[Symbol.iterator]();!(r=(c=l.next()).done);r=!0){var s=c.value;a.push(s.artist_id_list[0])}}catch(u){i=!0,o=u}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}return Object.assign({},e,{isLoading:!1,hasErr:!1,ids:a,recs:n});case"ERROR_AVAIL_ARTISTS":return Object.assign({},e,{ids:[],recs:[],isLoading:!1,hasErr:!0});case Se:return mn;default:return e}},itemQty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=0,n=t.itemId;switch(n in e&&(a=e[n]),t.type){case"INC_ITEM_QTY":return a+=1,Object.assign({},e,Object(O.a)({},n,a));case"DEC_ITEM_QTY":if(a>0&&(a-=1),a>0)return Object.assign({},e,Object(O.a)({},n,a));var r=Object.assign({},e);return delete r[n],Object.assign({},r);case"LOAD_BOOKING":for(var i=t.booking.services,o=t.booking.quantities,c={},l=0;l<i.length;l++)c[i[l].toString()]=o[l];return Object.assign({},c);case Se:return{};default:return e}},storeActivation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVATE_BOOKINGS":return Object.assign({},e,{bookingsActive:t.val,requestMethod:"get"});case"SEARCH_BOOKING":return Object.assign({},e,{bookingsActive:!0,requestMethod:"get",bookingTrigger:!e.bookingTrigger});case"ADD_BOOKING":return Object.assign({},e,{bookingsActive:!0,requestMethod:"post",data:t.payload,bookingTrigger:!e.bookingTrigger,callMe:t.callMe});case"UPDATE_BOOKING":return Object.assign({},e,{bookingsActive:!0,requestMethod:"put",data:t.payload,bookingTrigger:!e.bookingTrigger,callMe:t.callMe});case"SAVE_BOOKING":return Object.assign({},e,{bookingData:t.payload});case Se:return dn;default:return e}},bookingFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FROM_DATE":return Object.assign({},e,{fromDate:t.val});case"SET_TO_DATE":return Object.assign({},e,{toDate:t.val});case"SET_ARTIST":return Object.assign({},e,{artist:t.val});case"SET_CLIENT":return Object.assign({},e,{client:t.val});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object.assign({},e,{firstName:t.payload.firstName,lastName:t.payload.lastName,nickName:t.payload.nickName,email:t.payload.email,id:t.payload.id,loggedIn:t.payload.loggedIn,isArtist:t.payload.isArtist});case"SIGN_OUT":return Object.assign({},bn);default:return e}}}),En=Object(on.d)(fn,Object(on.a)(cn.a)),hn=Object(d.b)((function(e){return{storeCtrl:e.storeActivation,bookingFilter:e.bookingFilter}}),null)((function(e){var t=e.children,a=e.storeCtrl,i=e.bookingFilter,o=a.servicesActive,c=a.artistsActive,l=a.bookingsActive,s=a.requestMethod,u=a.data,m=a.callMe,d=a.bookingTrigger,g=i.fromDate,p=i.toDate,f=i.artist?i.artist.id:null,E=i.client?i.client.id:null,h=Object(n.useState)(function(e,t){return new String(se+"?from_date="+ct()(e).format("YYYY-MM-DD")+"&to_date="+ct()(t).format("YYYY-MM-DD"))}(g,p)),v=Object(b.a)(h,2),y=v[0],O=v[1],k=Object(n.useState)({}),j=Object(b.a)(k,2),S=j[0],w=j[1],_=Object(n.useState)(!1),x=Object(b.a)(_,2),C=x[0],A=x[1],N=Object(n.useState)({}),T=Object(b.a)(N,2),I=T[0],D=T[1],B=Object(n.useState)(!1),P=Object(b.a)(B,2),F=P[0],M=P[1],R=Object(n.useState)([]),L=Object(b.a)(R,2),U=L[0],G=L[1],W=Object(n.useState)(!1),z=Object(b.a)(W,2),Y=z[0],H=z[1],V=Object(n.useState)([]),K=Object(b.a)(V,2),Q=K[0],q=K[1],$=Object(n.useState)(!1),X=Object(b.a)($,2),J=X[0],Z=X[1],ee=Object(n.useState)({}),te=Object(b.a)(ee,2),ae=te[0],ne=te[1],re=Ze("https://procomhost.com/hotm_booking/api/v0.8/services",[],o);Object(n.useEffect)((function(){0!==re.data.length&&(w(function(e){for(var t={},a=[],n=0;n<e.length;n++){for(var r=Object.values(e[n].data),i=[],o=0;o<r.length;o++){var c=r[o].id.toString();i.push(c),t[c]={cat:n,description:r[o].description,price:r[o].sale_price,organicPrice:r[o].organic_add_price,timeOnsite:r[o].time_on_site,onlineBooking:1===r[o].online_booking,addOn:1===r[o].add_on}}a.push({name:e[n].cat,list:i})}return{items:t,cats:a}}(re.data)),A(!0))}),[re.isLoading,re.data]);var ie=Ze("https://procomhost.com/hotm_booking/api/v0.8/artists",[],c);Object(n.useEffect)((function(){var e=new String(se+"?from_date="+ct()(g).format("YYYY-MM-DD"));e=e+"&to_date="+ct()(p).format("YYYY-MM-DD"),f&&(e=e+"&artist_id="+f.toString()),E&&(e=e+"&client_id="+E.toString()),O(e)}),[g,p,f,E]),Object(n.useEffect)((function(){0!==ie.data.length&&(D(function(e){for(var t={},a=0;a<e.length;a++)t[e[a].id.toString()]={id:e[a].id,name:e[a].name,state:e[a].state,photo:e[a].photo,title:e[a].title,bio:e[a].bio,hashtag:e[a].hashtag?e[a].hashtag.replace("#",""):"haironthemove2u"};return t}(ie.data)),M(!0))}),[ie.isLoading,ie.data]);var oe=rt(y,{},l,s,u,m,d);return Object(n.useEffect)((function(){0!==oe.data.length&&q(function(e){var t=[];for(var a in e){var n=e[a].client_id;t.includes(n)||t.push(n)}return t}(oe.data))}),[oe.isLoading,oe.data]),Object(n.useEffect)((function(){Q.length>0&&Promise.allSettled(Q.map((function(e){var t={method:"get",headers:{Authorization:me},url:ue+"/"+e};return ge()(t)}))).then((function(e){var t={};e.forEach((function(e){if("fulfilled"===e.status){var a=e.value.data,n=a.id;t[n.toString()]={id:n,name:a.name,phone:a.meta.billing_phone[0]}}})),ne(t),Z(!J)}))}),[Q]),Object(n.useEffect)((function(){F&&C&&(G(function(e,t,a,n){var r=[];for(var i in e){var o=[],c=0,l=e[i];if(t[l.artist_id_list[0]]&&a[l.client_id]){for(var s={},u={organic:l.with_organic,pensionerRate:l.with_pensioner_rate},m=0;m<l.services.length;m++)n[l.services[m]]&&(o.push(n[l.services[m]].description+" Qty "+l.quantities[m]),s[l.services[m]]=l.quantities[m]);c=it(n,u,s),r.push({id:l.booking_id,start:new Date(l.booking_date+" "+l.booking_time+":00"),end:new Date(l.booking_date+" "+l.booking_end_time+":00"),address:l.event_address,artists:l.artist_id_list.map((function(e){return t[e]})),artistNames:l.artist_id_list.map((function(e){return t[e].name})).join(", "),client:a[l.client_id],organic:l.with_organic,serviceItems:o,total:c})}}return r}(oe.data,I,ae,S.items)),H(!0))}),[J,ae]),r.a.createElement(lt.Provider,{value:{services:S,servicesFetched:C,events:U,eventsFetched:Y,artists:I,artistsFetched:F,bookingsData:oe}},t)})),vn=Object(p.a)({palette:{primary:{main:"#f18383"},secondary:{main:"#000"}}}),yn=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:En},r.a.createElement(g.a,{theme:vn},r.a.createElement(hn,null,r.a.createElement(rn,{theme:vn}))))}}]),t}(n.Component),On=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function kn(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(yn,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hotm",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hotm","/service-worker.js");On?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):kn(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):kn(t,e)}))}}()}},[[328,1,2]]]);
//# sourceMappingURL=main.a9283611.chunk.js.map