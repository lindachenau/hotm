(this.webpackJsonphotm=this.webpackJsonphotm||[]).push([[3],{132:function(e,t,n){e.exports=n.p+"static/media/logo.a36b5832.png"},133:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(0),r=n.n(a),i=n(99),o=n(159);function c(e){var t=e.tags,n=e.setTags,a=e.multiArtists,c=e.clearable,s=e.artists,l=e.label,u=Object.values(s).sort((function(e,t){var n=e.state.toUpperCase()+e.name,a=t.state.toUpperCase()+t.name;return n<a?-1:n>a?1:0}));return r.a.createElement(o.a,{multiple:a,id:"artist-list",disableClearable:c,filterSelectedOptions:!0,options:u,groupBy:function(e){return e.state.toUpperCase()},getOptionLabel:function(e){return e.name},value:t,onChange:function(e,t){n(t)},renderInput:function(e){return r.a.createElement(i.a,Object.assign({},e,{variant:"outlined",placeholder:"Artist name",label:l,fullWidth:!0}))}})}},135:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(18),r=n(12),i=n.n(r),o=n(6),c=n(0),s=n.n(c),l=n(99),u=n(159),d=n(209),g=n(16),m=n(19),f=n.n(m);function b(e){var t=e.client,n=e.setClient,r=e.label,m=Object(c.useState)(!1),b=Object(o.a)(m,2),p=b[0],h=b[1],v=Object(c.useState)(null!==t?[t]:[]),E=Object(o.a)(v,2),O=E[0],j=E[1],k=Object(c.useState)(""),y=Object(o.a)(k,2),_=y[0],S=y[1],w=p&&_.length>=3,C=Object(c.useState)(!1),T=Object(o.a)(C,2),A=T[0],I=T[1];Object(c.useEffect)((function(){w&&!A&&function(){var e,t;i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e={method:"get",headers:{Authorization:g.a},url:"".concat(g.o,"?search=").concat(_)},I(!0),n.next=4,i.a.awrap(f()(e));case 4:t=n.sent,j(t.data.map((function(e){return{id:e.id,name:e.name,phone:e.meta.billing_phone[0]}}))),I(!1);case 7:case"end":return n.stop()}}))}()}),[_,w]);return s.a.createElement(u.a,{id:"asynchronous-client",open:p,onOpen:function(){h(!0)},onClose:function(){h(!1),S(""),j([])},getOptionLabel:function(e){return"".concat(e.name," - ").concat(e.phone)},options:O,loading:A,value:t,onChange:function(e,t){n(t)},onInputChange:function(e,t,n){"input"===n?S(t):"clear"===n&&S("")},renderInput:function(e){return s.a.createElement(l.a,Object.assign({},e,{label:r,fullWidth:!0,variant:"outlined",placeholder:"Client name or username",InputProps:Object(a.a)({},e.InputProps,{endAdornment:s.a.createElement(s.a.Fragment,null,A?s.a.createElement(d.a,{color:"inherit",size:20}):null,e.InputProps.endAdornment)})}))}})}},137:function(e,t,n){"use strict";var a=n(32),r=n(63),i=n(12),o=n.n(i),c=n(6),s=n(26),l=n(0),u=n.n(l),d=n(83),g=n(99),m=n(203),f=n(208),b=n(207),p=n(29),h=n(16),v=n(19),E=n.n(v),O=n(253),j=Object(p.a)((function(){return{container1:{display:"flex",margin:20},grow:{flexGrow:1},container2:{display:"flex",flexDirection:"column",alignContent:"center"},button:{display:"flex",marginLeft:15,marginRight:15,marginTop:20,marginBottom:20}}}));function k(e){var t=e.triggerOpen,n=Object(l.useState)(!1),a=Object(c.a)(n,2),r=a[0],i=a[1],s=Object(l.useRef)(!1),p=Object(l.useState)(""),v=Object(c.a)(p,2),k=v[0],y=v[1],_=j();Object(l.useEffect)((function(){s.current?i(!0):s.current=!0}),[t]);return u.a.createElement(m.a,{open:r},u.a.createElement(b.a,null,u.a.createElement(O.a,null,"To reset password, please enter your username or email."),u.a.createElement(g.a,{autoFocus:!0,margin:"dense",label:"username or email",type:"userLogin",fullWidth:!0,onChange:function(e){y(e.target.value)}})),u.a.createElement(f.a,{className:_.button},u.a.createElement(d.a,{variant:"contained",onClick:function(){i(!1)},color:"primary",fullWidth:!0},"Cancel"),u.a.createElement(d.a,{variant:"contained",onClick:function(){var e,t;return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=h.j+k,n.next=3,o.a.awrap(E()(e));case 3:200===(t=n.sent).status&&"ok"===t.data.status?(alert("An email to reset your password has been sent to you."),i(!1)):alert("username or email not found");case 5:case"end":return n.stop()}}))},color:"primary",fullWidth:!0},"Submit")))}var y=n(257),_=n(132),S=Object(p.a)((function(e){return{container1:{display:"flex",margin:20},grow:{flexGrow:1},button1:{marginLeft:15,marginRight:15,marginTop:10,marginBottom:10},logo:Object(s.a)({maxWidth:"50%",width:"auto",height:"auto"},e.breakpoints.down("sm"),{maxHeight:120})}}));function w(e){var t=e.triggerOpen,n=e.signinUser,a=Object(l.useState)(!1),r=Object(c.a)(a,2),i=r[0],s=r[1],p=Object(l.useRef)(!1),v=Object(l.useState)(""),O=Object(c.a)(v,2),j=O[0],k=O[1],w=Object(l.useState)(""),C=Object(c.a)(w,2),T=C[0],A=C[1],I=Object(l.useState)(""),x=Object(c.a)(I,2),N=x[0],D=x[1],F=Object(l.useState)(""),M=Object(c.a)(F,2),R=M[0],U=M[1],L=Object(l.useState)(""),B=Object(c.a)(L,2),W=B[0],P=B[1],G=Object(l.useState)(""),H=Object(c.a)(G,2),Y=H[0],q=H[1],V=Object(l.useState)(""),K=Object(c.a)(V,2),z=K[0],Q=K[1],J=Object(l.useState)(""),$=Object(c.a)(J,2),X=$[0],Z=$[1],ee=Object(l.useState)(""),te=Object(c.a)(ee,2),ne=te[0],ae=te[1],re=Object(l.useState)(""),ie=Object(c.a)(re,2),oe=ie[0],ce=ie[1],se=Object(l.useState)(""),le=Object(c.a)(se,2),ue=le[0],de=le[1],ge=S(),me=Object(l.useState)(!0),fe=Object(c.a)(me,2),be=fe[0],pe=fe[1];Object(l.useEffect)((function(){pe(""===j||""===T||""===N||""===R||""===W||""===ue)}),[j,T,N,R,W,ue]),Object(l.useEffect)((function(){p.current?s(!0):p.current=!0}),[t]);return u.a.createElement(m.a,{open:i,onBackdropClick:function(){return s(!1)}},u.a.createElement("div",{className:ge.container1},u.a.createElement("div",{className:ge.grow}),u.a.createElement("img",{className:ge.logo,src:_,alt:"Hair on the move logo"}),u.a.createElement("div",{className:ge.grow})),u.a.createElement(b.a,null,u.a.createElement(y.a,{container:!0},u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{autoFocus:!0,required:!0,margin:"dense",label:"username",type:"username",fullWidth:!0,onChange:function(e){k(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{required:!0,margin:"dense",label:"password",type:"password",fullWidth:!0,onChange:function(e){A(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:12},u.a.createElement(g.a,{required:!0,margin:"dense",label:"email",type:"email",fullWidth:!0,onChange:function(e){D(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{required:!0,margin:"dense",label:"first name",type:"firstname",fullWidth:!0,onChange:function(e){U(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{required:!0,margin:"dense",label:"last name",type:"lastname",fullWidth:!0,onChange:function(e){P(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:12},u.a.createElement(g.a,{margin:"dense",label:"company",type:"company",fullWidth:!0,onChange:function(e){q(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:12},u.a.createElement(g.a,{margin:"dense",label:"address",type:"address",fullWidth:!0,onChange:function(e){Q(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{margin:"dense",label:"city",type:"city",fullWidth:!0,onChange:function(e){Z(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{margin:"dense",label:"postcode",type:"postcode",fullWidth:!0,onChange:function(e){ce(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{margin:"dense",label:"state abbr.",type:"state",fullWidth:!0,onChange:function(e){ae(e.target.value)}})),u.a.createElement(y.a,{item:!0,xs:6},u.a.createElement(g.a,{required:!0,margin:"dense",label:"phone",type:"phone",fullWidth:!0,onChange:function(e){de(e.target.value)}})))),u.a.createElement(f.a,{className:ge.button1},u.a.createElement(d.a,{variant:"contained",onClick:function(){var e,t,a,r,i,c,l,u,d,g;return o.a.async((function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,o.a.awrap(E()(h.h));case 2:if(200!==(e=m.sent).status||"ok"!==e.data.status){m.next=38;break}return t=e.data.nonce,(a=new FormData).set("username",j),a.set("user_pass",T),a.set("email",N),a.set("display_name","".concat(R," ").concat(W)),a.set("nonce",t),r={method:"post",headers:{"Content-Type":"multipart/form-data"},url:h.i,data:a},m.next=14,o.a.awrap(E()(r));case 14:if(200!==(i=m.sent).status||"ok"!==i.data.status){m.next=35;break}return c=i.data.cookie,l=i.data.user_id,(u=new FormData).set("cookie",c),u.set("billing_firstname",R),u.set("billing_lastname",W),u.set("billing_company",Y),u.set("billing_address_1",z),u.set("billing_city",X),u.set("billing_state",ne),u.set("billing_postcode",oe),u.set("billing_phone",ue),d={method:"post",headers:{"Content-Type":"multipart/form-data"},url:h.n,data:u},m.next=31,o.a.awrap(E()(d));case 31:200===(g=m.sent).status&&"ok"===g.data.status?(n({firstName:R,lastName:W,nickName:R,email:N,id:l,loggedIn:!0}),alert("You are now registered for HOTM online booking!"),s(!1)):alert(g.data.error),m.next=36;break;case 35:alert(i.data.error);case 36:m.next=39;break;case 38:alert(e.data.error);case 39:case"end":return m.stop()}}))},color:"primary",fullWidth:!0,disabled:be},"Submit")))}var C=n(132),T=Object(p.a)((function(e){return{container1:{display:"flex",margin:20},container2:{display:"flex"},grow:{flexGrow:1},button1:{marginLeft:15,marginRight:15,marginTop:20},button2:{marginLeft:15,marginRight:15,marginTop:20,marginBottom:20},logo:Object(s.a)({maxWidth:"50%",width:"auto",height:"auto"},e.breakpoints.down("sm"),{maxHeight:120})}}));t.a=Object(a.b)(null,(function(e){return{signinUser:function(t){return e(Object(r.c)(t))}}}))((function(e){var t=e.theme,n=e.triggerOpen,a=e.signinUser,r=e.initOpen,i=Object(l.useState)(!1),s=Object(c.a)(i,2),p=s[0],v=s[1],O=Object(l.useRef)(!1),j=Object(l.useState)(""),y=Object(c.a)(j,2),_=y[0],S=y[1],A=Object(l.useState)(""),I=Object(c.a)(A,2),x=I[0],N=I[1],D=Object(l.useState)(!1),F=Object(c.a)(D,2),M=F[0],R=F[1],U=Object(l.useState)(!1),L=Object(c.a)(U,2),B=L[0],W=L[1],P=T(t);return Object(l.useEffect)((function(){O.current?v(!0):(O.current=!0,v(r))}),[n,r]),u.a.createElement(u.a.Fragment,null,u.a.createElement(m.a,{open:p,onBackdropClick:function(){return v(!1)}},u.a.createElement("div",{className:P.container1},u.a.createElement("div",{className:P.grow}),u.a.createElement("img",{className:P.logo,src:C,alt:"Hair on the move logo"}),u.a.createElement("div",{className:P.grow})),u.a.createElement(b.a,null,u.a.createElement(g.a,{autoFocus:!0,margin:"dense",label:"username or email",type:"username",fullWidth:!0,onChange:function(e){S(e.target.value)}}),u.a.createElement(g.a,{margin:"dense",label:"password",type:"password",fullWidth:!0,onChange:function(e){N(e.target.value)}})),u.a.createElement(f.a,{className:P.button1},u.a.createElement(d.a,{variant:"contained",onClick:function(){var e,t,n,r,i,c;return o.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:return(e=new FormData).set("username",_),e.set("password",x),t={method:"post",headers:{"Content-Type":"multipart/form-data"},url:h.c,data:e},s.next=6,o.a.awrap(E()(t));case 6:200===(n=s.sent).status&&n.data.user?(r=n.data.user,i=!1,r.capabilities.staff_members&&(i=!0),c={firstName:r.firstname,lastName:r.lastname,nickName:r.nickname,email:r.email,id:r.id,loggedIn:!0,isArtist:i},a(c),v(!1)):alert("login failed");case 8:case"end":return s.stop()}}))},color:"primary",fullWidth:!0},"Sign in")),u.a.createElement(f.a,{className:P.container2},u.a.createElement("div",{className:P.grow}),u.a.createElement(d.a,{variant:"text",onClick:function(){v(!1),R(!M)},color:"primary"},"Forget password?"),u.a.createElement("div",{className:P.grow})),u.a.createElement("div",{className:P.container2},u.a.createElement("div",{className:P.grow}),u.a.createElement("p",null,"OR"),u.a.createElement("div",{className:P.grow})),u.a.createElement(f.a,{className:P.button2},u.a.createElement(d.a,{variant:"contained",onClick:function(){v(!1),W(!B)},color:"primary",fullWidth:!0},"Register"))),u.a.createElement(k,{triggerOpen:M}),u.a.createElement(w,{triggerOpen:B,signinUser:a}))}))},16:function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"k",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return u})),n.d(t,"n",(function(){return d})),n.d(t,"c",(function(){return g})),n.d(t,"j",(function(){return m})),n.d(t,"o",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"m",(function(){return h})),n.d(t,"l",(function(){return v}));var a="https://procomhost.com",r=a+"/hotm_booking/api/v0.8",i=r+"/services",o=r+"/artists",c=r+"/bookings",s=r+"/get_available_artists.php",l=a+"/api/get_nonce/?controller=user&method=register",u=a+"/api/user/register",d=a+"/api/user/update_user_meta_vars",g=a+"/api/auth/generate_auth_cookie",m=a+"/api/user/retrieve_password/?user_login=",f=a+"/wp-json/wp/v2/users",b="Basic ZEtkWDBTM0wwSERsOnAxMk9GeFNMczVVNXVxdEEyQnVTYkFuUg==",p="https://www.instagram.com/explore/tags/",h=a+"/terms-conditions/",v="https://boiling-shore-55046.herokuapp.com/charge"},172:function(e,t,n){e.exports=n(202)},177:function(e,t,n){},181:function(e,t,n){},201:function(e,t,n){e.exports=n.p+"static/media/logo192.4d162816.png"},202:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(13),o=n.n(i),c=(n(177),n(87)),s=n(88),l=n(91),u=n(89),d=n(92),g=n(32),m=n(266),f=n(154),b=(n(181),n(6)),p=n(80),h=n(54),v=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(a.Component),E=Object(h.f)(v),O=n(265),j=n(26),k=n(29),y=n(210),_=n(260),S=n(148),w=n.n(S),C=n(157),T=n(256),A=n(261),I=n(263),x=n(264),N=n(267),D=n(30),F=n(262),M=n(107),R=n.n(M),U=n(147),L=n.n(U),B=n(110),W=n.n(B),P=n(145),G=n.n(P),H=n(149),Y=n.n(H),q=n(151),V=n.n(q),K=n(152),z=n.n(K),Q=n(146),J=n.n(Q),$=n(150),X=n.n($),Z=n(137),ee=n(63),te=n(8),ne=n(83),ae=n(203),re=n(208),ie=n(207),oe=n(144),ce=n.n(oe),se=Object(k.a)((function(){return{container1:{display:"flex",margin:20},grow:{flexGrow:1},container2:{display:"flex",flexDirection:"column",alignContent:"center"},button:{display:"flex",marginLeft:15,marginRight:15,marginTop:20,marginBottom:20}}}));var le=Object(g.b)((function(e){return{firstName:e.userInfo.firstName,lastName:e.userInfo.lastName,email:e.userInfo.email}}),(function(e){return{signoutUser:function(){return e(Object(ee.d)())},resetBooking:function(){return e(Object(te.G)())}}}))((function(e){var t=e.firstName,n=e.lastName,i=e.email,o=e.triggerOpen,c=e.signoutUser,s=e.resetBooking,l=Object(a.useState)(!1),u=Object(b.a)(l,2),d=u[0],g=u[1],m=Object(a.useRef)(!1),f=se();return Object(a.useEffect)((function(){m.current?g(!0):m.current=!0}),[o]),r.a.createElement(ae.a,{maxWidth:"xs",fullWidth:!0,open:d},r.a.createElement("div",{className:f.container1},r.a.createElement("div",{className:f.grow}),r.a.createElement(ce.a,{color:"primary",fontSize:"large"}),r.a.createElement("div",{className:f.grow})),r.a.createElement(ie.a,{className:f.container2},r.a.createElement(D.a,{variant:"h6",align:"center"},"".concat(t," ").concat(n)),r.a.createElement(D.a,{variant:"body2",align:"center"},i)),r.a.createElement(re.a,{className:f.button},r.a.createElement(ne.a,{variant:"contained",onClick:function(){g(!1)},color:"primary",fullWidth:!0},"Cancel"),r.a.createElement(ne.a,{variant:"contained",onClick:function(){c(),s(),g(!1)},color:"primary",fullWidth:!0},"Sign out")))})),ue=n(258),de=n(118),ge=n(20),me=n(259),fe=n(133),be=n(135),pe=Object(k.a)((function(e){return{button:{marginLeft:15,marginRight:15,marginTop:20,marginBottom:20}}}));var he=Object(g.b)((function(e){return{bookingFilter:e.bookingFilter}}),(function(e){return{setFromDate:function(t){return e(Object(te.M)(t))},setToDate:function(t){return e(Object(te.N)(t))},setArtist:function(t){return e(Object(te.K)(t))},setClient:function(t){return e(Object(te.L)(t))},searchBooking:function(){return e(Object(te.I)())}}}))((function(e){var t=e.theme,n=e.artists,i=e.triggerOpen,o=e.bookingFilter,c=e.setFromDate,s=e.setToDate,l=e.setArtist,u=e.setClient,d=e.searchBooking,g=o.fromDate,m=o.toDate,f=o.artist,p=o.client,h=Object(a.useState)(!1),v=Object(b.a)(h,2),E=v[0],O=v[1],j=Object(a.useRef)(!1),k=pe(t);return Object(a.useEffect)((function(){j.current?O(!0):j.current=!0}),[i]),r.a.createElement(ae.a,{open:E,onBackdropClick:function(){return O(!1)}},r.a.createElement(ue.a,{id:"simple-dialog-title"},"Filters for booking search"),r.a.createElement(ie.a,null,r.a.createElement(ge.a,{utils:de.a},r.a.createElement(me.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Select from date",value:g,onChange:c,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(me.a,{disableToolbar:!0,variant:"inline",format:"dd/MM/yyyy",margin:"normal",id:"date-picker-inline",label:"Select to date",value:m,onChange:s,KeyboardButtonProps:{"aria-label":"change date"}})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(fe.a,{artists:n,multiArtists:!1,clearable:!1,setTags:l,tags:f,label:"Select artist"}),r.a.createElement("br",null),r.a.createElement(be.a,{setClient:u,client:p,label:"Select client"})),r.a.createElement(re.a,{className:k.button},r.a.createElement(ne.a,{variant:"contained",onClick:function(){d(),O(!1)},color:"primary",fullWidth:!0},"Search")))})),ve=n(16),Ee=n(201),Oe=Object(k.a)((function(e){return{grow:{flexGrow:1},title:Object(j.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:{display:"flex",alignItems:"center"}}})),je=[{label:"Add a booking",pathname:"/",icon:r.a.createElement(R.a,null)},{label:"Artist add a booking",pathname:"/artist",icon:r.a.createElement(G.a,null)},{label:"Manage bookings",pathname:"/manage",icon:r.a.createElement(J.a,null)},{label:"Booking calendar",pathname:"/calendar",icon:r.a.createElement(L.a,null)},{label:"Go to Hair on the Move",pathname:ve.f,external:!0,icon:r.a.createElement(W.a,null)}],ke=[{label:"Add a booking",pathname:"/",icon:r.a.createElement(R.a,null)},{label:"Go to Hair on the Move",pathname:ve.f,external:!0,icon:r.a.createElement(W.a,null)}];var ye=Object(h.f)((function(e){var t,n=e.location,i=e.bookingValue,o=e.loggedIn,c=e.isArtist,s=e.artists,l=Oe(),u=Object(a.useState)(!1),d=Object(b.a)(u,2),g=d[0],m=d[1],f=Object(a.useState)(!1),h=Object(b.a)(f,2),v=h[0],E=h[1],O=Object(a.useState)(!1),j=Object(b.a)(O,2),k=j[0],S=j[1],M=Object(a.useState)(!1),R=Object(b.a)(M,2),U=R[0],L=R[1],B=n.pathname,W="/"===B||"/artist"===B,P="/manage"===B||"/calendar"===B,G=c?je:ke,H=function(e){return function(t){("keydown"!==t.type||"Tab"!==t.key&&"Shift"!==t.key)&&m(e)}};switch(B){case"/calendar":t="Booking calendar";break;case"/manage":t="Manage bookings";break;case"/artist":t="Artist add a booking";break;default:t="Add a booking"}return r.a.createElement("div",{className:l.grow},r.a.createElement(_.a,{color:"secondary",position:"static"},r.a.createElement(y.a,null,r.a.createElement("img",{width:60,src:Ee,alt:"Hair on the move logo"}),r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{onClick:H(!0),color:"inherit","aria-label":"Menu"},r.a.createElement(w.a,null)),r.a.createElement("div",{className:l.title},r.a.createElement(D.a,{variant:"h6"},t)),r.a.createElement(N.a,{anchor:"left",open:g,onClose:H(!1)},r.a.createElement("div",{role:"presentation",onClick:H(!1),onKeyDown:H(!1)},r.a.createElement(T.a,null,G.map((function(e){return r.a.createElement(A.a,{component:e.external?F.a:p.b,href:e.external?e.pathname:null,to:e.external?null:{pathname:e.pathname,search:n.search},button:!0,key:e.label,target:e.external?"_blank":null},r.a.createElement(I.a,null,e.icon),r.a.createElement(x.a,{primary:e.label}))})))))),r.a.createElement("div",{className:l.grow}),r.a.createElement("div",{className:l.sectionDesktop},W&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{fontSize:"small"}),r.a.createElement("span",null,"$".concat(i))),P&&r.a.createElement(C.a,{edge:"end",color:"inherit",onClick:function(e){e.preventDefault(),L(!U)}},r.a.createElement(X.a,null)),r.a.createElement(C.a,{edge:"end",color:"default",onClick:function(e){e.preventDefault(),o?S(!k):E(!v)}},o?r.a.createElement(V.a,{color:"primary"}):r.a.createElement(z.a,{style:{color:"white"}})))),r.a.createElement(le,{triggerOpen:k}),r.a.createElement(Z.a,{triggerOpen:v,initOpen:!1}),r.a.createElement(he,{triggerOpen:U,artists:s})))})),_e=n(90),Se=n(82),we=n(209),Ce=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,495))})),Te=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,478))})),Ae=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(2),n.e(1),n.e(8)]).then(n.bind(null,497))})),Ie=Object(a.lazy)((function(){return Promise.all([n.e(2),n.e(6),n.e(9)]).then(n.bind(null,499))})),xe=function(e){var t=e.theme,n=e.bookingStage,i=e.changeBookingStage,o=e.resetBooking,c=e.priceFactors,s=e.itemQty,l=e.loggedIn,u=e.isArtist,d=Object(a.useContext)(_e.a),g=d.services,m=d.servicesFetched,f=d.events,v=d.eventsFetched,j=d.artists,k=Object(a.useState)(0),y=Object(b.a)(k,2),_=y[0],S=y[1],w=Object(a.useState)(0),C=Object(b.a)(w,2),T=C[0],A=C[1];return Object(a.useEffect)((function(){S(Object(Se.a)(g.items,c,s)),A(Object(Se.b)(_))}),[g.items,c,s,_]),r.a.createElement(p.a,null,r.a.createElement(E,null,r.a.createElement(O.a,null),r.a.createElement(ye,{bookingValue:_,loggedIn:l,isArtist:u,artists:j}),r.a.createElement(a.Suspense,{fallback:r.a.createElement(we.a,null)},m&&r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",render:function(){return r.a.createElement(Ce,{theme:t,services:g,bookingStage:n,changeBookingStage:i,bookingValue:_,depositPayable:T,artists:j,resetBooking:o})}}),r.a.createElement(h.a,{exact:!0,path:"/artist",render:function(){return r.a.createElement(Te,{theme:t,services:g,bookingStage:n,changeBookingStage:i,bookingValue:_,depositPayable:T,artists:j,newBooking:!0,resetBooking:o})}}),r.a.createElement(h.a,{path:"/manage",render:function(){return r.a.createElement(Ae,{events:f,eventsFetched:v,services:g,bookingStage:n,changeBookingStage:i,bookingValue:_,depositPayable:T,artists:j})}}),r.a.createElement(h.a,{path:"/calendar",render:function(){return r.a.createElement(Ie,{events:f})}})))))},Ne=Object(g.b)((function(e){return{priceFactors:e.priceFactors,itemQty:e.itemQty,artists:e.artists,clients:e.clients,bookings:e.bookings,bookingStage:e.bookingStage.stage,loggedIn:e.userInfo.loggedIn,isArtist:e.userInfo.isArtist}}),(function(e){return{changeBookingStage:function(t){return e(Object(te.A)(t))},resetBooking:function(){return e(Object(te.G)())}}}))(xe),De=n(62),Fe=n(153),Me={organic:!1,pensionerRate:!1};var Re={bookingDate:null,bookingEnd:null,bookingAddr:""};var Ue={client:null,comment:"",balance:null,paid:null,bookingId:null};var Le={ids:[],recs:[],isLoading:!1,hasErr:!1};var Be={servicesActive:!0,artistsActive:!0,bookingsActive:!1,bookingTrigger:!1,requestMethod:"get",data:{},callMe:null,bookingData:{}};var We=new Date,Pe={fromDate:new Date,toDate:We.setDate(We.getDate()+7),artist:null,client:null};var Ge={firstName:"",lastName:"",nickName:"",email:"",id:"",phone:"",loggedIn:!1,isArtist:!1};var He=Object(De.c)({priceFactors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.f:return Object.assign({},e,{organic:!e.organic});case te.g:return Object.assign({},e,{pensionerRate:!e.pensionerRate});case te.l:return Object.assign({},{organic:1===t.booking.with_organic,pensionerRate:1===t.booking.with_pensioner_rate});case te.n:return Me;default:return e}},bookingDateAddr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.v:return{bookingDate:t.bookingDate,bookingEnd:t.bookingEnd,bookingAddr:t.bookingAddr};case te.l:var n=t.booking;return{bookingDate:new Date(n.booking_date+" "+n.booking_time+":00"),bookingEnd:new Date(n.booking_date+" "+n.booking_end_time+":00"),bookingAddr:n.event_address};case te.n:return Re;default:return e}},bookingStage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{stage:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.e:return Object.assign({},e,{stage:t.stage});case te.n:return{stage:0};default:return e}},selectedArtist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.t:return Object.assign({},e,{order:t.order});case te.n:return{order:0};default:return e}},assignedArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.c:return t.artistIds;case te.l:return t.booking.artist_id_list;case te.n:return[];default:return e}},clientInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.l:return Object.assign({},{client:t.booking.client,comment:t.booking.comment,balance:t.booking.total_amount-t.booking.paid_amount,paid:t.booking.paid_amount,bookingId:t.booking.booking_id});case te.d:return Object.assign({},e,{client:t.client});case te.n:return Ue;default:return e}},availArtists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.j:return Object.assign({},e,{ids:[],recs:[],isLoading:!0,hasErr:!1});case te.m:var n=[],a=t.payload,r=!0,i=!1,o=void 0;try{for(var c,s=a[Symbol.iterator]();!(r=(c=s.next()).done);r=!0){var l=c.value;n.push(l.artist_id_list[0])}}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return Object.assign({},e,{isLoading:!1,hasErr:!1,ids:n,recs:a});case te.i:return Object.assign({},e,{ids:[],recs:[],isLoading:!1,hasErr:!0});case te.n:return Le;default:return e}},itemQty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=0,a=t.itemId;switch(a in e&&(n=e[a]),t.type){case te.k:return n+=1,Object.assign({},e,Object(j.a)({},a,n));case te.h:if(n>0&&(n-=1),n>0)return Object.assign({},e,Object(j.a)({},a,n));var r=Object.assign({},e);return delete r[a],Object.assign({},r);case te.l:for(var i=t.booking.services,o=t.booking.quantities,c={},s=0;s<i.length;s++)c[i[s].toString()]=o[s];return Object.assign({},c);case te.n:return{};default:return e}},storeActivation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.a:return Object.assign({},e,{bookingsActive:t.val,requestMethod:"get"});case te.p:return Object.assign({},e,{bookingsActive:!0,requestMethod:"get",bookingTrigger:!e.bookingTrigger});case te.b:return Object.assign({},e,{bookingsActive:!0,requestMethod:"post",data:t.payload,bookingTrigger:!e.bookingTrigger,callMe:t.callMe});case te.w:return Object.assign({},e,{bookingsActive:!0,requestMethod:"put",data:t.payload,bookingTrigger:!e.bookingTrigger,callMe:t.callMe});case te.o:return Object.assign({},e,{bookingData:t.payload});case te.n:return Be;default:return e}},bookingFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te.s:return Object.assign({},e,{fromDate:t.val});case te.u:return Object.assign({},e,{toDate:t.val});case te.q:return Object.assign({},e,{artist:t.val});case te.r:return Object.assign({},e,{client:t.val});default:return e}},userInfo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ee.a:return Object.assign({},e,{firstName:t.payload.firstName,lastName:t.payload.lastName,nickName:t.payload.nickName,email:t.payload.email,id:t.payload.id,loggedIn:t.payload.loggedIn,isArtist:t.payload.isArtist});case ee.b:return Object.assign({},Ge);default:return e}}}),Ye=Object(De.d)(He,Object(De.a)(Fe.a)),qe=Object(g.b)((function(e){return{storeCtrl:e.storeActivation,bookingFilter:e.bookingFilter}}),null)(_e.b),Ve=Object(f.a)({palette:{primary:{main:"#f18383"},secondary:{main:"#000"}}}),Ke=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(g.a,{store:Ye},r.a.createElement(m.a,{theme:Ve},r.a.createElement(qe,null,r.a.createElement(Ne,{theme:Ve}))))}}]),t}(a.Component),ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Qe(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(Ke,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/hotm",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/hotm","/service-worker.js");ze?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Qe(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Qe(t,e)}))}}()},63:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o}));var a="SIGN_IN",r="SIGN_OUT",i=function(e){return{type:a,payload:e}},o=function(){return{type:r}}},8:function(e,t,n){"use strict";n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"v",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"t",(function(){return l})),n.d(t,"k",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"j",(function(){return g})),n.d(t,"m",(function(){return m})),n.d(t,"i",(function(){return f})),n.d(t,"n",(function(){return b})),n.d(t,"a",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"o",(function(){return E})),n.d(t,"w",(function(){return O})),n.d(t,"c",(function(){return j})),n.d(t,"d",(function(){return k})),n.d(t,"l",(function(){return y})),n.d(t,"s",(function(){return _})),n.d(t,"u",(function(){return S})),n.d(t,"q",(function(){return w})),n.d(t,"r",(function(){return C})),n.d(t,"P",(function(){return T})),n.d(t,"Q",(function(){return A})),n.d(t,"O",(function(){return I})),n.d(t,"A",(function(){return x})),n.d(t,"B",(function(){return N})),n.d(t,"D",(function(){return D})),n.d(t,"E",(function(){return F})),n.d(t,"C",(function(){return M})),n.d(t,"G",(function(){return R})),n.d(t,"J",(function(){return U})),n.d(t,"I",(function(){return L})),n.d(t,"x",(function(){return B})),n.d(t,"R",(function(){return W})),n.d(t,"H",(function(){return P})),n.d(t,"y",(function(){return G})),n.d(t,"z",(function(){return H})),n.d(t,"F",(function(){return Y})),n.d(t,"M",(function(){return q})),n.d(t,"N",(function(){return V})),n.d(t,"L",(function(){return K})),n.d(t,"K",(function(){return z}));var a=n(12),r=n.n(a),i="CHANGE_ORGANIC",o="CHANGE_PENSIONER_RATE",c="SUBMIT_BOOKING",s="CHANGE_BOOKING_STAGE",l="SET_SELECTED_ARTIST",u="INC_ITEM_QTY",d="DEC_ITEM_QTY",g="GET_AVAIL_ARTISTS",m="RECEIVE_AVAIL_ARTISTS",f="ERROR_AVAIL_ARTISTS",b="RESET_BOOKING",p="ACTIVATE_BOOKINGS",h="SEARCH_BOOKING",v="ADD_BOOKING",E="SAVE_BOOKING",O="UPDATE_BOOKING",j="ASSIGN_ARTISTS",k="ASSIGN_CLIENT",y="LOAD_BOOKING",_="SET_FROM_DATE",S="SET_TO_DATE",w="SET_ARTIST",C="SET_CLIENT",T=function(){return{type:i}},A=function(){return{type:o}},I=function(e,t,n){return{type:c,bookingDate:e,bookingEnd:t,bookingAddr:n}},x=function(e){return{type:s,stage:e}},N=function(e){return{type:l,order:e}};function D(e){return function(t){var n,a;return r.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return t({type:g}),i.prev=1,i.next=4,r.a.awrap(fetch(e));case 4:return n=i.sent,i.next=7,r.a.awrap(n.json());case 7:a=i.sent,t({type:m,payload:a}),i.next=15;break;case 11:i.prev=11,i.t0=i.catch(1),console.log("Artists fetching error"),t({type:f});case 15:case"end":return i.stop()}}),null,null,[[1,11]])}}var F=function(e){return{type:u,itemId:e}},M=function(e){return{type:d,itemId:e}},R=function(){return{type:b}},U=function(e){return{type:p,val:e}},L=function(){return{type:h}},B=function(e,t){return{type:v,payload:e,callMe:t}},W=function(e,t){return{type:O,payload:e,callMe:t}},P=function(e){return{type:E,payload:e}},G=function(e){return{type:j,artistIds:e}},H=function(e){return{type:k,client:e}},Y=function(e){return{type:y,booking:e}},q=function(e){return{type:_,val:e}},V=function(e){return{type:S,val:e}},K=function(e){return{type:C,val:e}},z=function(e){return{type:w,val:e}}},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return r}));var a=function(e,t,n){for(var a=0,r=t.organic,i=t.pensionerRate,o=0,c=Object.keys(n);o<c.length;o++){var s=c[o],l=n[s];a+=(r?e[s].organicPrice:e[s].price)*(i?.8:1)*l}return a.toFixed(2)},r=function(e){return(.3*e).toFixed(2)}},90:function(e,t,n){"use strict";var a=n(6),r=n(0),i=n.n(r),o=n(12),c=n.n(o),s=n(18),l=n(19),u=n.n(l),d=function(e,t){switch(t.type){case"FETCH_INIT":return Object(s.a)({},e,{isLoading:!0,hasErrored:!1});case"FETCH_SUCCESS":return Object(s.a)({},e,{isLoading:!1,hasErrored:!1,errorMessage:"",data:t.payload});case"FETCH_FAILURE":return Object(s.a)({},e,{isLoading:!1,hasErrored:!0,errorMessage:"Data Retrieve Failure"});default:throw new Error}},g=function(e,t,n){var i=Object(r.useState)(e),o=Object(a.a)(i,1)[0],l=Object(r.useReducer)(d,{isLoading:!1,hasErrored:!1,errorMessage:"",data:t}),g=Object(a.a)(l,2),m=g[0],f=g[1];return Object(r.useEffect)((function(){var e=!1;return n&&function(){var t;c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return f({type:"FETCH_INIT"}),n.prev=1,n.next=4,c.a.awrap(u.a.get(o));case 4:t=n.sent,e||f({type:"FETCH_SUCCESS",payload:t.data}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(1),e||f({type:"FETCH_FAILURE"});case 11:case"end":return n.stop()}}),null,null,[[1,8]])}(),function(){e=!0}}),[o,n]),Object(s.a)({},m)},m=n(26),f=n(16),b=function(e,t){return e.reduce((function(e,n){return Object(s.a)({},e,Object(m.a)({},n[t].toString(),n))}),{})},p=function(e,t){switch(t.type){case"FETCH_INIT":return Object(s.a)({},e,{isLoading:!0,isUpdating:!1,hasErrored:!1});case"FETCH_SUCCESS":return Object(s.a)({},e,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:"",data:Object.assign({},b(t.payload,"booking_id"))});case"FETCH_FAILURE":return Object(s.a)({},e,{isLoading:!1,isUpdating:!1,hasErrored:!0,errorMessage:"Data Retrieve Failure"});case"UPDATE_INIT":return Object(s.a)({},e,{isLoading:!1,isUpdating:!0,hasErrored:!1});case"POST_SUCCESS":case"PUT_SUCCESS":return Object(s.a)({},e,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:"",data:Object.assign({},e.data,b([t.payload],"booking_id"))});case"DELETE_SUCCESS":return Object(s.a)({},e,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:""});case"UPDATE_FAILURE":return Object(s.a)({},e,{isLoading:!1,isUpdating:!1,hasErrored:!0,errorMessage:t.errMessage});default:throw new Error}},h=function(e,t,n,i,o,l,d){var g=Object(r.useReducer)(p,{isLoading:!1,isUpdating:!1,hasErrored:!1,errorMessage:"",data:t}),m=Object(a.a)(g,2),b=m[0],h=m[1];return Object(r.useEffect)((function(){var t=!1;if(n&&!b.isLoading&&!b.isUpdating)switch(i){case"get":!function(){var n;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return h({type:"FETCH_INIT"}),a.prev=1,a.next=4,c.a.awrap(u.a.get(e));case 4:n=a.sent,t||h({type:"FETCH_SUCCESS",payload:n.data}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),t||h({type:"FETCH_FAILURE"});case 11:case"end":return a.stop()}}),null,null,[[1,8]])}();break;case"post":!function(e){var n,a,r,i;c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return h({type:"UPDATE_INIT"}),n={method:"post",headers:{"Content-Type":"application/json"},url:f.e,data:e},o.prev=2,o.next=5,c.a.awrap(u()(n));case 5:a=o.sent,r=a.data.booking_id,t||(r>0?(i=Object(s.a)({},e,{booking_id:r}),h({type:"POST_SUCCESS",payload:i}),l()):alert("".concat(a.data.error," Please call to resolve this issue."))),o.next=13;break;case 10:o.prev=10,o.t0=o.catch(2),t||h({type:"UPDATE_FAILURE",errorMessage:o.t0});case 13:case"end":return o.stop()}}),null,null,[[2,10]])}(o);break;case"put":!function(e){var n,a,r;c.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return h({type:"UPDATE_INIT"}),n={method:"put",headers:{"Content-Type":"application/json"},url:f.e,data:e},i.prev=2,i.next=5,c.a.awrap(u()(n));case 5:a=i.sent,r=a.data.booking_id,t||(r>0?(e.paid_amount>0&&(e.paid_amount=e.total_amount),h({type:"PUT_SUCCESS",payload:e}),l()):alert("".concat(a.data.error," Please call to resolve this issue."))),i.next=13;break;case 10:i.prev=10,i.t0=i.catch(2),t||h({type:"UPDATE_FAILURE",errorMessage:i.t0});case 13:case"end":return i.stop()}}),null,null,[[2,10]])}(o);break;default:throw new Error}return function(){t=!0}}),[n,i,o,d]),Object(s.a)({},b)},v=n(82);var E=n(79),O=n.n(E);n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return k}));var j=Object(r.createContext)(),k=function(e){var t=e.children,n=e.storeCtrl,o=e.bookingFilter,c=n.servicesActive,s=n.artistsActive,l=n.bookingsActive,d=n.requestMethod,m=n.data,b=n.callMe,p=n.bookingTrigger,E=o.fromDate,k=o.toDate,y=o.artist?o.artist.id:null,_=o.client?o.client.id:null,S=Object(r.useState)(function(e,t){return"".concat(f.e,"?from_date=").concat(O()(e).format("YYYY-MM-DD"),"&to_date=").concat(O()(t).format("YYYY-MM-DD"))}(E,k)),w=Object(a.a)(S,2),C=w[0],T=w[1],A=Object(r.useState)({}),I=Object(a.a)(A,2),x=I[0],N=I[1],D=Object(r.useState)(!1),F=Object(a.a)(D,2),M=F[0],R=F[1],U=Object(r.useState)({}),L=Object(a.a)(U,2),B=L[0],W=L[1],P=Object(r.useState)(!1),G=Object(a.a)(P,2),H=G[0],Y=G[1],q=Object(r.useState)([]),V=Object(a.a)(q,2),K=V[0],z=V[1],Q=Object(r.useState)(!1),J=Object(a.a)(Q,2),$=J[0],X=J[1],Z=Object(r.useState)([]),ee=Object(a.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(r.useState)(!1),re=Object(a.a)(ae,2),ie=re[0],oe=re[1],ce=Object(r.useState)({}),se=Object(a.a)(ce,2),le=se[0],ue=se[1],de=g(f.k,[],c);Object(r.useEffect)((function(){0!==de.data.length&&(N(function(e){for(var t={},n=[],a=0;a<e.length;a++){for(var r=Object.values(e[a].data),i=[],o=0;o<r.length;o++){var c=r[o].id.toString();i.push(c),t[c]={cat:a,description:r[o].description,price:r[o].sale_price,organicPrice:r[o].organic_add_price,timeOnsite:r[o].time_on_site,onlineBooking:1===r[o].online_booking,addOn:1===r[o].add_on}}n.push({name:e[a].cat,list:i})}return{items:t,cats:n}}(de.data)),R(!0))}),[de.isLoading,de.data]);var ge=g(f.b,[],s);Object(r.useEffect)((function(){var e="".concat(f.e,"?from_date=").concat(O()(E).format("YYYY-MM-DD"),"&to_date=").concat(O()(k).format("YYYY-MM-DD"));y&&(e="".concat(e,"&artist_id=").concat(y.toString())),_&&(e="".concat(e,"&client_id=").concat(_.toString())),T(e)}),[E,k,y,_]),Object(r.useEffect)((function(){0!==ge.data.length&&(W(function(e){for(var t={},n=0;n<e.length;n++)t[e[n].id.toString()]={id:e[n].id,name:e[n].name,state:e[n].state,photo:e[n].photo,title:e[n].title,bio:e[n].bio,hashtag:e[n].hashtag?e[n].hashtag.replace("#",""):"haironthemove2u"};return t}(ge.data)),Y(!0))}),[ge.isLoading,ge.data]);var me=h(C,{},l,d,m,b,p);return Object(r.useEffect)((function(){0!==me.data.length&&ne(function(e){var t=[];for(var n in e){var a=e[n].client_id;t.includes(a)||t.push(a)}return t}(me.data))}),[me.isLoading,me.data]),Object(r.useEffect)((function(){te.length>0&&Promise.allSettled(te.map((function(e){var t={method:"get",headers:{Authorization:f.a},url:"".concat(f.o,"/").concat(e)};return u()(t)}))).then((function(e){var t={};e.forEach((function(e){if("fulfilled"===e.status){var n=e.value.data,a=n.id;t[a.toString()]={id:a,name:n.name,phone:n.meta.billing_phone[0]}}})),ue(t),oe(!ie)}))}),[te]),Object(r.useEffect)((function(){H&&M&&(z(function(e,t,n,a){var r=[];for(var i in e){var o=[],c=0,s=e[i];if(t[s.artist_id_list[0]]&&n[s.client_id]){for(var l={},u={organic:s.with_organic,pensionerRate:s.with_pensioner_rate},d=0;d<s.services.length;d++)a[s.services[d]]&&(o.push("".concat(a[s.services[d]].description," Qty ").concat(s.quantities[d])),l[s.services[d]]=s.quantities[d]);c=Object(v.a)(a,u,l),r.push({id:s.booking_id,start:new Date("".concat(s.booking_date,"T").concat(s.booking_time,":00")),end:new Date("".concat(s.booking_date,"T").concat(s.booking_end_time,":00")),address:s.event_address,artists:s.artist_id_list.map((function(e){return t[e]})),artistNames:s.artist_id_list.map((function(e){return t[e].name})).join(", "),client:n[s.client_id],organic:s.with_organic,serviceItems:o,total:c})}}return r}(me.data,B,le,x.items)),X(!0))}),[ie,le]),i.a.createElement(j.Provider,{value:{services:x,servicesFetched:M,events:K,eventsFetched:$,artists:B,artistsFetched:H,bookingsData:me}},t)}}},[[172,4,5]]]);
//# sourceMappingURL=main.30d45230.chunk.js.map