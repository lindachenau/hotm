{"version":3,"sources":["images/logo.png","images/logo192.png","components/ScrollTop.js","config/dataLinks.js","ApiKeys.js","components/ForgetPWForm.js","components/RegisterForm.js","components/SigninForm.js","config/SigninFormContainer.js","actions/userCreator.js","actions/bookingCreator.js","components/SignoutForm.js","config/SignoutFormContainer.js","components/AddArtists.js","components/AddClient.js","components/Filter.js","config/FilterContainer.js","components/Topbar.js","actions/useAxiosFetch.js","actions/useAxiosCRUD.js","utils/getBookingValue.js","components/BookingsStoreProvider.js","components/ArtistCard.js","components/ArtistSelection.js","config/ArtistSelectionContainer.js","components/BookingSteps.js","components/ServiceMenu.js","config/ServiceMenuContainer.js","components/LocationSearchInput.js","components/ServiceSelection.js","config/ServiceSelectionContainer.js","components/Confirmation.js","config/ConfirmationContainer.js","components/StripeForm.js","components/Payment.js","config/PaymentContainer.js","pages/Booking.js","components/ArtistBookingSteps.js","components/AddPeople.js","config/AddPeopleContainer.js","components/ArtistPayment.js","config/ArtistPaymentContainer.js","pages/ArtistBooking.js","components/BookingCards.js","config/BookingCardsContainer.js","pages/Manage.js","config/ManageContainer.js","components/MyCalendar.js","components/Event.js","pages/Calendar.js","components/Routes.js","config/RootContainer.js","reducers/bookingInfo.js","reducers/userInfo.js","reducers/rootReducer.js","config/Store.js","config/BookingsStoreProviderContainer.js","utils/dataFormatter.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","ScrollToTop","prevProps","this","props","location","pathname","window","scrollTo","children","Component","withRouter","home_url","HOTM_BOOKING_API","bookings_url","user_url","access_token","useStyles","makeStyles","container1","display","margin","grow","flexGrow","container2","flexDirection","alignContent","button","marginLeft","marginRight","marginTop","marginBottom","ForgetPWForm","triggerOpen","useState","open","setOpen","didMountRef","useRef","userLogin","setUserLogin","classes","useEffect","current","handleResetPW","a","url","axios","response","status","data","alert","Dialog","DialogContent","DialogContentText","TextField","autoFocus","label","type","fullWidth","onChange","event","target","value","DialogActions","className","Button","variant","onClick","color","logo","require","theme","button1","maxWidth","width","height","breakpoints","down","maxHeight","RegisterForm","signinUser","username","setUsername","password","setPassword","email","setEmail","firstName","setFirstName","lastName","setLastName","company","setCompany","address","setAddress","city","setCity","stateAbbr","setStateAbbr","postcode","setPostcode","phone","setPhone","disableSubmit","setDisableSubmit","handleRegister","nonceResponse","nonce","userFormData","FormData","set","config","method","headers","regResponse","cookie","user_id","metaFormData","metaConfig","metaResponse","nickName","id","loggedIn","error","onBackdropClick","src","alt","Grid","container","item","xs","required","disabled","button2","connect","dispatch","payload","initOpen","triggerForgetPW","setTriggerForgetPW","triggerRegister","setTriggerRegister","handleSignin","signinFormData","user","isArtist","capabilities","staff_members","firstname","lastname","nickname","RESET_BOOKING","changeSelectedArtist","order","resetBooking","addBooking","bookingInfo","callMe","saveBooking","bookingData","state","userInfo","signoutUser","fontSize","Typography","align","AddArtists","tags","setTags","multiArtists","clearable","artists","artistOptions","Object","values","sort","b","artists1","toUpperCase","name","artists2","Autocomplete","multiple","disableClearable","filterSelectedOptions","options","groupBy","option","getOptionLabel","renderInput","params","placeholder","AddClient","client","setClient","setOptions","searchKey","setSearchKey","active","length","loading","setLoading","clients","map","meta","billing_phone","onOpen","onClose","onInputChange","reason","InputProps","endAdornment","Fragment","CircularProgress","size","bookingFilter","setFromDate","val","setToDate","setArtist","searchBooking","fromDate","toDate","artist","DialogTitle","utils","DateFnsUtils","disableToolbar","format","KeyboardButtonProps","title","up","sectionDesktop","alignItems","artistMenu","icon","external","userMenu","bookingValue","drawerOpen","setDrawerOpen","triggerSignin","setTriggerSignin","triggerSignout","setTriggerSignout","triggerFilter","setTriggerFilter","currentPath","bookingPage","eventsPage","menu","toggleDrawer","key","AppBar","position","Toolbar","IconButton","aria-label","Drawer","anchor","role","onKeyDown","List","ListItem","component","MaterialLink","Link","href","to","search","ListItemIcon","ListItemText","primary","edge","evt","preventDefault","style","dataFetchReducer","action","isLoading","hasErrored","errorMessage","Error","useAxiosFetch","initialUrl","initialData","useReducer","didCancel","get","result","fetchData","convertArrayToObject","array","reduce","obj","toString","isUpdating","assign","errMessage","useAxiosCRUD","bookingTrigger","createData","bookingId","booking_id","updateData","paid_amount","total_amount","getBookingValue","items","priceFactors","itemQty","total","organic","pensioner","pensionerRate","keys","qty","organicPrice","price","toFixed","BookingsStoreContext","createContext","CardItem","avatar","bio","hashtag","Paper","paper","elevation","spacing","md","flex","Avatar","itemContainer","gutterBottom","instagram","rel","withStyles","padding","palette","text","secondary","background","justifyContent","right","bottom","paddingTop","paddingBottom","progress","availArtists","selectedArtist","bookingDateAddr","changeBookingStage","useContext","activeStep","setActiveStep","maxSteps","setMaxSteps","ids","hasErr","artistsFound","noArtists","Container","ArtistCard","photo","MobileStepper","steps","nextButton","prevActiveStep","backButton","BookingSteps","Stepper","alternativeLabel","Step","StepLabel","stepIndex","getStepContent","overflowX","backgroundColor","main","priceField","priceEmbedded","incItemQty","itemId","decItemQty","cat","artistBooking","listOpen","setListOpen","Table","TableHead","TableRow","TableCell","e","Badge","badgeContent","list","totalItems","showZero","TableBody","description","addOn","onlineBooking","ButtonGroup","startIcon","flexWrap","textField","searchOptions","componentRestrictions","country","LocationSearchInput","changeAddr","onSelect","getInputProps","suggestions","getSuggestionItemProps","FormControl","InputLabel","htmlFor","Input","startAdornment","InputAdornment","suggestion","cursor","ServiceSelection","services","onSubmit","bookingDate","bookingAddr","toggleOrganic","togglePensionerRate","submitBooking","getAvailArtist","newBooking","setManageState","cats","selectedDate","setSelectedDate","handleDateChange","date","getBookingEnd","duration","timeOnsite","getTime","checkBookingRules","allAddOn","forEach","getDay","FormControlLabel","control","Switch","checked","justify","Date","available_artists_url","moment","missingFields","bookingEnd","addr","fetch","then","json","console","log","acknowledge","inline","Confirmation","artistId","checkedDeposit","setCheckedDeposit","checkedTerm","setCheckedTerm","checkedParking","setCheckedParking","Chip","deleteIcon","onDelete","Checkbox","stripe","InjectedCardForm","injectStripe","handleCharge","payMessage","setErrorMessage","handleSubmit","createToken","token","message","hidePostalCode","base","letterSpacing","invalid","StripeForm","stripePublicKey","apiKey","Payment","depositPayable","userId","userName","setValue","successNotification","submit","body","JSON","stringify","amount","client_id","with_organic","with_pensioner_rate","unit_prices","paid_type","comment","ok","multiline","recs","bookingStage","ArtistBookingSteps","getSteps","AddPeople","assignedArtists","clientInfo","assignArtists","assignClient","disableNext","setDisableNext","tag","Number","start_time","artist_id_list","booking_date","booking_time","booking_end_time","artist_start_time","created_datetime","event_address","quantities","time_on_site","travel_distance","travel_duration","paid_balance_total","paid_deposit_total","paid","artistsIds","artistIds","ArtistPayment","updateBooking","manageState","checkOutable","storeActivation","Card","itemKey","start","end","join","serviceItems","BookingCards","events","eventsFetched","loadBooking","bookings","bookingsData","booking","setActivateBookings","Manage","DragAndDropCalendar","withDragAndDrop","Calendar","components","month","artistNames","day","MyCalendar","popup","localizer","resizable","onDragStart","views","defaultView","Views","MONTH","defaultDate","scrollToTime","messages","previous","next","showMore","noEventsInRange","React","momentLocalizer","Routes","servicesFetched","setBookingValue","setDepositPayable","CssBaseline","fallback","exact","path","render","stage","initPriceFactors","initDateAddr","initClientInfo","balance","initAvailArtists","initActivation","servicesActive","artistsActive","bookingsActive","requestMethod","today","initBookingFilter","setDate","getDate","initUser","rootReducer","combineReducers","rec","push","temp","i","store","createStore","reducer","applyMiddleware","thunk","storeCtrl","clientId","String","initFilter","bookingUrl","setBookingUrl","setServices","setServicesFetched","setArtists","artistsFetched","setArtistsFetched","setEvents","setEventsFetched","clientList","setClientList","clientsFetchTrigger","setClientsFetchTrigger","setClients","servicesData","serviceArr","j","sale_price","organic_add_price","online_booking","add_on","normaliseServices","artistsData","newFilter","artistArr","replace","normaliseArtists","includes","getClientListFromBookings","Promise","allSettled","results","servicesMenu","getEvents","Provider","createMuiTheme","App","ThemeProvider","isLocalhost","Boolean","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","ReactDOM","document","getElementById","URL","process","origin","addEventListener","contentType","indexOf","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.a9283611.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.a36b5832.png\";","module.exports = __webpack_public_path__ + \"static/media/logo192.4d162816.png\";","import { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nclass ScrollToTop extends Component {\n    componentDidUpdate(prevProps) {\n      if (this.props.location.pathname !== prevProps.location.pathname) {\n        window.scrollTo(0, 0);\n      }\n    }\n\n    render() {\n      return this.props.children;\n    }\n  }\n\n  export default withRouter(ScrollToTop);","import { miniOrangeAccessKey } from '../ApiKeys'\n/*\n * Hair On the Move 2 U Home page\n */\nexport const home_url = \"https://procomhost.com\"\n// export const home_url = \"https://appvelation.app\"\n\n\n/*\n * The active custom booking api\n */\nconst HOTM_BOOKING_API = home_url + \"/hotm_booking/api/v0.8\"\nexport const services_url = HOTM_BOOKING_API + \"/services\"\nexport const artists_url = HOTM_BOOKING_API + \"/artists\"\nexport const bookings_url = HOTM_BOOKING_API + \"/bookings\"\nexport const available_artists_url = HOTM_BOOKING_API + '/get_available_artists.php'\n\n/*\n * Simulated data for testing\n */\n// export const artists_url = 'http://localhost:5000/artists'\n// export const bookings_url = 'http://localhost:5000/bookings'\n\n/*\n * JSON API Auth & JSON API User Plugin\n */\nexport const register_nonce_url = home_url + \"/api/get_nonce/?controller=user&method=register\"\nexport const register_url = home_url + \"/api/user/register\"\nexport const update_user_meta_url = home_url + \"/api/user/update_user_meta_vars\"\nexport const auth_url = home_url + \"/api/auth/generate_auth_cookie\"\nexport const reset_pw_url = home_url + \"/api/user/retrieve_password/?user_login=\"\n\n/*\n * miniOrange API Authentication\n */\nexport const user_url = home_url + \"/wp-json/wp/v2/users\"\n// Use relative path in development mode to make use of proxy\n// export const user_url = \"/wp-json/wp/v2/users\"\n// Client-ID : Client-Secret authentication\nexport const access_token = miniOrangeAccessKey\n\n/*\n * Instagram root for artists\n */\nexport const instagram_url = \"https://www.instagram.com/explore/tags/\"\n\n/*\n * Hair On the Move 2 U Terms & Conditions\n */\nexport const term_url = home_url + \"/terms-conditions/\"\n\n/*\n * Stripe charge server running on Node.js deployed to Heroku\n */\nexport const stripe_charge_server = \"https://boiling-shore-55046.herokuapp.com/charge\"","//stripe public key is used on the client and private key is used on the server\nexport const stripePrivateKey = \"sk_test_1g6jSdh7K3SUynkS8PHRrZzQ00zW2dZveq\"\nexport const stripePublicKey = \"pk_test_a0vfdte94kBhPrDqosS5OnPd00A0fS0egz\"\n// Client-ID : Client-Secret authentication\nexport const miniOrangeAccessKey = \"Basic ZEtkWDBTM0wwSERsOnAxMk9GeFNMczVVNXVxdEEyQnVTYkFuUg==\"","import React, { useState, useEffect, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport TextField from '@material-ui/core/TextField'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { reset_pw_url } from '../config/dataLinks'\nimport axios from 'axios'\n\nconst useStyles = makeStyles(() => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  grow: {\n    flexGrow: 1\n  },\n  container2: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignContent: 'center'\n  },\n  button: {\n    display: 'flex',\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  }\n}))\n\nexport default function ForgetPWForm({triggerOpen}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n  const [userLogin, setUserLogin] = useState('')\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const onChangeUserLogin = event => {\n    setUserLogin(event.target.value)\n  }\n\n  const handleResetPW = async () => {\n    const url = reset_pw_url + userLogin\n\n    let response = await axios(url)\n\n    if (response.status === 200) {\n      let data = response.data\n\n      if (data.status === 'ok') {\n        alert('An email to reset your password has been sent to you.')\n        setOpen(false)\n      }\n      else {\n        alert('username or email not found')\n      }\n    }\n    else {\n      alert('username or email not found')\n    }\n  }\n\n  return (\n    <Dialog open={open}>\n    <DialogContent>\n        <DialogContentText>\n          To reset password, please enter your username or email.\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"username or email\"\n          type=\"userLogin\"\n          fullWidth\n          onChange={onChangeUserLogin}\n        />\n      </DialogContent>\n      <DialogActions className={classes.button}>\n        <Button variant=\"contained\" onClick={handleClose} color=\"primary\" fullWidth>\n          Cancel\n        </Button>\n        <Button variant=\"contained\" onClick={handleResetPW} color=\"primary\" fullWidth>\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import React, { useEffect, useState, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { register_nonce_url, register_url, update_user_meta_url } from '../config/dataLinks'\nimport axios from 'axios'\n\nconst logo = require('../images/logo.png')\n\nconst useStyles = makeStyles(theme => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  grow: {\n    flexGrow: 1\n  },\n  button1: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  logo: {\n    maxWidth: '50%',\n    width: 'auto',\n    height: 'auto',\n    [theme.breakpoints.down('sm')]: {\n      maxHeight: 120,\n    }\n  }\n}))\n\nexport default function RegisterForm({triggerOpen, signinUser}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [email, setEmail] = useState('')\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [company, setCompany] = useState('')\n  const [address, setAddress] = useState('')\n  const [city, setCity] = useState('')\n  const [stateAbbr, setStateAbbr] = useState('')\n  const [postcode, setPostcode] = useState('')\n  const [phone, setPhone] = useState('')\n  const classes = useStyles()\n  const [disableSubmit, setDisableSubmit] = useState(true)\n\n  useEffect(() => {\n    if (username === '' || password === '' || email === '' || firstName === '' || lastName === '' || phone === '')\n      setDisableSubmit(true)\n    else\n      setDisableSubmit(false)\n  },[username, password, email, firstName, lastName, phone])\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const onChangeUsername = event => {\n    setUsername(event.target.value)\n  }\n\n  const onChangePassword = event => {\n    setPassword(event.target.value)\n  }\n\n  const onChangeEmail = event => {\n    setEmail(event.target.value)\n  }\n\n  const onChangeFirstName = event => {\n    setFirstName(event.target.value)\n  }\n\n  const onChangeLastName = event => {\n    setLastName(event.target.value)\n  }\n\n  const onChangeCompany = event => {\n    setCompany(event.target.value)\n  }\n\n  const onChangeAddress = event => {\n    setAddress(event.target.value)\n  }\n\n  const onChangeCity = event => {\n    setCity(event.target.value)\n  }\n\n  const onChangeStateAbbr = event => {\n    setStateAbbr(event.target.value)\n  }\n\n  const onChangePostcode = event => {\n    setPostcode(event.target.value)\n  }\n\n  const onChangePhone= event => {\n    setPhone(event.target.value)\n  }\n\n  const handleRegister = async () => {\n\n    let nonceResponse = await axios(register_nonce_url)\n\n    if (nonceResponse.status === 200 && nonceResponse.data.status === 'ok') {\n      const nonce = nonceResponse.data.nonce\n\n      let userFormData = new FormData()\n      userFormData.set('username', username)\n      userFormData.set('user_pass', password)\n      userFormData.set('email', email)\n      userFormData.set('display_name', firstName + ' ' + lastName)\n      userFormData.set('nonce', nonce)\n\n      const config = {\n        method: 'post',\n        headers: {\"Content-Type\": 'multipart/form-data'},\n        url: register_url,\n        data: userFormData\n      }\n\n      let regResponse = await axios(config)\n\n      if (regResponse.status === 200 && regResponse.data.status === 'ok') {\n        const cookie = regResponse.data.cookie\n        const user_id = regResponse.data.user_id\n\n        let metaFormData = new FormData()\n        metaFormData.set('cookie', cookie)\n        metaFormData.set('billing_firstname', firstName)\n        metaFormData.set('billing_lastname', lastName)\n        metaFormData.set('billing_company', company)\n        metaFormData.set('billing_address_1', address)\n        metaFormData.set('billing_city', city)\n        metaFormData.set('billing_state', stateAbbr)\n        metaFormData.set('billing_postcode', postcode)\n        metaFormData.set('billing_phone', phone)\n\n        const metaConfig = {\n          method: 'post',\n          headers: {\"Content-Type\": 'multipart/form-data'},\n          url: update_user_meta_url,\n          data: metaFormData\n        }\n    \n        let metaResponse = await axios(metaConfig)\n\n        if (metaResponse.status === 200 && metaResponse.data.status === 'ok') {\n          const payload = {\n            firstName,\n            lastName,\n            nickName: firstName,\n            email: email,\n            id: user_id,\n            loggedIn: true\n          }\n          signinUser(payload)\n          alert('You are now registered for HOTM online booking!')\n          setOpen(false)\n        }\n        else {\n          alert(metaResponse.data.error)\n        }\n      }\n      else {\n        alert(regResponse.data.error)\n      }\n    }\n    else {\n      alert(nonceResponse.data.error)\n    }\n  }\n\n  return (\n    <Dialog open={open} onBackdropClick={() => setOpen(false)}>\n      <div className={classes.container1}>\n        <div className={classes.grow} />\n        <img className={classes.logo} src={logo} alt=\"Hair on the move logo\" />\n        <div className={classes.grow} />\n      </div>\n      <DialogContent>\n        <Grid container>\n          <Grid item xs={6}>\n            <TextField\n              autoFocus\n              required\n              margin=\"dense\"\n              label=\"username\"\n              type=\"username\"\n              fullWidth\n              onChange={onChangeUsername}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"password\"\n              type=\"password\"\n              fullWidth\n              onChange={onChangePassword}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"email\"\n              type=\"email\"\n              fullWidth\n              onChange={onChangeEmail}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"first name\"\n              type=\"firstname\"\n              fullWidth\n              onChange={onChangeFirstName}\n            />\n          </Grid>  \n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"last name\"\n              type=\"lastname\"\n              fullWidth\n              onChange={onChangeLastName}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              margin=\"dense\"\n              label=\"company\"\n              type=\"company\"\n              fullWidth\n              onChange={onChangeCompany}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              margin=\"dense\"\n              label=\"address\"\n              type=\"address\"\n              fullWidth\n              onChange={onChangeAddress}\n            />\n          </Grid>  \n          <Grid item xs={6}>\n            <TextField\n              margin=\"dense\"\n              label=\"city\"\n              type=\"city\"\n              fullWidth\n              onChange={onChangeCity}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              margin=\"dense\"\n              label=\"postcode\"\n              type=\"postcode\"\n              fullWidth\n              onChange={onChangePostcode}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              margin=\"dense\"\n              label=\"state abbr.\"\n              type=\"state\"\n              fullWidth\n              onChange={onChangeStateAbbr}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"phone\"\n              type=\"phone\"\n              fullWidth\n              onChange={onChangePhone}\n            />\n          </Grid>  \n        </Grid>\n      </DialogContent>\n      <DialogActions className={classes.button1}>\n        <Button variant=\"contained\" onClick={handleRegister} color=\"primary\" fullWidth disabled={disableSubmit}>\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import React, { useEffect, useState, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { auth_url } from '../config/dataLinks'\nimport axios from 'axios'\nimport ForgetPWForm from './ForgetPWForm'\nimport RegisterForm from './RegisterForm'\n\nconst logo = require('../images/logo.png')\n\nconst useStyles = makeStyles(theme => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  container2: {\n    display: 'flex'\n  },\n  grow: {\n    flexGrow: 1\n  },\n  button1: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20\n  },\n  button2: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  logo: {\n    maxWidth: '50%',\n    width: 'auto',\n    height: 'auto',\n    [theme.breakpoints.down('sm')]: {\n      maxHeight: 120,\n    }\n  }\n}))\n\nexport default function SigninForm({theme, triggerOpen, signinUser, initOpen}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n  const[username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [triggerForgetPW, setTriggerForgetPW] = useState(false)\n  const [triggerRegister, setTriggerRegister] = useState(false)\n\n  const classes = useStyles(theme)\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      setOpen(true)\n    }\n    else {\n      didMountRef.current = true\n      setOpen(initOpen)\n    }\n  }, [triggerOpen, initOpen])\n\n  const onChangeUsername = event => {\n    setUsername(event.target.value)\n  }\n\n  const onChangePassword = event => {\n    setPassword(event.target.value)\n  }\n\n  const handleSignin = async () => {\n    let signinFormData = new FormData()\n    signinFormData.set('username', username)\n    signinFormData.set('password', password)\n\n    const config = {\n      method: 'post',\n      headers: {\"Content-Type\": 'multipart/form-data'},\n      url: auth_url,\n      data: signinFormData\n    }\n\n    let response = await axios(config)\n\n    if (response.status === 200 && response.data.user) {\n      let user = response.data.user\n      let isArtist = false\n      if (user.capabilities.staff_members)\n        isArtist = true\n      const payload = {\n        firstName: user.firstname,\n        lastName: user.lastname,\n        nickName: user.nickname,\n        email: user.email,\n        id: user.id,\n        loggedIn: true,\n        isArtist: isArtist\n      }\n      signinUser(payload)\n      setOpen(false)\n    }\n    else {\n      alert('login failed')\n    }\n  }\n\n  const handleForget = () => {\n    setOpen(false)\n    setTriggerForgetPW(!triggerForgetPW)\n  }\n\n  const handleRegister = () => {\n    setOpen(false)\n    setTriggerRegister(!triggerRegister)\n  }\n\n  return (\n    <>\n      <Dialog open={open} onBackdropClick={() => setOpen(false)}>\n        <div className={classes.container1}>\n          <div className={classes.grow} />\n          <img className={classes.logo} src={logo} alt=\"Hair on the move logo\" />\n          <div className={classes.grow} />\n        </div>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"username or email\"\n            type=\"username\"\n            fullWidth\n            onChange={onChangeUsername}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"password\"\n            type=\"password\"\n            fullWidth\n            onChange={onChangePassword}\n          />\n        </DialogContent>\n        <DialogActions className={classes.button1}>\n          <Button variant=\"contained\" onClick={handleSignin} color=\"primary\" fullWidth>\n            Sign in\n          </Button>\n        </DialogActions>\n        <DialogActions className={classes.container2}>\n          <div className={classes.grow} />\n          <Button variant=\"text\" onClick={handleForget} color=\"primary\">\n            Forget password?\n          </Button>\n          <div className={classes.grow} />\n        </DialogActions>\n        <div className={classes.container2}>\n          <div className={classes.grow} />\n          <p>OR</p>\n          <div className={classes.grow} />\n        </div>\n        <DialogActions className={classes.button2}>\n          <Button variant=\"contained\" onClick={handleRegister} color=\"primary\" fullWidth>\n            Register\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <ForgetPWForm triggerOpen={triggerForgetPW}/>\n      <RegisterForm triggerOpen={triggerRegister} signinUser={signinUser}/>\n    </>\n  )\n}","import { connect } from 'react-redux'\nimport { signinUser } from '../actions/userCreator'\nimport SigninForm from '../components/SigninForm'\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signinUser: (payload) => dispatch(signinUser(payload))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(SigninForm)","export const SIGN_IN = 'SIGN_IN'\nexport const SIGN_OUT = 'SIGN_OUT'\n\nexport const signinUser = (payload) => ({\n  type: SIGN_IN,\n  payload\n})\n\nexport const signoutUser = () => ({\n  type: SIGN_OUT,\n})\n","export const CHANGE_ORGANIC = 'CHANGE_ORGANIC'\nexport const CHANGE_PENSIONER_RATE = 'CHANGE_PENSIONER_RATE'\nexport const SUBMIT_BOOKING = 'SUBMIT_BOOKING'\nexport const CHANGE_BOOKING_STAGE = 'CHANGE_BOOKING_STAGE'\nexport const SET_SELECTED_ARTIST = 'SET_SELECTED_ARTIST'\nexport const INC_ITEM_QTY = 'INC_ITEM_QTY'\nexport const DEC_ITEM_QTY = 'DEC_ITEM_QTY'\nexport const GET_AVAIL_ARTISTS = 'GET_AVAIL_ARTISTS'\nexport const RECEIVE_AVAIL_ARTISTS = 'RECEIVE_AVAIL_ARTISTS'\nexport const ERROR_AVAIL_ARTISTS = 'ERROR_AVAIL_ARTISTS'\nexport const RESET_BOOKING = 'RESET_BOOKING'\nexport const MAKE_BOOKING = 'MAKE_BOOKING'\nexport const ACTIVATE_BOOKINGS = 'ACTIVATE_BOOKINGS'\nexport const SEARCH_BOOKING = 'SEARCH_BOOKING'\nexport const ADD_BOOKING = 'ADD_BOOKING'\nexport const SAVE_BOOKING = 'SAVE_BOOKING'\nexport const UPDATE_BOOKING = 'UPDATE_BOOKING'\nexport const ASSIGN_ARTISTS = 'ASSIGN_ARTISTS'\nexport const ASSIGN_CLIENT = 'ASSIGN_CLIENT'\nexport const LOAD_BOOKING = 'LOAD_BOOKING'\nexport const SET_FROM_DATE = 'SET_FROM_DATE'\nexport const SET_TO_DATE = 'SET_TO_DATE'\nexport const SET_ARTIST = 'SET_ARTIST'\nexport const SET_CLIENT = 'SET_CLIENT'\n\nexport const toggleOrganic = () => ({\n  type: CHANGE_ORGANIC\n})\n\nexport const togglePensionerRate = () => ({\n  type: CHANGE_PENSIONER_RATE\n})\n\nexport const submitBooking = (date, bookingEnd, addr) => ({\n  type: SUBMIT_BOOKING,\n  bookingDate: date,\n  bookingEnd: bookingEnd,\n  bookingAddr: addr\n})\n\nexport const changeBookingStage = stage => ({\n  type: CHANGE_BOOKING_STAGE,\n  stage\n})\n\nexport const changeSelectedArtist = order => ({\n  type: SET_SELECTED_ARTIST,\n  order\n})\n\nexport function getAvailArtist(url) {\n  return function(dispatch) {\n    \n    dispatch({\n      type: GET_AVAIL_ARTISTS\n    })\n\n    return fetch(url)\n    .then(\n      response => response.json(),\n      error => {\n        console.log(\"Artists fetching error\")\n        dispatch({\n          type: ERROR_AVAIL_ARTISTS\n        })\n      }\n    )\n    .then(data => {\n      dispatch({\n        type: RECEIVE_AVAIL_ARTISTS,\n        payload: data\n      })\n    })\n  }\n}\n\nexport const incItemQty = id => ({\n  type: INC_ITEM_QTY,\n  itemId: id\n})\n\nexport const decItemQty = id => ({\n  type: DEC_ITEM_QTY,\n  itemId: id\n})\n\nexport const resetBooking = () => ({\n  type: RESET_BOOKING,\n})\n\nexport const setActivateBookings = val => ({\n  type : ACTIVATE_BOOKINGS,\n  val\n})\n\nexport const searchBooking = () => ({\n  type : SEARCH_BOOKING\n})\n\nexport const addBooking = (bookingInfo, callMe) => ({\n  type: ADD_BOOKING,\n  payload: bookingInfo,\n  callMe\n})\n\nexport const updateBooking = (bookingInfo, callMe) => ({\n  type: UPDATE_BOOKING,\n  payload: bookingInfo,\n  callMe\n})\n\nexport const saveBooking = (bookingData) => ({\n  type: SAVE_BOOKING,\n  payload: bookingData,\n})\n\nexport const assignArtists = (artistIds) => ({\n  type: ASSIGN_ARTISTS,\n  artistIds\n})\n\nexport const assignClient = (client) => ({\n  type: ASSIGN_CLIENT,\n  client\n})\n\nexport const loadBooking = (booking) => ({\n  type: LOAD_BOOKING,\n  booking\n})\n\nexport const setFromDate = (val) => ({\n  type: SET_FROM_DATE,\n  val\n})\n\nexport const setToDate = (val) => ({\n  type: SET_TO_DATE,\n  val\n})\n\nexport const setClient = (val) => ({\n  type: SET_CLIENT,\n  val\n})\n\nexport const setArtist = (val) => ({\n  type: SET_ARTIST,\n  val\n})","import React, { useState, useEffect, useRef} from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\n\n\nconst useStyles = makeStyles(() => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  grow: {\n    flexGrow: 1\n  },\n  container2: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignContent: 'center'\n  },\n  button: {\n    display: 'flex',\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  }\n}))\n\nexport default function SignoutForm({firstName, lastName, email, triggerOpen, signoutUser, resetBooking}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleSignout = () => {\n    signoutUser()\n    resetBooking()\n    setOpen(false)\n  }\n\n  return (\n    <Dialog maxWidth='xs' fullWidth open={open}>\n      <div className={classes.container1}>\n        <div className={classes.grow} />\n        <ExitToAppIcon color='primary' fontSize='large'/>\n        <div className={classes.grow} />\n      </div>\n      <DialogContent className={classes.container2}>\n        <Typography variant='h6' align='center'>\n          {firstName + ' ' + lastName}\n        </Typography>\n        <Typography variant='body2' align='center'>\n          {email}\n        </Typography>\n      </DialogContent>  \n      <DialogActions className={classes.button}>\n        <Button variant=\"contained\" onClick={handleClose} color=\"primary\" fullWidth>\n          Cancel\n        </Button>\n        <Button variant=\"contained\" onClick={handleSignout} color=\"primary\" fullWidth>\n          Sign out\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import { connect } from 'react-redux'\nimport { signoutUser } from '../actions/userCreator'\nimport { resetBooking } from '../actions/bookingCreator'\nimport SignoutForm from '../components/SignoutForm'\n\nconst mapStateToProps = state => {\n  return {\n    firstName: state.userInfo.firstName,\n    lastName: state.userInfo.lastName,\n    email: state.userInfo.email\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signoutUser: () => dispatch(signoutUser()),\n    resetBooking: () => dispatch(resetBooking())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignoutForm)","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\n\nexport default function AddArtists({tags, setTags, multiArtists, clearable, artists, label}) {\n\n  const artistOptions = Object.values(artists).sort((a, b) => {\n    let artists1 = a.state.toUpperCase() + a.name\n    let artists2 = b.state.toUpperCase() + b.name\n    if (artists1 < artists2)\n      return -1\n    else if (artists1 > artists2)\n      return 1\n    else\n      return 0\n  })\n\n  const onChangeArtists = (event, value) => {\n    setTags(value)\n  }\n\n  return (\n    <Autocomplete\n      multiple={multiArtists}\n      id=\"artist-list\"\n      disableClearable={clearable}\n      filterSelectedOptions\n      options={artistOptions}\n      groupBy={option => option.state.toUpperCase()}\n      getOptionLabel={option => option.name}\n      value={tags}\n      onChange={onChangeArtists}\n      renderInput={params => (\n        <TextField\n          {...params}\n          variant=\"outlined\"\n          placeholder=\"Artist name\"\n          label={label}\n          fullWidth\n        />\n      )}\n  />\n)\n}","import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { user_url, access_token } from '../config/dataLinks'\nimport axios from \"axios\"\n\nexport default function AddClient({client, setClient, label}) {\n  const [open, setOpen] = useState(false)\n  const [options, setOptions] = useState(client !== null ? [client] : [])\n  const [searchKey, setSearchKey] = useState('')\n  const active = open && searchKey.length >= 3\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n\n    if (active && !loading) {\n      (async () => {\n\n        const config = {\n          method: 'get',\n          headers: { 'Authorization': access_token },\n          url: user_url + '?search=' + searchKey\n        }\n\n        setLoading(true)\n        let clients = await axios(config)\n\n        setOptions(clients.data.map(client => {\n          return {\n            id: client.id,\n            name: client.name, \n            phone: client.meta.billing_phone[0]\n          }\n        }))\n        setLoading(false)\n\n      })()\n    }\n\n  }, [searchKey, active])\n\n  const handleChangeClient = (event, value) => {\n    setClient(value)\n  }\n\n  const handleChangeSearchKey = (event, value, reason) => {\n    if (reason === 'input')\n      setSearchKey(value)\n    else if (reason === 'clear')\n      setSearchKey('')\n  }\n\n  const handleOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n    setSearchKey('')\n    setOptions([])\n  }\n\n  const getOptionLabel = option => {\n    return option.name + ' - ' + option.phone\n  }\n\n  return (\n    <Autocomplete\n      id=\"asynchronous-client\"\n      open={open}\n      onOpen={handleOpen}\n      onClose={handleClose}\n      getOptionLabel={getOptionLabel}\n      options={options}\n      loading={loading}\n      value={client}\n      onChange={handleChangeClient}\n      onInputChange={handleChangeSearchKey}\n      renderInput={params => (\n        <TextField\n          {...params}\n          label={label}\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Client name or username\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <React.Fragment>\n                {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                {params.InputProps.endAdornment}\n              </React.Fragment>\n            ),\n          }}\n        />\n      )}\n    />\n  )\n}","import React, { useEffect, useState, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport { makeStyles } from '@material-ui/core/styles'\nimport DateFnsUtils from '@date-io/date-fns'\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers'\nimport AddArtists from './AddArtists'\nimport AddClient from './AddClient'\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  }\n}))\n\nexport default function Filter({\n  theme,\n  artists,\n  triggerOpen, \n  bookingFilter,\n  setFromDate,\n  setToDate,\n  setArtist,\n  setClient,\n  searchBooking}) {\n\n  const {fromDate, toDate, artist, client} = bookingFilter\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n\n  const classes = useStyles(theme)\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const handleSearch = () => {\n    searchBooking()\n    setOpen(false)\n  }\n  \n  return (\n    <Dialog open={open} onBackdropClick={() => setOpen(false)}>\n      <DialogTitle id=\"simple-dialog-title\">Filters for booking search</DialogTitle>\n      <DialogContent>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <KeyboardDatePicker\n            disableToolbar\n            variant=\"inline\"\n            format=\"dd/MM/yyyy\"\n            margin=\"normal\"\n            id=\"date-picker-inline\"\n            label=\"Select from date\"\n            value={fromDate}\n            onChange={setFromDate}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n          <KeyboardDatePicker\n            disableToolbar\n            variant=\"inline\"\n            format=\"dd/MM/yyyy\"\n            margin=\"normal\"\n            id=\"date-picker-inline\"\n            label=\"Select to date\"\n            value={toDate}\n            onChange={setToDate}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n        </MuiPickersUtilsProvider>\n        <br/>\n        <br/>\n        <AddArtists\n          artists={artists}\n          multiArtists={false}\n          clearable={false}\n          setTags={setArtist}\n          tags={artist}\n          label=\"Select artist\"\n        />\n        <br/>\n        <AddClient\n          setClient={setClient}\n          client={client}\n          label=\"Select client\"\n        />\n      </DialogContent>\n      <DialogActions className={classes.button}>\n        <Button variant=\"contained\" onClick={handleSearch} color=\"primary\" fullWidth>\n          Search\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import { connect } from 'react-redux'\nimport { setFromDate, setToDate, setArtist, setClient, searchBooking } from '../actions/bookingCreator'\nimport Filter from '../components/Filter'\n\nconst mapStateToProps = state => {\n  return {\n    bookingFilter: state.bookingFilter\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    setFromDate: (val) => dispatch(setFromDate(val)),\n    setToDate: (val) => dispatch(setToDate(val)),\n    setArtist: (val) => dispatch(setArtist(val)),\n    setClient: (val) => dispatch(setClient(val)),\n    searchBooking: () => dispatch(searchBooking()) \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter)","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link, withRouter } from 'react-router-dom'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport AppBar from '@material-ui/core/AppBar'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Drawer from '@material-ui/core/Drawer'\nimport { Link as MaterialLink, Typography } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add'\nimport EventIcon from '@material-ui/icons/Event'\nimport LinkIcon from '@material-ui/icons/Link'\nimport CreateIcon from '@material-ui/icons/Create'\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle'\nimport LockIcon from '@material-ui/icons/Lock'\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks'\nimport FilterListIcon from '@material-ui/icons/FilterList'\n\nimport SigninForm from '../config/SigninFormContainer'\nimport SignoutForm from '../config/SignoutFormContainer'\nimport Filter from '../config/FilterContainer'\nimport { home_url } from '../config/dataLinks'\n\nconst logo = require('../images/logo192.png')\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  sectionDesktop: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n}))\n\nconst artistMenu = [\n  {\n    label: \"Add a booking\",\n    pathname: \"/\",\n    icon: <AddIcon />\n  },\n  {\n    label: \"Artist add a booking\",\n    pathname: \"/artist\",\n    icon: <CreateIcon />\n  },\n  {\n    label: \"Manage bookings\",\n    pathname: \"/manage\",\n    icon: <LibraryBooksIcon />\n  },\n  {\n    label: \"Booking calendar\",\n    pathname: \"/calendar\",\n    icon: <EventIcon />\n  },\n  {\n    label: \"Go to Hair on the Move\",\n    pathname: home_url,\n    external: true,\n    icon: <LinkIcon />\n  }\n];\n\nconst userMenu = [\n  {\n    label: \"Add a booking\",\n    pathname: \"/\",\n    icon: <AddIcon />\n  },\n  {\n    label: \"Go to Hair on the Move\",\n    pathname: home_url,\n    external: true,\n    icon: <LinkIcon />\n  }\n];\n\nfunction Topbar ({location, bookingValue, loggedIn, isArtist, artists}) {\n  const classes = useStyles()\n  const [drawerOpen, setDrawerOpen] = useState(false)\n  const [triggerSignin, setTriggerSignin] = useState(false)\n  const [triggerSignout, setTriggerSignout] = useState(false)\n  const [triggerFilter, setTriggerFilter] = useState(false)\n  const currentPath = location.pathname\n  const bookingPage = currentPath === '/' || currentPath === '/artist'\n  const eventsPage = currentPath === '/manage' || currentPath === '/calendar'\n  const menu = isArtist ? artistMenu : userMenu\n  \n  const toggleDrawer = (open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return\n    }\n\n    setDrawerOpen(open)\n  }\n\n  const handleUser = evt => {\n    evt.preventDefault()\n    if (loggedIn)\n      setTriggerSignout(!triggerSignout)\n    else\n      setTriggerSignin(!triggerSignin)\n  }\n\n  const handleFilter = evt => {\n    evt.preventDefault()\n    setTriggerFilter(!triggerFilter)\n  }\n\n  let title\n\n  switch (currentPath) {\n    case '/calendar':\n      title = 'Booking calendar'\n      break\n    case '/manage':\n      title = 'Manage bookings'\n      break\n    case '/artist':\n      title = 'Artist add a booking'\n      break\n    default:\n      title = 'Add a booking'\n  }\n\n  return (\n    <div className={classes.grow}>\n      <AppBar color=\"secondary\" position='static'>\n        <Toolbar>\n          <img width={60} src={logo} alt=\"Hair on the move logo\" />\n          <React.Fragment>\n            <IconButton onClick={toggleDrawer(true)} color=\"inherit\" aria-label=\"Menu\">\n              <MenuIcon />\n            </IconButton>\n            <div className={classes.title}>\n              <Typography variant='h6'>{ title }</Typography>\n            </div>\n            <Drawer anchor=\"left\" open={drawerOpen} onClose={toggleDrawer(false)}>\n              <div\n                role=\"presentation\"\n                onClick={toggleDrawer(false)}\n                onKeyDown={toggleDrawer(false)}\n              >\n                <List>\n                  {menu.map(item => (\n                    <ListItem \n                      component={item.external ? MaterialLink : Link} \n                      href={item.external ? item.pathname : null} \n                      to={item.external ? null : {pathname: item.pathname, search: location.search}} \n                      button key={item.label}\n                      target={item.external ? \"_blank\" : null}\n                    >\n                      <ListItemIcon>{item.icon}</ListItemIcon>\n                      <ListItemText primary={item.label} />\n                    </ListItem>\n                  ))}\n                </List>\n              </div>\n            </Drawer>\n          </React.Fragment>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            {bookingPage && \n            <React.Fragment>\n              <AccountBalanceWalletIcon fontSize='small'/>\n              <span>{' $' + bookingValue}</span>\n            </React.Fragment>}\n            {eventsPage && \n            <IconButton\n              edge=\"end\"\n              color=\"inherit\"\n              onClick={handleFilter}\n            >\n              <FilterListIcon/>\n            </IconButton>}\n            <IconButton\n              edge=\"end\"\n              color=\"default\"\n              onClick={handleUser}\n            >\n              {loggedIn ? <AccountCircleIcon color='primary'/> : <LockIcon style={{color: 'white'}}/>}\n            </IconButton>\n          </div>\n        </Toolbar>\n        <SignoutForm triggerOpen={triggerSignout}/> \n        <SigninForm triggerOpen={triggerSignin} initOpen={false}/>\n        <Filter triggerOpen={triggerFilter} artists={artists}/> \n      </AppBar>\n    </div>\n  )\n}\n\nexport default withRouter(Topbar)\n","import { useState, useEffect, useReducer } from \"react\"\nimport axios from \"axios\"\n\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_INIT\":\n      return { ...state, isLoading: true, hasErrored: false }\n    case \"FETCH_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        data: action.payload\n      }\n    case \"FETCH_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        hasErrored: true,\n        errorMessage: \"Data Retrieve Failure\"\n      }\n    default:\n      throw new Error()\n  }\n}\n\nconst useAxiosFetch = (initialUrl, initialData, active) => {\n  const [url] = useState(initialUrl)\n\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    hasErrored: false,\n    errorMessage: \"\",\n    data: initialData\n  })\n\n  useEffect(() => {\n    let didCancel = false\n\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_INIT\" })\n\n      try {\n        let result = await axios.get(url)\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data })\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_FAILURE\" })\n        }\n      }\n    }\n\n    if (active) {\n      fetchData()\n    }\n\n    return () => {\n      didCancel = true\n    }\n  }, [url, active])\n\n  return { ...state }\n}\n\nexport default useAxiosFetch\n","import { useState, useEffect, useReducer } from \"react\"\nimport axios from \"axios\"\n\nconst convertArrayToObject = (array, key) => {\n  const initialValue = {};\n  return array.reduce((obj, item) => {\n    return {\n      ...obj,\n      [item[key].toString()]: item,\n    };\n  }, initialValue)\n}\n\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_INIT\":\n      return {\n        ...state,\n        isLoading: true,\n        isUpdating: false,\n        hasErrored: false\n      }\n    case \"FETCH_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        // data: Object.assign({}, state.data, convertArrayToObject(action.payload, 'booking_id'))\n        data: Object.assign({}, convertArrayToObject(action.payload, 'booking_id'))\n      }\n    case \"FETCH_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: true,\n        errorMessage: \"Data Retrieve Failure\"\n      }\n    case \"UPDATE_INIT\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: true,\n        hasErrored: false\n      }\n    case \"POST_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        data: Object.assign({}, state.data, convertArrayToObject([action.payload], 'booking_id'))\n      }\n    case \"PUT_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        data: Object.assign({}, state.data, convertArrayToObject([action.payload], 'booking_id'))\n      }\n    case \"DELETE_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\"\n      }\n    case \"UPDATE_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: true,\n        errorMessage: action.errMessage\n      }\n  \n    default:\n      throw new Error()\n  }\n}\n\nconst useAxiosCRUD = (url, initialData, active, method, data, callMe, bookingTrigger) => {\n\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isUpdating: false,\n    hasErrored: false,\n    errorMessage: \"\",\n    data: initialData\n  })\n\n  useEffect(() => {\n    let didCancel = false\n\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_INIT\" })\n\n      try {\n        let result = await axios.get(url)\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data })\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_FAILURE\" })\n        }\n      }\n    }\n\n    const createData = async (data) => {\n      dispatch({ type: \"UPDATE_INIT\"})\n\n      const config = {\n        method: 'post',\n        headers: {\"Content-Type\": \"application/json\"},\n        url: url,\n        data: data\n      }\n\n      try {\n        let result = await axios(config)\n        let bookingId = result.data.booking_id\n        if (!didCancel) {\n          if (bookingId > 0) {\n            let payload = {...data, booking_id: bookingId}\n            dispatch({ type: \"POST_SUCCESS\", payload: payload })\n            callMe()\n          }\n          else {\n            alert(result.data.error + ' Please call to resolve this issue.')\n          }\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"UPDATE_FAILURE\", errorMessage: err })\n        }\n      }\n    }\n\n    const updateData = async (data) => {\n      dispatch({ type: \"UPDATE_INIT\"})\n\n      const config = {\n        method: 'put',\n        headers: {\"Content-Type\": \"application/json\"},\n        url: url,\n        data: data\n      }\n\n      try {\n        let result = await axios(config)\n        let bookingId = result.data.booking_id\n        if (!didCancel) {\n          if (bookingId > 0) {\n            /*\n             * Balance payment success. Change paid_amount to total_amount locally. Server performs this step. Because \n             * we don't read back the updated booking record from the server, we simply modify paid_amount locally.\n             */ \n            if (data.paid_amount > 0)\n              data.paid_amount = data.total_amount\n            dispatch({ type: \"PUT_SUCCESS\", payload: data })\n            callMe()\n          }\n          else {\n            alert(result.data.error + ' Please call to resolve this issue.')\n          }\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"UPDATE_FAILURE\", errorMessage: err })\n        }\n      }\n    }\n\n    if (active && !state.isLoading && !state.isUpdating) {\n      switch (method) {\n        case 'get': {\n          fetchData()\n          break\n        }\n        case 'post': {\n          createData(data)\n          break\n        }\n        case 'put': {\n          updateData(data)\n          break\n        }\n        default:\n          throw new Error()\n      }\n    }\n\n    return () => {\n      didCancel = true\n    }\n  }, [active, method, data, bookingTrigger])\n\n  return { ...state }\n}\n\nexport default useAxiosCRUD\n","export const getBookingValue = (items, priceFactors, itemQty) => {\n  let total = 0\n  let organic = priceFactors.organic\n  let pensioner = priceFactors.pensionerRate\n\n  for (let id of Object.keys(itemQty)) {\n    let qty = itemQty[id]\n    total += (organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1) * qty\n  }\n  \n  return total.toFixed(2)\n}\n\nexport const getDepositPayable = (totalBookingValue) => {\n  return (totalBookingValue * 0.3).toFixed(2)\n}\n","import React, { useState, useEffect, createContext } from \"react\"\nimport useAxiosFetch from '../actions/useAxiosFetch'\nimport useAxiosCRUD from '../actions/useAxiosCRUD'\nimport { normaliseArtists, normaliseServices } from '../utils/dataFormatter'\nimport { bookings_url, user_url, access_token, artists_url, services_url } from '../config/dataLinks'\nimport { getEvents } from '../utils/dataFormatter'\nimport axios from 'axios'\nimport moment from 'moment'\n\nconst BookingsStoreContext = createContext()\n\nconst initFilter = (fromDate, toDate) => {\n  return new String (bookings_url + '?from_date=' + moment(fromDate).format(\"YYYY-MM-DD\") + '&to_date=' + moment(toDate).format(\"YYYY-MM-DD\"))\n}\n\nconst BookingsStoreProvider = ({children, storeCtrl, bookingFilter}) => {\n  const {servicesActive, artistsActive, bookingsActive, requestMethod, data, callMe, bookingTrigger} = storeCtrl\n  const {fromDate, toDate} = bookingFilter\n  const artistId = bookingFilter.artist ? bookingFilter.artist.id : null\n  const clientId = bookingFilter.client ? bookingFilter.client.id : null\n  const [bookingUrl, setBookingUrl] = useState(initFilter(fromDate, toDate))\n  const [services, setServices] = useState({})\n  const [servicesFetched, setServicesFetched] = useState(false)\n  const [artists, setArtists] = useState({})\n  const [artistsFetched, setArtistsFetched] = useState(false)\n  const [events, setEvents] = useState([])\n  const [eventsFetched, setEventsFetched] = useState(false)\n  const [clientList, setClientList] = useState([])\n  const [clientsFetchTrigger, setClientsFetchTrigger] = useState(false)\n  const [clients, setClients] = useState({})\n\n  let servicesData = useAxiosFetch(services_url, [], servicesActive)\n\n  useEffect(() => {\n    if (servicesData.data.length !== 0) {\n      setServices(normaliseServices(servicesData.data))\n      setServicesFetched(true)\n    }\n  }, [servicesData.isLoading, servicesData.data])\n\n  let artistsData = useAxiosFetch(artists_url, [], artistsActive)\n\n  //update booking filter\n  useEffect(() => {\n    let newFilter = new String(bookings_url + '?from_date=' + moment(fromDate).format(\"YYYY-MM-DD\"))\n\n    newFilter = newFilter + '&to_date=' + moment(toDate).format(\"YYYY-MM-DD\")\n    \n    if (artistId)\n      newFilter = newFilter + '&artist_id=' + artistId.toString()\n\n    if (clientId)\n    newFilter = newFilter + '&client_id=' + clientId.toString()\n\n    setBookingUrl(newFilter)\n  }, [fromDate, toDate, artistId, clientId])\n\n  useEffect(() => {\n    if (artistsData.data.length !== 0) {\n      setArtists(normaliseArtists(artistsData.data))\n      setArtistsFetched(true)\n    }\n  }, [artistsData.isLoading, artistsData.data])\n\n  let bookingsData = useAxiosCRUD(bookingUrl, {}, bookingsActive, requestMethod, data, callMe, bookingTrigger)\n\n  const getClientListFromBookings = bookings => {\n    let list = []\n    for (let key in bookings) {\n      let client_id = bookings[key].client_id\n      if (!list.includes(client_id))\n        list.push(client_id)\n    }\n\n    return list\n  }\n\n  useEffect(() => {\n    if (bookingsData.data.length !== 0) {\n      setClientList(getClientListFromBookings(bookingsData.data))\n    }\n  }, [bookingsData.isLoading, bookingsData.data])\n\n  useEffect(() => {\n    if (clientList.length > 0) {\n      \n      Promise.allSettled(clientList.map(id => {\n        const config = {\n          method: 'get',\n          headers: { 'Authorization': access_token },\n          url: user_url + '/' + id\n        }\n        return axios(config)\n      }))\n      .then((results) => {\n        let temp = {}\n        results.forEach(result => {\n          if (result.status === 'fulfilled') {\n            let client = result.value.data\n            let id = client.id\n            temp[id.toString()] = {\n              id,\n              name: client.name,\n              phone: client.meta.billing_phone[0]\n            }\n          }\n        })\n        setClients(temp)\n        setClientsFetchTrigger(!clientsFetchTrigger)\n      })\n    }\n  }, [clientList])\n\n  useEffect(() => {\n    if (artistsFetched && servicesFetched) {\n      setEvents(getEvents(bookingsData.data, artists, clients, services.items))\n      setEventsFetched(true)\n    }\n  }, [clientsFetchTrigger, clients])\n\n  return (\n    <BookingsStoreContext.Provider value={{services, servicesFetched, events, eventsFetched, artists, artistsFetched, bookingsData}}>\n      {children}\n    </BookingsStoreContext.Provider>\n  )\n}\n\nexport { BookingsStoreContext, BookingsStoreProvider }","import React, { Component } from 'react'\nimport withStyles from '@material-ui/styles/withStyles'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport Grid from '@material-ui/core/Grid'\nimport Avatar from '@material-ui/core/Avatar'\nimport Link from '@material-ui/core/Link'\nimport { instagram_url } from '../config/dataLinks'\n\nconst styles = theme => ({\n  paper: {\n    position: 'relative',\n    padding: theme.spacing(3),\n    color: theme.palette.text.secondary,\n    background: \"linear-gradient(#f0e8e8, #e0d8d8)\",\n    height: 300,\n    [theme.breakpoints.down('sm')]: {\n      height: 450\n    }\n  },\n  avatar: {\n    width: 100,\n    height: 100,\n    [theme.breakpoints.up('sm')]: {\n      width: 160,\n      height: 160\n    }\n  },\n  flex: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  itemContainer: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'flex-start',\n    [theme.breakpoints.down('md')]: {\n      alignItems: 'center'\n    }\n  },\n  instagram: {\n    position: 'absolute',\n    right: 20,\n    bottom: 20\n  }\n})\n\nclass CardItem extends Component { \n  render() {\n    const { classes, avatar, name, bio, title, hashtag } = this.props\n    const url = instagram_url + hashtag\n\n    return (\n      <Paper className={classes.paper} elevation={6}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} md={3} className={classes.flex}>\n            <Avatar alt=\"\" src={ avatar } className={classes.avatar}/>\n          </Grid>\n          <Grid item xs={12} md={9}>\n            <div className={classes.itemContainer}>\n              <Typography variant=\"h5\" gutterBottom>\n                { name }\n              </Typography>\n              <Typography gutterBottom>\n                { bio }\n              </Typography>\n              <Typography variant=\"h6\" gutterBottom>\n                { title }\n              </Typography>\n            </div>\n          </Grid>\n        </Grid>\n        <Link target=\"_blank\" href={url} className={classes.instagram} rel=\"noopener\">\n          RECENT WORK\n        </Link>\n      </Paper>\n    )\n  }\n}\n\nexport default withStyles(styles)(CardItem)\n","import React, { useState, useContext, useEffect } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ArtistCard from './ArtistCard'\nimport Container from '@material-ui/core/Container'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport { BookingsStoreContext } from './BookingsStoreProvider'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    maxWidth: 'sm',\n    paddingTop: 20, \n    paddingBottom: 20\n  },\n  progress: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: 40\n  },\n  flex: {\n    display: 'flex',\n    marginTop: 10\n  },\n  grow: {\n    flexGrow: 1,\n  }\n}))\n\nexport default function ArtistSelection ({theme, changeBookingStage, availArtists, selectedArtist, changeSelectedArtist, bookingDateAddr}) {\n  const { artists } = useContext(BookingsStoreContext)\n  const classes = useStyles()\n  const [activeStep, setActiveStep] = useState(selectedArtist)\n  const [maxSteps, setMaxSteps] = useState(0)\n  const { ids, isLoading, hasErr } = availArtists\n  let artistsFound = !isLoading && ids.length > 0\n  let noArtists = !isLoading && !hasErr && ids.length === 0\n\n  useEffect(() => {\n    setMaxSteps(ids.length)\n  }, [isLoading, ids.length])\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1)\n  }\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1)\n  }\n\n  const handleSelect = () => {\n    changeSelectedArtist(activeStep)\n    changeBookingStage(2)\n  }\n\n  return (\n    <Container className={classes.container}>\n      {artistsFound &&\n      <React.Fragment>\n        <ArtistCard\n          avatar={artists[ids[activeStep]].photo} \n          name={artists[ids[activeStep]].name} \n          title={artists[ids[activeStep]].title }\n          bio={artists[ids[activeStep]].bio} \n          hashtag={artists[ids[activeStep]].hashtag}\n        />\n        <MobileStepper\n          steps={maxSteps}\n          position=\"static\"\n          variant=\"text\"\n          activeStep={activeStep}\n          nextButton={\n            <Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1}>\n              Next artist\n              <KeyboardArrowRight />\n            </Button>\n          }\n          backButton={\n            <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0}>\n              <KeyboardArrowLeft />\n              Prev artist\n            </Button>\n          }\n        />\n      </React.Fragment>}\n      {isLoading && <div className={classes.progress}><CircularProgress color='primary' /></div>}\n      {hasErr &&\n      <Typography variant=\"body1\" align=\"center\" color=\"textPrimary\">\n        Fetching error\n      </Typography>}\n      {noArtists &&\n      <Typography variant=\"body1\" align=\"center\" color=\"textPrimary\">\n        Sorry, no artists are available\n      </Typography>}\n      <div className={classes.flex}>\n        <Button variant=\"text\" color=\"primary\" size='large' onClick={() => changeBookingStage(0)}>\n          back\n        </Button>\n        <div className={classes.grow} />\n        <Button variant=\"text\" color=\"primary\" size='large' onClick={handleSelect} disabled={!artistsFound}>\n          select this artist\n        </Button>\n      </div>\n    </Container>\n  )\n}\n","import { connect } from 'react-redux'\nimport { changeSelectedArtist } from '../actions/bookingCreator'\nimport ArtistSelection from '../components/ArtistSelection'\n\nconst mapStateToProps = state => {\n  return {\n    availArtists: state.availArtists,\n    selectedArtist: state.selectedArtist.order,\n    bookingDateAddr: state.bookingDateAddr\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      changeSelectedArtist: order => dispatch(changeSelectedArtist((order)))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArtistSelection)","import React from 'react'\nimport Stepper from '@material-ui/core/Stepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Typography from '@material-ui/core/Typography'\nimport Container from '@material-ui/core/Container'\n\n\nfunction getSteps() {\n  return ['Select service', 'Select an artist', 'Confirm booking', 'Pay deposit']\n}\n\nfunction getStepContent(stepIndex) {\n  switch (stepIndex) {\n    case 0:\n      return 'Select service items, time and location to find available artists'\n    case 1:\n      return 'Select an artist for your booking'\n    case 2:\n      return 'Confirm your booking details'\n    case 3:\n      return 'Pay the deposit to secure your booking'\n    default:\n      return 'Unknown stepIndex'\n  }\n}\n\nexport default function BookingSteps(props) {\n  const steps = getSteps()\n  const { activeStep } = props\n\n  return (\n    <Container maxWidth=\"md\" style={{paddingTop: 20}}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map(label => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <Typography variant='h6' align='center' gutterBottom>{getStepContent(activeStep)}</Typography>\n    </Container>\n  )\n}","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableRow from '@material-ui/core/TableRow'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport ArrowDropDownIcon from '@material-ui/icons/ArrowDropDown'\nimport ArrowDropUpIcon from '@material-ui/icons/ArrowDropUp'\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney'\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\nimport AddIcon from '@material-ui/icons/Add'\nimport RemoveIcon from '@material-ui/icons/Remove'\nimport PhoneEnabledIcon from '@material-ui/icons/PhoneEnabled'\n\nimport ButtonGroup from '@material-ui/core/ButtonGroup'\nimport Button from '@material-ui/core/Button'\nimport Badge from '@material-ui/core/Badge'\n\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    width: '100%',\n    overflowX: 'auto',\n  },\n  background: {\n    backgroundColor: theme.palette.primary.main\n  },\n  priceField: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'inline',\n    }\n  },\n  priceEmbedded: {\n    display: 'inline',\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    }\n  }\n}))\n\nexport default function ServiceMenu({ theme, items, cat, organic, pensioner, itemQty, incItemQty, decItemQty, artistBooking }) {\n  const classes = useStyles(theme)\n  const [ listOpen, setListOpen ] = useState(false)\n\n  const toggleListOpen = (e) => { setListOpen(!listOpen) }\n\n  const totalItems = (cat, itemQty) => {\n    let total = 0\n    for (let id of cat.list) {\n      total += (itemQty[id] ? itemQty[id] : 0)\n    }\n    return total\n  }\n\n  return (\n    <Paper className={classes.paper}>\n      <Table size=\"small\" aria-label=\"a dense table\">\n        <TableHead className={classes.background}>\n          <TableRow>\n            <TableCell align=\"left\" style={{width: \"60%\"}}>\n              {cat.name.toUpperCase()}\n              <IconButton onClick={toggleListOpen} edge='start'>\n                {listOpen ? <ArrowDropUpIcon/> : <ArrowDropDownIcon/>}\n              </IconButton>\n            </TableCell>\n            <TableCell align=\"right\" style={{width: \"30%\", padding: 0}}>\n              <div className={classes.priceField}>\n                <AttachMoneyIcon fontSize=\"small\" color=\"inherit\"/>\n              </div>\n            </TableCell>\n            <TableCell align=\"right\" style={{width: \"10%\"}}>\n              <IconButton color=\"inherit\">\n                <Badge badgeContent={totalItems(cat, itemQty)} showZero>\n                  <ShoppingCartIcon/>\n                </Badge>\n              </IconButton>\n            </TableCell>\n          </TableRow>\n        </TableHead>\n        {listOpen ?\n          <TableBody>\n            {cat.list.map(id => (\n              <TableRow key={id}>\n                <TableCell align=\"left\" style={{width: \"60%\"}}>\n                  {items[id].description + (items[id].addOn ? '*' : '')}\n                  <div className={classes.priceEmbedded}>\n                    {' - $' + ((organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1)).toFixed(2)}\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\" style={{width: \"30%\", padding: 0}}>\n                  <div className={classes.priceField}>\n                    {((organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1)).toFixed(2)}\n                  </div>\n                </TableCell>\n                {items[id].onlineBooking || artistBooking ?\n                  <TableCell align=\"right\" style={{width: \"10%\"}}>\n                    <ButtonGroup>\n                      <Button \n                        variant=\"text\" \n                        startIcon={<AddIcon fontSize=\"small\"/>}\n                        onClick={() => incItemQty(id)}\n                      >\n                        {itemQty[id] ? itemQty[id] : 0} \n                      </Button>\n                      <IconButton onClick={() => decItemQty(id)}>\n                        <RemoveIcon fontSize=\"small\"/>\n                      </IconButton>\n                    </ButtonGroup>\n                  </TableCell>\n                  : \n                  <TableCell align=\"center\" style={{width: \"10%\"}}>\n                    <PhoneEnabledIcon/>\n                  </TableCell>\n                }\n              </TableRow>\n            ))}\n          </TableBody>\n          : null\n        }\n      </Table> \n    </Paper>\n  )\n\n}\n","import { connect } from 'react-redux'\nimport { incItemQty, decItemQty } from '../actions/bookingCreator'\nimport ServiceMenu from '../components/ServiceMenu'\n\nconst mapStateToProps = state => {\n  return {\n    itemQty: state.itemQty\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      incItemQty: id => dispatch(incItemQty(id)),\n      decItemQty: id => dispatch(decItemQty(id))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ServiceMenu)\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container'\nimport FormControl from '@material-ui/core/FormControl'\nimport Input from '@material-ui/core/Input'\nimport InputLabel from '@material-ui/core/InputLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport AddLocationIcon from '@material-ui/icons/AddLocation';\n\nimport PlacesAutocomplete from 'react-places-autocomplete'\n\nconst useStyles = makeStyles(theme => ({\n  container: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    padding: 0,\n    paddingBottom: 20\n  },\n  textField: {\n    width: \"100%\"\n  }\n}))\n\n//Constrain Google Places API to search within Australia only\nconst searchOptions = {\n  componentRestrictions: {\n    country: 'au'\n  }\n}\n\nexport default function LocationSearchInput ({ address, changeAddr}) {\n  const classes = useStyles()\n\n  return (\n    <PlacesAutocomplete\n      value={address}\n      onChange={changeAddr}\n      onSelect={changeAddr}\n      searchOptions={searchOptions}\n    >\n      {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\n        <Container className={classes.container}>\n          <FormControl className={classes.textField}>\n            <InputLabel htmlFor=\"input-with-icon-adornment\">Enter booking location</InputLabel>\n            <Input\n              {...getInputProps({\n                placeholder: 'Booking location ...'\n              })}\n              startAdornment={\n                <InputAdornment position=\"start\">\n                  <AddLocationIcon />\n                </InputAdornment>\n              }\n            />\n          </FormControl>\n          <div>\n              {loading && <div>Loading...</div>}\n              {suggestions.map(suggestion => {\n                const className = suggestion.active\n                  ? 'suggestion-item--active'\n                  : 'suggestion-item'\n                // inline style for demonstration purpose\n                const style = suggestion.active\n                  ? { backgroundColor: '#f0e0e0', cursor: 'pointer' }\n                  : { backgroundColor: 'white', cursor: 'pointer' }\n                return (\n                  <div\n                    {...getSuggestionItemProps(suggestion, {\n                      className,\n                      style,\n                    })}\n                  >\n                    {suggestion.description}\n                  </div>\n                );\n              })}\n          </div>\n        </Container>\n      )}\n    </PlacesAutocomplete>\n  )\n}\n","import React, { useState, useEffect } from \"react\"\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport Container from '@material-ui/core/Container'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Switch from '@material-ui/core/Switch'\nimport Grid from '@material-ui/core/Grid'\nimport DateFnsUtils from '@date-io/date-fns'\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardTimePicker,\n  KeyboardDatePicker,\n} from '@material-ui/pickers'\n\nimport ServiceMenu from '../config/ServiceMenuContainer'\n\nimport LocationSearchInput from './LocationSearchInput'\n\nimport { available_artists_url } from '../config/dataLinks'\nimport moment from 'moment'\n\nconst useStyles = makeStyles(theme => ({\n  flex: {\n    display: 'flex',\n  },\n  grow: {\n    flexGrow: 1,\n  }\n}))\n\n\nconst ServiceSelection = ({ \n  theme, \n  services,\n  itemQty, \n  onSubmit, \n  organic, \n  pensionerRate, \n  bookingDate, \n  bookingAddr, \n  toggleOrganic, \n  togglePensionerRate, \n  submitBooking,\n  getAvailArtist,\n  changeSelectedArtist,\n  artistBooking,\n  newBooking,\n  setManageState }) => {\n  \n  const classes = useStyles()\n  const items = services.items\n  const cats = services.cats\n  const [selectedDate, setSelectedDate] = useState(bookingDate)\n  const [address, setAddress] = useState(bookingAddr)\n  \n  useEffect(() => {\n    setSelectedDate(bookingDate)\n    setAddress(bookingAddr)\n  }, [bookingAddr, bookingDate])\n\n  const missingFields = () => {\n    let qty = 0\n    for (let id of Object.keys(itemQty)) {\n      qty += itemQty[id]\n    }\n    \n    return !(qty > 0 && address && selectedDate)\n  }\n\n  const handleDateChange = date => {\n    setSelectedDate(date);\n  }\n\n  const handleAddrChange = address => {\n    setAddress(address)\n  }\n\n  const getBookingEnd = () => {\n    let duration = 0\n    for (let id of Object.keys(itemQty)) {\n      let qty = itemQty[id]\n      duration += items[id].timeOnsite * qty\n    }\n    //timeOnsite is minutes\n    return selectedDate.getTime() + duration * 60 * 1000\n  }\n\n  const checkBookingRules = () => {\n    let allAddOn = true\n    Object.keys(itemQty).forEach(id => {allAddOn = items[id].addOn && allAddOn})\n\n    if (pensionerRate && selectedDate.getDay() !== 1) {\n      alert('Sorry, pensioner rate is only available on Mondays.')\n      return false\n    }\n    else if (allAddOn) {\n      alert('Sorry, add-on services* can not be booked on its own.')\n      return false\n    }\n\n    return true\n  }\n\n  const handleSubmit = event => {\n\n    if (!checkBookingRules())\n      return\n\n    submitBooking(selectedDate, new Date(getBookingEnd()), address)\n\n    /*A workaround for redux-thunk error. When passing (itemQty, selectedDate, address) to getAvailArtist action creator,\n    *(itemQty, selectedDate, address) become undefined even though the values are still correct in mapDispatchToProps.\n    */\n    let url = available_artists_url + '?date=' + moment(selectedDate).format(\"YYYY-MM-DD\") + \n    '&start_time=' + moment(selectedDate).format(\"HH:mm\") + '&services=' + Object.keys(itemQty) +\n    '&quantities=' + Object.values(itemQty) + '&event_addr=' + address\n    \n    getAvailArtist(url)\n\n    changeSelectedArtist(0)\n    onSubmit(1)\n  }\n\n  const handleNext = event => {\n    if (!checkBookingRules())\n    return\n\n    submitBooking(selectedDate, new Date(getBookingEnd()), address)\n    onSubmit(1)\n  }\n\n  const handleCancel = () => {\n    setManageState('Default')\n  }\n\n  return (\n    <Container maxWidth=\"sm\" style={{paddingTop: 20, paddingBottom: 50}}>\n      <FormControlLabel\n        control={\n          <Switch checked={pensionerRate} onChange={() => togglePensionerRate()} value=\"pensionerRate\" color=\"primary\"/>\n        }\n        label=\"Monday pensioner rate (less 20%)\"\n      />\n      <FormControlLabel\n        control={\n          <Switch checked={organic} onChange={() => toggleOrganic()} value=\"organic\" color=\"primary\"/>\n        }\n        label=\"Use organic products\"\n      />\n      {cats.map( cat => \n        <ServiceMenu\n          theme={theme}\n          items={items}\n          key={cat.name}\n          cat={cat} \n          organic={organic}\n          pensioner={pensionerRate}\n          artistBooking={artistBooking}\n        />\n      )}\n      <MuiPickersUtilsProvider utils={DateFnsUtils}>\n        <Grid container justify=\"space-between\">\n          <KeyboardDatePicker\n            disableToolbar\n            variant=\"inline\"\n            format=\"dd/MM/yyyy\"\n            margin=\"normal\"\n            id=\"date-picker-inline\"\n            label=\"Select booking date\"\n            value={selectedDate}\n            onChange={handleDateChange}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n          <KeyboardTimePicker\n            margin=\"normal\"\n            id=\"time-picker\"\n            label=\"Select booking time\"\n            value={selectedDate}\n            onChange={handleDateChange}\n            KeyboardButtonProps={{\n              'aria-label': 'change time',\n            }}\n          />\n        </Grid>\n      </MuiPickersUtilsProvider>\n      <LocationSearchInput address={address} changeAddr={handleAddrChange}/>\n      <div className={classes.flex}>\n        {!newBooking &&\n        <Button variant='text' color='primary' onClick={handleCancel}>\n          Cancel\n        </Button>}\n        <div className={classes.grow} />\n        <Button variant='text' color='primary' onClick={artistBooking ? handleNext : handleSubmit} size=\"large\" disabled={missingFields()}>\n          {artistBooking ? 'Next' : 'Submit'}\n        </Button>\n      </div>\n    </Container>\n  );\n}\n\nexport default ServiceSelection\n\n","import { connect } from 'react-redux'\nimport { toggleOrganic, togglePensionerRate, submitBooking, getAvailArtist, changeSelectedArtist } from '../actions/bookingCreator'\nimport ServiceSelection from '../components/ServiceSelection'\n\nconst mapStateToProps = state => {\n  return {\n    organic: state.priceFactors.organic,\n    pensionerRate: state.priceFactors.pensionerRate,\n    bookingDate: state.bookingDateAddr.bookingDate,\n    bookingAddr: state.bookingDateAddr.bookingAddr,\n    itemQty: state.itemQty\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      toggleOrganic: () => dispatch(toggleOrganic()),\n      togglePensionerRate: () => dispatch(togglePensionerRate()),\n      submitBooking: (date, bookingEnd, addr) => dispatch(submitBooking(date, bookingEnd, addr)),\n      getAvailArtist: (url) => dispatch(getAvailArtist(url)),\n      changeSelectedArtist: id => dispatch(changeSelectedArtist((id)))\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ServiceSelection)\n","import React, { useState } from 'react'\nimport moment from 'moment'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableRow from '@material-ui/core/TableRow'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Link from '@material-ui/core/Link'\nimport Chip from '@material-ui/core/Chip'\nimport DoneIcon from '@material-ui/icons/Done'\nimport { term_url } from '../config/dataLinks'\n\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(3),\n    color: theme.palette.text.secondary,\n    background: \"linear-gradient(#f0e8e8, #e0d8d8)\",\n    width: '100%',\n    overflowX: 'auto'\n  },\n  flex: {\n    display: 'flex',\n    marginTop: 10\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  background: {\n    backgroundColor: theme.palette.primary.main\n  },\n  priceField: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'inline',\n    }\n  },\n  priceEmbedded: {\n    display: 'inline',\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    }\n  },\n  acknowledge: {\n    display: 'flex',\n    marginTop: 20,\n    alignItems: 'flexStart'\n  },\n  inline: {\n    display: 'inline',\n    paddingTop: 0\n  }\n}))\n\nfunction Confirmation ({ bookingDate, bookingEnd, bookingAddr, artistId, items, itemQty, changeBookingStage, organic, pensioner, bookingValue, artists }) {\n  const [checkedDeposit, setCheckedDeposit] = useState(false)\n  const [checkedTerm, setCheckedTerm] = useState(false)\n  const [checkedParking, setCheckedParking] = useState(false)\n  const classes = useStyles()\n\n  const handleDeposit = event => {\n    setCheckedDeposit(!checkedDeposit)\n  }\n\n  const handleTerm = event => {\n    setCheckedTerm(!checkedTerm)\n  }\n\n  const handleParking = event => {\n    setCheckedParking(!checkedParking)\n  }\n\n  let ids = Object.keys(itemQty)\n\n  return (\n    <Container maxWidth=\"sm\" style={{paddingTop: 20, paddingBottom: 50}}>\n      <Paper className={classes.paper}>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textPrimary\">\n          { moment(bookingDate).format(\"dddd, Do MMMM YYYY\") }\n        </Typography>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textPrimary\" gutterBottom>\n          { moment(bookingDate).format('LT') + ' – ' + moment(bookingEnd).format('LT')}\n        </Typography>\n        <Table size=\"small\" aria-label=\"a dense table\">\n          <TableHead className={classes.background}>\n            <TableRow>\n              <TableCell align=\"left\" style={{width: \"70%\"}}>\n                <b>Booking location</b>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow>\n              <TableCell align=\"left\">\n                {bookingAddr}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n        <br/>\n        <Table size=\"small\" aria-label=\"a dense table\">\n          <TableHead className={classes.background}>\n            <TableRow>\n              <TableCell align=\"left\" style={{width: \"70%\"}}>\n                <b>Selected artist</b>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow>\n              <TableCell align=\"left\">\n              {artists[artistId].name}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n        <br/>\n        <Table size=\"small\" aria-label=\"a dense table\">\n          <TableHead className={classes.background}>\n            <TableRow>\n              <TableCell align=\"left\" style={{width: \"70%\"}}>\n                <b>Services requested</b>\n              </TableCell>\n              <TableCell align=\"right\" style={{width: \"20%\", padding: 0}}>\n                <div className={classes.priceField}>\n                <b>Unit price</b>\n                </div>\n              </TableCell>\n              <TableCell align=\"right\" style={{width: \"10%\"}}>\n              <b>Qty</b>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {ids.map(id => (\n              <TableRow key={id}>\n                <TableCell align=\"left\" style={{width: \"70%\"}}>\n                  {items[id].description}\n                  <div className={classes.priceEmbedded}>\n                    {' - $' + ((organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1)).toFixed(2)}\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\" style={{width: \"20%\", padding: 0}}>\n                  <div className={classes.priceField}>\n                    {'$' + ((organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1)).toFixed(2)}\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\" style={{width: \"10%\"}}>\n                  {itemQty[id]} \n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        {pensioner ? <Chip deleteIcon={<DoneIcon/>} onDelete={()=> {}} label=\"Monday pensioner rate\" color='primary' size=\"small\"/> : null}\n        {organic ? <Chip deleteIcon={<DoneIcon/>} onDelete={()=> {}} label=\"Use organic products\" color='primary' size=\"small\"/> : null}\n        <hr></hr>\n        <Typography variant=\"subtitle2\" align=\"right\" color=\"textPrimary\">\n          {'TOTAL (GST INCL): $' + bookingValue}\n        </Typography>\n        <div className={classes.acknowledge}>\n          <Checkbox checked={checkedDeposit} onChange={handleDeposit} value=\"checkedDeposit\" className={classes.inline}/>\n          <Typography variant=\"body2\" align=\"left\" color=\"textPrimary\">\n            Please pay 30% of the requested services to secure your booking now.\n          </Typography>\n        </div>\n        <div className={classes.acknowledge}>\n          <Checkbox checked={checkedTerm} onChange={handleTerm} value=\"checkedTerm\" className={classes.inline}/>\n          <Typography variant=\"body2\" align=\"left\" color=\"textPrimary\">\n            Please read and accept our &nbsp;\n          </Typography>\n          <Link target=\"_blank\" href={term_url} rel=\"noopener\">\n            Terms & Conditions.\n          </Link>\n        </div>\n        <div className={classes.acknowledge}>\n          <Checkbox checked={checkedParking} onChange={handleParking} value=\"checkedTerm\" className={classes.inline}/>\n          <Typography variant=\"body2\" align=\"left\" color=\"textPrimary\">\n            Customers are required to pay parking charges incurred while artists attend your booking. \n            The incurred parking charges will be added onto the final invoice. \n          </Typography>\n        </div>\n      </Paper>\n      <div className={classes.flex}>\n        <Button variant=\"text\" color=\"primary\" size='large' onClick={() => changeBookingStage(1)}>\n          back\n        </Button>\n        <div className={classes.grow} />\n        <Button variant=\"text\" color=\"primary\" size='large' onClick={() => changeBookingStage(3)} \n          disabled={!checkedDeposit || !checkedTerm || !checkedParking}\n        >\n          confirm booking\n        </Button>\n      </div>\n    </Container>\n  )\n}\n\nexport default Confirmation","import { connect } from 'react-redux'\nimport Confirmation from '../components/Confirmation'\n\nconst mapStateToProps = state => {\n  return {\n    artistId: state.availArtists.ids[state.selectedArtist.order],\n    bookingDate: state.bookingDateAddr.bookingDate,\n    bookingEnd: state.bookingDateAddr.bookingEnd,\n    bookingAddr: state.bookingDateAddr.bookingAddr,\n    itemQty: state.itemQty,\n    organic: state.priceFactors.organic,\n    pensioner: state.priceFactors.pensionerRate\n  }\n}\n\nexport default connect(mapStateToProps, null)(Confirmation)\n","import React, {useState} from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Button from '@material-ui/core/Button'\nimport {\n  CardElement,\n  injectStripe,\n  StripeProvider,\n  Elements,\n} from 'react-stripe-elements'\n\nconst useStyles = makeStyles(() => ({\n  stripe: {\n    marginTop: 20,\n    marginBottom: 20\n  }\n}))\n\nconst createOptions = () => {\n  return {\n    hidePostalCode: true,\n    style: {\n      base: {\n        letterSpacing: '0.025em',\n        '::placeholder': {\n          color: '#aab7c4',\n        },\n      },\n      invalid: {\n        color: '#c23d4b',\n      },\n    }\n  }\n}\n\nfunction CardForm ({loggedIn, stripe, handleCharge, payMessage}) {\n  const [errorMessage, setErrorMessage] = useState('')\n  const classes = useStyles()\n\n  const handleChange = ({error}) => {\n    if (error) {\n      setErrorMessage(error.message)\n    }\n  }\n\n  const handleSubmit = async (evt) => {\n    evt.preventDefault()\n    if (stripe) {\n      let result = await stripe.createToken()\n      if (result.token) {\n        // alert(\"Payment token was created successfully\")\n        handleCharge(result.token)\n      }\n      else {\n        alert(\"Payment token creation failed\")\n      }\n    } else {\n      console.log(\"Stripe.js hasn't loaded yet.\")\n    }\n  }\n\n  return (\n    <div className={classes.stripe}>\n      <form onSubmit={handleSubmit}>\n        <label>\n          Card details\n          <CardElement\n            onChange={handleChange}\n            {...createOptions()}\n          />\n        </label>\n        <div className={classes.stripe} role=\"alert\">\n          {errorMessage}\n        </div>\n        <Button variant=\"contained\" color=\"primary\" fullWidth type='submit' disabled={!loggedIn}>{payMessage}</Button>\n      </form>\n    </div>\n  )\n}\n\nconst InjectedCardForm = injectStripe(CardForm)\n\nexport default function StripeForm({stripePublicKey, handleCharge, loggedIn, payMessage}) {\n  return (\n    <StripeProvider apiKey={stripePublicKey}>\n      <Elements>\n        <InjectedCardForm handleCharge={handleCharge} loggedIn={loggedIn} payMessage={payMessage}/>\n      </Elements>\n    </StripeProvider>\n  )\n}","import React, { useState } from 'react'\nimport StripeForm from './StripeForm'\nimport Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport Button from '@material-ui/core/Button'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport SigninForm from '../config/SigninFormContainer'\nimport { stripePublicKey } from '../ApiKeys'\nimport { stripe_charge_server } from '../config/dataLinks'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(3),\n    color: theme.palette.text.secondary,\n    background: \"linear-gradient(#f0e8e8, #e0d8d8)\",\n    width: '100%',\n    overflowX: 'auto'\n  },\n  textField : {\n    width: \"100%\"\n  }\n}))\n\nfunction Payment (\n  { theme, \n    changeBookingStage, \n    depositPayable, \n    resetBooking, \n    addBooking, \n    bookingInfo, \n    items, \n    itemQty, \n    loggedIn, \n    priceFactors, \n    bookingValue, \n    userId, \n    userName\n  }) {\n  const [value, setValue] = useState('');\n\n  const classes = useStyles()\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  }\n\n  const successNotification = () => {\n    alert(\"Booking successful!\")\n    resetBooking()\n  }\n\n  const submit = async (token) => {\n    let response = await fetch(stripe_charge_server, {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({\n        id: token.id,\n        description: userName + \"'s deposit for booking\",\n        amount: (depositPayable * 100).toFixed(0)\n      })\n    });\n\n    console.log(response)\n  \n    let bookingData = {\n      ...bookingInfo, \n      client_id: userId,\n      with_organic: priceFactors.organic ? 1 : 0,\n      with_pensioner_rate: priceFactors.pensionerRate ? 1 : 0,\n      unit_prices: Object.keys(itemQty).map(id => items[id].price),\n      total_amount: bookingValue, \n      paid_amount: depositPayable, \n      paid_type: 'deposit', \n      comment: value,\n      status: ''\n    }\n\n    if (response.ok) \n      addBooking(bookingData, successNotification, depositPayable)\n    else\n      alert(\"Stripe error. Please call to resolve this issue.\")\n  }\n\n  return (\n    <Container maxWidth=\"sm\" style={{paddingTop: 20, paddingBottom: 20}}>\n      <Paper className={classes.paper}>\n        <Typography variant=\"body1\" align=\"left\" color=\"textPrimary\" gutterBottom>\n          Deposit payable: $ {depositPayable.toString()}\n        </Typography>\n        <StripeForm stripePublicKey={stripePublicKey} handleCharge={submit} loggedIn={loggedIn} payMessage=\"Pay\"/>\n        <TextField\n          id=\"outlined-textarea\"\n          label=\"Additional instructions\"\n          placeholder=\"Let us know about any allergies, preferences, entrances,\n          or any details about your room number if you are\n          staying in a hotel. If there's free street parking near the event, please advise.\"\n          multiline\n          className={classes.textField}\n          margin=\"normal\"\n          variant=\"outlined\"\n          onChange={handleChange}\n        />\n      </Paper>\n      <Button variant=\"text\" color=\"primary\" size='large' onClick={() => changeBookingStage(2)}>\n        back\n      </Button>\n      <SigninForm initOpen={!loggedIn}/>\n    </Container>\n  )\n}\n\nexport default Payment","import { connect } from 'react-redux'\nimport { resetBooking, addBooking, setActivateBookings } from '../actions/bookingCreator'\nimport Payment from '../components/Payment'\n\nconst mapStateToProps = state => {\n  return {\n    bookingInfo: state.availArtists.recs[state.selectedArtist.order],\n    priceFactors: state.priceFactors,\n    itemQty: state.itemQty,\n    userId: state.userInfo.id,\n    userName: state.userInfo.firstName + ' ' + state.userInfo.lastName,\n    loggedIn: state.userInfo.loggedIn\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    resetBooking: () => dispatch(resetBooking()),\n    addBooking: (bookingInfo, callMe) => dispatch(addBooking(bookingInfo, callMe))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Payment)","import React, { useEffect } from \"react\"\nimport { withRouter } from 'react-router-dom'\nimport ArtistSelection from '../config/ArtistSelectionContainer'\nimport BookingSteps from '../components/BookingSteps'\nimport ServiceSelection from '../config/ServiceSelectionContainer'\nimport Confirmation from '../config/ConfirmationContainer'\nimport Payment from '../config/PaymentContainer'\nimport { resetBooking } from \"../actions/bookingCreator\"\n\nconst Booking = ({ bookingStage, changeBookingStage, resetBooking, services, theme, bookingValue, depositPayable, artists }) => {\n\n  useEffect(() => {\n    resetBooking()\n  }, [])\n\n  return (\n    <React.Fragment>\n      <BookingSteps activeStep={bookingStage}/>\n      {bookingStage === 0 ? <ServiceSelection onSubmit={changeBookingStage} services={services} theme={theme} newBooking={true}/> : null}\n      {bookingStage === 1 ? <ArtistSelection changeBookingStage={changeBookingStage} theme={theme}/> : null}\n      {bookingStage === 2 ? \n        <Confirmation \n          changeBookingStage={changeBookingStage} \n          theme={theme} \n          items={services.items} \n          bookingValue={bookingValue}\n          artists={artists}/> \n        : null\n      }\n      {bookingStage === 3 ? <Payment \n        changeBookingStage={changeBookingStage} \n        theme={theme} \n        items={services.items} \n        bookingValue={bookingValue}\n        depositPayable={depositPayable}/> \n        : null\n      }\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(Booking)\n","import React from 'react'\nimport Stepper from '@material-ui/core/Stepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport Typography from '@material-ui/core/Typography'\nimport Container from '@material-ui/core/Container'\n\n\nfunction getSteps(newBooking) {\n  if (newBooking)\n    return ['Select service', 'Add people', 'Payment']\n  else\n    return ['Select service', 'Add people', 'Payment or Update']\n}\n\nfunction getStepContent(stepIndex) {\n  switch (stepIndex) {\n    case 0:\n      return 'Select service items, time and location'\n    case 1:\n      return 'Add artists and client to the booking'\n    case 2:\n      return 'Payment'\n    default:\n      return 'Unknown stepIndex'\n  }\n}\n\nexport default function ArtistBookingSteps(props) {\n  const { activeStep, newBooking } = props\n  const steps = getSteps(newBooking)\n\n  return (\n    <Container maxWidth=\"md\" style={{paddingTop: 20}}>\n      <Stepper activeStep={activeStep} alternativeLabel>\n        {steps.map(label => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <Typography variant='h6' align='center' gutterBottom>{getStepContent(activeStep)}</Typography>\n    </Container>\n  )\n}","import React, { useState, useEffect } from \"react\"\nimport moment from 'moment'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport Table from '@material-ui/core/Table'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableBody from '@material-ui/core/TableBody'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableRow from '@material-ui/core/TableRow'\nimport Chip from '@material-ui/core/Chip'\nimport DoneIcon from '@material-ui/icons/Done'\nimport AddArtists from './AddArtists'\nimport AddClient from './AddClient'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(3),\n    color: theme.palette.text.secondary,\n    background: \"linear-gradient(#f0e8e8, #e0d8d8)\",\n    width: '100%',\n    overflowX: 'auto'\n  },\n  flex: {\n    display: 'flex',\n    marginTop: 10\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  background: {\n    backgroundColor: theme.palette.primary.main\n  },\n  priceField: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'inline',\n    }\n  },\n  priceEmbedded: {\n    display: 'inline',\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    }\n  },\n  acknowledge: {\n    display: 'flex',\n    marginTop: 20,\n    alignItems: 'flexStart'\n  },\n  inline: {\n    display: 'inline',\n    paddingTop: 0\n  }\n}))\n\nfunction AddPeople ({ \n  saveBooking,\n  assignedArtists, \n  clientInfo,\n  assignArtists,\n  assignClient,\n  bookingDate, \n  bookingEnd, \n  bookingAddr, \n  items, \n  itemQty, \n  changeBookingStage, \n  organic, \n  pensioner, \n  bookingValue, \n  depositPayable,\n  newBooking,\n  artists }) {\n\n  const [tags, setTags] = useState(assignedArtists.map(id => artists[id]))\n  const classes = useStyles()\n  const [disableNext, setDisableNext] = useState(true)\n  const [client, setClient] = useState(clientInfo.client)\n  \n  useEffect(() => {\n    if (tags.length > 0)\n      setDisableNext(false)\n    else\n      setDisableNext(true)\n  }, [tags])\n  \n  const ids = Object.keys(itemQty)\n\n  const handleBack = () => {\n    assignArtists(tags.map(tag => Number(tag.id)))\n    assignClient(client)\n    changeBookingStage(0)\n  }\n\n  const handleNext = () => {\n    assignArtists(tags.map(tag => Number(tag.id)))\n    assignClient(client)\n\n    const start_time = moment(bookingDate).format(\"HH:mm\")\n    const bookingData = {\n      artist_id_list: tags.map(tag => Number(tag.id)),\n      booking_date: moment(bookingDate).format(\"YYYY-MM-DD\"),\n      booking_time: start_time,\n      booking_end_time: moment(bookingEnd).format(\"HH:mm\"),\n      artist_start_time: start_time,\n      booking_id: newBooking? null : clientInfo.bookingId,\n      created_datetime: null,\n      event_address: bookingAddr,\n      quantities: Object.values(itemQty),\n      services: Object.keys(itemQty).map(id => Number(id)),\n      unit_prices: Object.keys(itemQty).map(id => items[id].price),\n      status: null,\n      time_on_site: (bookingEnd - bookingDate) / 1000 / 60,\n      travel_distance: 0,\n      travel_duration: 0,\n      client_id: client.id,\n      with_organic: organic ? 1 : 0,\n      with_pensioner_rate: pensioner ? 1 : 0,\n      paid_balance_total: null,\n      paid_deposit_total: null,\n      total_amount: bookingValue, \n      paid_amount: newBooking? depositPayable : (bookingValue - clientInfo.paid), \n      paid_type: newBooking ? 'deposit' : 'balance', \n      comment: '',\n      status: ''\n    }\n  \n    saveBooking(bookingData)\n    changeBookingStage(2)\n  }\n\n  return (\n    <Container maxWidth=\"sm\" style={{paddingTop: 20, paddingBottom: 50}}>\n      <Paper className={classes.paper}>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textPrimary\">\n          { moment(bookingDate).format(\"dddd, Do MMMM YYYY\") }\n        </Typography>\n        <Typography variant=\"subtitle1\" align=\"center\" color=\"textPrimary\" gutterBottom>\n          { moment(bookingDate).format('LT') + ' – ' + moment(bookingEnd).format('LT')}\n        </Typography>\n        <Table size=\"small\" aria-label=\"a dense table\">\n          <TableHead className={classes.background}>\n            <TableRow>\n              <TableCell align=\"left\" style={{width: \"70%\"}}>\n                <b>Booking location</b>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow>\n              <TableCell align=\"left\">\n                {bookingAddr}\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n        <br/>\n        <AddArtists\n          artists={artists}\n          multiArtists={true}\n          clearable={true}\n          setTags={setTags}\n          tags={tags}\n          label=\"Add artists\"\n        />\n        <br/>\n        <AddClient\n          setClient={setClient}\n          client={client}\n          label=\"Add client\"\n        />\n        <br/>\n        <Table size=\"small\" aria-label=\"a dense table\">\n          <TableHead className={classes.background}>\n            <TableRow>\n              <TableCell align=\"left\" style={{width: \"70%\"}}>\n                <b>Services requested</b>\n              </TableCell>\n              <TableCell align=\"right\" style={{width: \"20%\", padding: 0}}>\n                <div className={classes.priceField}>\n                <b>Unit price</b>\n                </div>\n              </TableCell>\n              <TableCell align=\"right\" style={{width: \"10%\"}}>\n              <b>Qty</b>\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {ids.map(id => (\n              <TableRow key={id}>\n                <TableCell align=\"left\" style={{width: \"70%\"}}>\n                  {items[id].description}\n                  <div className={classes.priceEmbedded}>\n                    {' - $' + ((organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1)).toFixed(2)}\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\" style={{width: \"20%\", padding: 0}}>\n                  <div className={classes.priceField}>\n                    {'$' + ((organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1)).toFixed(2)}\n                  </div>\n                </TableCell>\n                <TableCell align=\"right\" style={{width: \"10%\"}}>\n                  {itemQty[id]} \n                </TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n        {pensioner ? <Chip deleteIcon={<DoneIcon/>} onDelete={()=> {}} label=\"Monday pensioner rate\" color='primary' size=\"small\"/> : null}\n        {organic ? <Chip deleteIcon={<DoneIcon/>} onDelete={()=> {}} label=\"Use organic products\" color='primary' size=\"small\"/> : null}\n        <hr></hr>\n        <Typography variant=\"subtitle2\" align=\"right\" color=\"textPrimary\">\n          {'TOTAL (GST INCL): $' + bookingValue}\n        </Typography>\n      </Paper>\n      <div className={classes.flex}>\n        <Button variant=\"text\" color=\"primary\" size='large' onClick={handleBack}>\n          back\n        </Button>\n        <div className={classes.grow} />\n        <Button variant=\"text\" color=\"primary\" size='large' onClick={handleNext} \n          disabled={disableNext}\n        >\n          confirm booking\n        </Button>\n      </div>\n    </Container>\n  )\n}\n\nexport default AddPeople","import { connect } from 'react-redux'\nimport { assignArtists, assignClient, saveBooking } from '../actions/bookingCreator'\nimport AddPeople from '../components/AddPeople'\nimport { statement } from '@babel/template'\nimport { FaSatellite } from 'react-icons/fa'\n\nconst mapStateToProps = state => {\n  return {\n    assignedArtists: state.assignedArtists,\n    bookingDate: state.bookingDateAddr.bookingDate,\n    bookingEnd: state.bookingDateAddr.bookingEnd,\n    bookingAddr: state.bookingDateAddr.bookingAddr,\n    itemQty: state.itemQty,\n    organic: state.priceFactors.organic,\n    pensioner: state.priceFactors.pensionerRate,\n    clientInfo: state.clientInfo\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    assignArtists: artistsIds => dispatch(assignArtists(artistsIds)),\n    assignClient: client => dispatch(assignClient(client)),\n    saveBooking: (bookingData) => dispatch(saveBooking(bookingData)),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(AddPeople)\n","import React, { useState } from 'react'\nimport StripeForm from './StripeForm'\nimport Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport Button from '@material-ui/core/Button'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport { stripePublicKey } from '../ApiKeys'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(3),\n    color: theme.palette.text.secondary,\n    background: \"linear-gradient(#f0e8e8, #e0d8d8)\",\n    width: '100%',\n    overflowX: 'auto'\n  },\n  textField : {\n    width: \"100%\",\n    marginTop: 30\n  },\n  flex: {\n    display: 'flex',\n    marginTop: 10\n  },\n  container: {\n    display: 'flex'\n  },\n  grow: {\n    flexGrow: 1,\n  }\n}))\n\nfunction ArtistPayment({\n  theme, \n  changeBookingStage, \n  depositPayable, \n  resetBooking, \n  addBooking, \n  updateBooking,\n  bookingData, \n  newBooking,\n  manageState,\n  setManageState,\n  comment\n  }) {\n  const [value, setValue] = useState(comment)\n\n  //This booking has been checked out. No payment or update is allowed.\n  const checkOutable = newBooking || bookingData.paid_amount > 0\n\n  const classes = useStyles()\n\n  const handleChange = event => {\n    setValue(event.target.value);\n  }\n\n  const successNotification = (message) => {\n    // const message = newBooking ? \"Booking successful!\" : \"Checkout successful!\"\n    alert(message + \" successful!\")\n    resetBooking()\n  }\n\n  const submit = async (token) => {\n    let response = await fetch(\"/charge\", {\n      method: \"POST\",\n      headers: {\"Content-Type\": \"application/json\"},\n      body: JSON.stringify({\n        id: token.id,\n        description: newBooking ? \"deposit for booking\" : \"balance for booking\",\n        amount: (bookingData.paid_amount * 100).toFixed(0)\n      })\n    });\n  \n    if (response.ok) {\n      if (newBooking) \n        addBooking({...bookingData, comment: value}, () => successNotification(\"Booking\"))\n      else\n        updateBooking({...bookingData, comment: value}, () => successNotification(\"Checkout\"))\n    }\n    else {\n      alert(\"Stripe error. Please call to resolve this issue.\")\n    }\n  }\n\n  const handleUpdate = () => {\n    updateBooking({...bookingData, paid_amount: 0, paid_type: \"none\", comment: value}, () => successNotification(\"Update\"))\n  }\n\n  const handleCashPay = () => {\n    updateBooking({...bookingData, paid_type: \"cash\", comment: value}, () => successNotification(\"Checkout\"))\n  }\n\n  return (\n    <Container maxWidth=\"sm\" style={{paddingTop: 20, paddingBottom: 20}}>\n      <Paper className={classes.paper}>\n        {newBooking ?\n          <Typography variant=\"body1\" align=\"left\" color=\"textPrimary\" gutterBottom>\n            Deposit payable: $ {depositPayable.toString()}\n          </Typography>\n          :\n          <Typography variant=\"body1\" align=\"left\" color=\"textPrimary\" gutterBottom>\n            Balance payable: $ {bookingData.paid_amount.toString()}\n          </Typography>\n        }\n        {checkOutable && \n          <StripeForm stripePublicKey={stripePublicKey} handleCharge={submit} loggedIn={true} payMessage=\"Client Pay\"/>}\n        {!newBooking && checkOutable &&\n          <>\n            <div className={classes.container}>\n              <div className={classes.grow} />\n              <p>OR</p>\n              <div className={classes.grow} />\n            </div>\n            <Button variant=\"contained\" onClick={handleCashPay} color=\"primary\" fullWidth>\n              Cash Pay\n            </Button>\n          </>\n        }\n        <TextField\n          id=\"outlined-textarea\"\n          label=\"Additional instructions\"\n          placeholder=\"Any allergies, preferences, entrances,\n          or any details about the room number if the client is\n          staying in a hotel.\"\n          multiline\n          value={value}\n          className={classes.textField}\n          margin=\"normal\"\n          variant=\"outlined\"\n          onChange={handleChange}\n        />\n      </Paper>\n      <div className={classes.flex}>\n        {manageState === 'Checkout' ?\n          <Button variant=\"text\" color=\"primary\" size='large' onClick={() => setManageState('Default')}>\n            Cancel\n          </Button>\n          :\n          <Button variant=\"text\" color=\"primary\" size='large' onClick={() => changeBookingStage(1)}>\n            back\n          </Button>}\n        <div className={classes.grow} />\n        {!newBooking && manageState !== 'Checkout' && checkOutable &&\n        <Button variant=\"text\" color=\"primary\" size='large' onClick={handleUpdate}>\n          Update Booking\n        </Button>}\n      </div>\n    </Container>\n  )\n}\n\nexport default ArtistPayment","import { connect } from 'react-redux'\nimport { resetBooking, addBooking, updateBooking } from '../actions/bookingCreator'\nimport ArtistPayment from '../components/ArtistPayment'\n\nconst mapStateToProps = state => {\n  return {\n    bookingData: state.storeActivation.bookingData,\n    comment: state.clientInfo.comment\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    resetBooking: () => dispatch(resetBooking()),\n    addBooking: (bookingInfo, callMe) => dispatch(addBooking(bookingInfo, callMe)),\n    updateBooking: (bookingInfo, callMe) => dispatch(updateBooking(bookingInfo, callMe))\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ArtistPayment)","import React, { useEffect } from \"react\"\nimport { withRouter } from 'react-router-dom'\nimport ServiceSelection from '../config/ServiceSelectionContainer'\nimport ArtistBookingSteps from '../components/ArtistBookingSteps'\nimport AddPeople from '../config/AddPeopleContainer'\nimport ArtistPayment from '../config/ArtistPaymentContainer'\n\nconst ArtistBooking = ({ \n  bookingStage, \n  changeBookingStage, \n  resetBooking, \n  services, \n  theme, \n  bookingValue, \n  depositPayable, \n  artists, \n  newBooking, \n  manageState, \n  setManageState }) => {\n\n  useEffect(() => {\n    if (newBooking)\n      resetBooking()\n  }, [])\n\n  return (\n    <React.Fragment>\n      {manageState === 'Checkout' ?\n      null\n      : <ArtistBookingSteps activeStep={bookingStage} newBooking={newBooking}/>}\n      {bookingStage === 0 ? \n        <ServiceSelection \n        onSubmit={changeBookingStage} \n        services={services} \n        theme={theme} \n        artistBooking={true}\n        newBooking={newBooking}\n        setManageState={setManageState}/> \n        : null\n      }\n      {bookingStage === 1 ? \n        <AddPeople \n          changeBookingStage={changeBookingStage} \n          theme={theme} \n          items={services.items} \n          bookingValue={bookingValue}\n          depositPayable={depositPayable}\n          newBooking={newBooking}\n          artists={artists}/> \n        : null\n      }\n      {bookingStage === 2 ? <ArtistPayment \n        changeBookingStage={changeBookingStage} \n        theme={theme} \n        items={services.items} \n        bookingValue={bookingValue}\n        depositPayable={depositPayable} \n        bookingValue={bookingValue}\n        newBooking={newBooking}\n        manageState={manageState}\n        setManageState={setManageState}/>\n        : null\n      }\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(ArtistBooking)\n","import React, { useState, useEffect, useContext }  from 'react'\nimport moment from 'moment'\nimport { FaUserAlt, FaMapMarkerAlt, FaPhoneSquare, FaDollarSign, FaUserCog } from \"react-icons/fa\"\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Paper from '@material-ui/core/Paper'\nimport MobileStepper from '@material-ui/core/MobileStepper'\nimport Button from '@material-ui/core/Button'\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft'\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight'\nimport EmojiNatureIcon from '@material-ui/icons/EmojiNature'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { BookingsStoreContext } from './BookingsStoreProvider'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    padding: theme.spacing(3),\n    color: theme.palette.text.secondary,\n    background: \"linear-gradient(#f0e8e8, #e0d8d8)\",\n    marginBottom: 10\n  },\n  flex: {\n    display: 'flex',\n    marginTop: 10\n  },\n  grow: {\n    flexGrow: 1,\n  },\n  progress: {\n    display: 'flex',\n    justifyContent: 'center',\n    padding: 40\n  }\n}));\n\nfunction Card ({ event }) {\n  const classes = useStyles()\n  let itemKey = 0\n\n  return (\n    <Paper className={classes.paper} elevation={6}>\n      <Typography variant=\"h6\" align=\"center\" color=\"textPrimary\">\n        { moment(event.start).format(\"dddd, YYYY/MM/DD\") }\n      </Typography>\n      <Typography variant=\"h6\" align=\"center\" color=\"textPrimary\" gutterBottom>\n        { moment(event.start).format('LT') + ' – ' + moment(event.end).format('LT')}\n      </Typography>\n      <div>\n        <FaMapMarkerAlt/><span>{ event.address }</span>\n      </div>\n      <div>\n        <FaUserAlt/> \n        <span>{ event.client.name + ' ' }</span> \n        <FaPhoneSquare/>\n        <span>{ event.client.phone + ' ' }</span>\n        {event.organic ? <EmojiNatureIcon color='primary'/> : null}\n      </div>\n      <div>\n        <br/>\n        <FaDollarSign/>\n        <span>{ event.total + ' '}</span>\n        <FaUserCog/>\n        <span>{ event.artists.map(artist => artist.name).join(', ')}</span>\n        <ul>\n          {event.serviceItems.map( item => <li key={itemKey++}>{ item }</li> )}\n        </ul>\n      </div>\n    </Paper>\n  )\n}\n\n\nconst BookingCards = ({events, eventsFetched, changeBookingStage, setManageState, loadBooking, saveBooking, activeStep, setActiveStep}) => {\n  const classes = useStyles()\n  const { bookingsData } = useContext(BookingsStoreContext)\n  const bookings = bookingsData.data\n  const [maxSteps, setMaxSteps] = useState(0)\n\n  useEffect(() => {\n    setMaxSteps(events.length)\n  }, [eventsFetched, events.length])\n\n  const handleNext = () => {\n    setActiveStep(prevActiveStep => prevActiveStep + 1)\n  }\n\n  const handleBack = () => {\n    setActiveStep(prevActiveStep => prevActiveStep - 1)\n  }\n\n  const handleEdit = () => {\n    loadBooking({...bookings[events[activeStep].id], client: events[activeStep].client})\n    changeBookingStage(0)\n    setManageState('Edit')\n  }\n\n  const handleCheckout = () => {\n    const bookingId = events[activeStep].id\n    const booking = bookings[bookingId]\n    loadBooking({...booking, client: events[activeStep].client})\n    saveBooking({...booking, paid_type: 'balance', paid_amount: (booking.total_amount - booking.paid_amount)})\n    changeBookingStage(2)\n    setManageState('Checkout')\n  }\n\n  return (\n    <Container maxWidth=\"sm\" style={{paddingTop: 20, paddingBottom: 20}}>\n      {!eventsFetched && <div className={classes.progress}><CircularProgress color='primary' /></div>}\n      {eventsFetched && \n      <>\n        {events.length > 0 ?\n        <>\n          <Card event={events[activeStep]} />\n          <MobileStepper\n            steps={maxSteps}\n            position=\"static\"\n            variant=\"text\"\n            activeStep={activeStep}\n            nextButton={\n              <Button size=\"small\" onClick={handleNext} disabled={activeStep === maxSteps - 1}>\n                Next event\n                <KeyboardArrowRight />\n              </Button>\n            }\n            backButton={\n              <Button size=\"small\" onClick={handleBack} disabled={activeStep === 0}>\n                <KeyboardArrowLeft />\n                Prev event\n              </Button>\n            }\n          />\n          <div className={classes.flex}>\n            <Button variant=\"text\" color=\"primary\" size='large' onClick={handleEdit}>\n              Edit\n            </Button>\n            <div className={classes.grow} />\n            <Button variant=\"text\" color=\"primary\" size='large' onClick={handleCheckout}>\n              Checkout\n            </Button>\n          </div>\n        </>\n        :\n        <Typography variant=\"h6\" align=\"center\" color=\"textPrimary\">No booking found</Typography>}\n      </>  \n      }\n    </Container>\n  )\n}\n\nexport default BookingCards","import { connect } from 'react-redux'\nimport { loadBooking, saveBooking } from '../actions/bookingCreator'\nimport BookingCards from '../components/BookingCards'\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      loadBooking: booking => dispatch(loadBooking((booking))),\n      saveBooking: booking => dispatch(saveBooking((booking)))\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(BookingCards)","import React, { useState, useEffect} from \"react\";\nimport { withRouter } from 'react-router-dom';\nimport BookingCards from '../config/BookingCardsContainer'\nimport ArtistBooking from '../pages/ArtistBooking'\n\n\nconst Manage = ({\n  events, \n  eventsFetched, \n  setActivateBookings, \n  bookingStage, \n  changeBookingStage, \n  services, \n  bookingValue, \n  depositPayable, \n  artists}) => {\n  const [manageState, setManageState] = useState('Default')\n  const [activeStep, setActiveStep] = useState(0)\n\n  useEffect(() => {\n    setActivateBookings(true)\n\n    return () => {\n      setActivateBookings(false)\n    }\n  }, [])\n\n  return (\n    <>\n      {manageState === 'Default' ?\n        <BookingCards \n          events={events} \n          eventsFetched={eventsFetched} \n          changeBookingStage={changeBookingStage}\n          setManageState={setManageState}\n          activeStep={activeStep}\n          setActiveStep={setActiveStep}/>\n        : null\n      }\n      {manageState === 'Edit' || manageState === 'Checkout' ?\n        <ArtistBooking\n          bookingStage={bookingStage} \n          changeBookingStage={changeBookingStage}\n          services={services}\n          bookingValue={bookingValue}\n          depositPayable={depositPayable}\n          artists={artists}\n          newBooking={false}\n          manageState={manageState}\n          setManageState={setManageState}/>\n          : null\n      }\n    </>\n  )\n}\n\nexport default withRouter(Manage)\n","import { connect } from 'react-redux'\nimport { setActivateClients, setActivateBookings } from '../actions/bookingCreator'\nimport Manage from '../pages/Manage'\n\nconst mapDispatchToProps = dispatch => {\n    return {\n      setActivateBookings: (val) => dispatch(setActivateBookings(val))\n    }\n}\n\nexport default connect(null, mapDispatchToProps)(Manage)","import React from 'react'\nimport { MonthEvent, DayEvent } from './Event'\nimport { Calendar, Views } from 'react-big-calendar'\nimport withDragAndDrop from 'react-big-calendar/lib/addons/dragAndDrop'\nimport \"react-big-calendar/lib/addons/dragAndDrop/styles.css\"\nimport { FaCalendarAlt, FaCalendarDay, FaChevronLeft, FaChevronRight } from \"react-icons/fa\"\nimport { GoTasklist } from \"react-icons/go\"\n\nconst DragAndDropCalendar = withDragAndDrop(Calendar)\n\n\nconst components = {\n  month: {event: MonthEvent},\n  day: {event: DayEvent}\n}\n\nclass MyCalendar extends React.Component {\n\n  // moveEvent = ({ event, start, end, isAllDay: droppedOnAllDaySlot }) => {\n  //   const { events } = this.state\n\n  //   const idx = events.indexOf(event)\n  //   let allDay = event.allDay\n\n  //   if (!event.allDay && droppedOnAllDaySlot) {\n  //     allDay = true\n  //   } else if (event.allDay && !droppedOnAllDaySlot) {\n  //     allDay = false\n  //   }\n\n  //   const updatedEvent = { ...event, start, end, allDay }\n\n  //   const nextEvents = [...events]\n  //   nextEvents.splice(idx, 1, updatedEvent)\n\n  //   this.setState({ events: nextEvents })\n\n  //   // alert(`${event.title} was dropped onto ${updatedEvent.start}`)\n  // }\n\n  // resizeEvent = ({ event, start, end }) => {\n  //   const { events } = this.state\n\n  //   const nextEvents = events.map(existingEvent => {\n  //     return existingEvent.id === event.id\n  //       ? { ...existingEvent, start, end }\n  //       : existingEvent\n  //   })\n\n  //   this.setState({ events: nextEvents })\n\n  //   //alert(`${event.title} was resized to ${start}-${end}`)\n  // }\n\n  // newEvent = ({ start, end }) => {\n    \n  //   const title = window.prompt('New Event name')\n  //   if (title)\n  //   {\n  //     let num_es = this.state.numEvents + 1\n  //     this.setState({\n  //       events: [\n  //         ...this.state.events,\n  //         {\n  //           id: num_es,\n  //           start,\n  //           end,\n  //           title,\n  //         },\n  //       ],\n  //       numEvents: num_es\n  //     })\n  //   }\n  // }\n\n  render() {\n    return (\n      <DragAndDropCalendar\n        style={{height: '95vh', width: '100%', margin: 'auto'}}\n        // selectable\n        popup={true}\n        localizer={this.props.localizer}\n        events={this.props.events}\n        components={components}\n        // onEventDrop={this.moveEvent}\n        resizable\n        // onEventResize={this.resizeEvent}\n        // onSelectSlot={this.newEvent}\n        onDragStart={console.log}\n        views={['month', 'day']}\n        defaultView={Views.MONTH}\n        defaultDate={new Date()}\n        scrollToTime={new Date(2019, 1, 1, 6)}\n        messages={{\n          month: <FaCalendarAlt />, \n          day: <FaCalendarDay />,\n          previous: <FaChevronLeft />,\n          next: <FaChevronRight />,\n          showMore: total => (\n            <>\n              {`+${total} `}\n              <GoTasklist />\n            </>\n          ),\n          noEventsInRange: 'There are no bookings in this range.'\n        }}\n      />\n    )\n  }\n}\n\nexport default MyCalendar","import React from 'react'\nimport moment from 'moment'\nimport { FaUserAlt, FaMapMarkerAlt, FaPhoneSquare, FaDollarSign } from \"react-icons/fa\"\n/**\n * \n * event display for Month view in mobile devices \n */\nexport function MonthEvent ({ event }) {\n  return (\n    <div className='rbc-event-label'>\n      <span>{ moment(event.start).format('LT') + ' – ' + moment(event.end).format('LT') + ' ' }</span>\n      <FaDollarSign/>\n      <span>{ event.total + ' '}</span>\n      <span>{ event.artistNames}</span>\n    </div>\n  )\n}\n\nexport function DayEvent ({ event }) {\n  return (\n    <div className='rbc-event-label'>\n      <>\n        <FaMapMarkerAlt/><span>{ event.address }</span>\n      </>\n      <>\n        <FaUserAlt/> \n        <span>{ event.client.name + ' ' }</span> \n        <FaPhoneSquare/>\n        <span>{ event.client.phone + ' ' }</span>\n      </>\n      <>\n        <FaDollarSign/>\n        <span>{ event.total + ' '}</span>\n        <span>{ event.artistNames}</span>\n        {event.serviceItems.map( item => <div>{ item }</div> )}\n      </> \n    </div>\n  )\n}\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport MyCalendar from '../components/MyCalendar'\nimport 'react-big-calendar/lib/sass/styles.scss'\nimport '../components/CalendarToolbar.css'\nimport { momentLocalizer } from 'react-big-calendar'\nimport moment from 'moment'\nimport Container from '@material-ui/core/Container'\n\nconst localizer = momentLocalizer(moment)\n\nconst Calendar = (props) => {\n\n  return (\n    <React.Fragment>\n      <Container maxWidth=\"xl\" style={{padding: 10}}>\n        <MyCalendar\n          events={props.events}\n          localizer={localizer} \n        />\n      </Container>\n    </React.Fragment>\n  )\n}\n\nexport default withRouter(Calendar)\n","import React, { useState, useEffect, useContext, Suspense, lazy } from \"react\"\nimport { Route, Switch, HashRouter } from \"react-router-dom\"\nimport ScrollToTop from './ScrollTop'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Topbar from './Topbar'\nimport { BookingsStoreContext } from './BookingsStoreProvider'\nimport { getBookingValue, getDepositPayable } from '../utils/getBookingValue'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\n//Use route based lazy loading to split the code to smaller chunks\n// const Booking = lazy(() => import('../pages/Booking'))\n// const ArtistBooking = lazy(() => import('../pages/ArtistBooking'))\n// const Manage = lazy(() => import('../config/ManageContainer'))\n// const Calendar = lazy(() => import('../pages/Calendar'))\n\nimport Booking from '../pages/Booking'\nimport ArtistBooking from '../pages/ArtistBooking'\nimport Manage from  '../config/ManageContainer'\nimport Calendar from '../pages/Calendar'\n\n/**\n * For deploy testing frontend without backend\n */\nconst Routes = ({ theme, bookingStage, changeBookingStage, resetBooking, priceFactors, itemQty, loggedIn, isArtist }) => {\n  const { services, servicesFetched, events, eventsFetched, artists } = useContext(BookingsStoreContext)\n  const [bookingValue, setBookingValue] = useState(0)\n  const [depositPayable, setDepositPayable] = useState(0)\n\n  useEffect(() => {\n    setBookingValue(getBookingValue(services.items, priceFactors, itemQty))\n    setDepositPayable(getDepositPayable(bookingValue))\n  }, [services.items, priceFactors, itemQty, bookingValue])\n  \n  return (\n    <HashRouter>\n      <ScrollToTop>\n        <CssBaseline />\n        <Topbar bookingValue={bookingValue} loggedIn={loggedIn} isArtist={isArtist} artists={artists}/>\n        <Suspense fallback={<CircularProgress/>}>\n        {servicesFetched &&\n          <Switch>\n            <Route exact path='/' render={() => \n              <Booking \n                theme={theme} \n                services={services} \n                bookingStage={bookingStage} \n                changeBookingStage={changeBookingStage} \n                bookingValue={bookingValue}\n                depositPayable={depositPayable}\n                artists={artists}\n                resetBooking={resetBooking}/>} \n            />\n            <Route exact path='/artist' render={() => \n              <ArtistBooking \n                theme={theme} \n                services={services} \n                bookingStage={bookingStage} \n                changeBookingStage={changeBookingStage} \n                bookingValue={bookingValue}\n                depositPayable={depositPayable}\n                artists={artists}\n                newBooking={true}\n                resetBooking={resetBooking}/>} \n            />\n            <Route path='/manage' render={() => \n              <Manage \n                events={events} \n                eventsFetched={eventsFetched}\n                services={services} \n                bookingStage={bookingStage} \n                changeBookingStage={changeBookingStage} \n                bookingValue={bookingValue}\n                depositPayable={depositPayable}\n                artists={artists}/>} \n            />\n            <Route path='/calendar' render={() => <Calendar events={events} />} />\n          </Switch>}\n        </Suspense>\n      </ScrollToTop>\n    </HashRouter>\n  )\n}\n\nexport default Routes","import { connect } from 'react-redux'\nimport Routes from '../components/Routes'\nimport { changeBookingStage, resetBooking } from '../actions/bookingCreator'\n\nconst mapStateToProps = state => {\n  return {\n    priceFactors: state.priceFactors,\n    itemQty: state.itemQty,\n    artists: state.artists,\n    clients: state.clients,\n    bookings: state.bookings,\n    bookingStage: state.bookingStage.stage,\n    loggedIn: state.userInfo.loggedIn,\n    isArtist: state.userInfo.isArtist\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeBookingStage: stage => dispatch(changeBookingStage(stage)),\n    resetBooking: () => dispatch(resetBooking())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Routes)","import {\n  CHANGE_ORGANIC,\n  CHANGE_PENSIONER_RATE,\n  CHANGE_BOOKING_STAGE,\n  SET_SELECTED_ARTIST,\n  INC_ITEM_QTY,\n  DEC_ITEM_QTY,\n  SUBMIT_BOOKING,\n  GET_AVAIL_ARTISTS,\n  RECEIVE_AVAIL_ARTISTS,\n  ERROR_AVAIL_ARTISTS,\n  ACTIVATE_BOOKINGS,\n  SEARCH_BOOKING,\n  ADD_BOOKING,\n  SAVE_BOOKING,\n  UPDATE_BOOKING,\n  RESET_BOOKING,\n  ASSIGN_ARTISTS,\n  ASSIGN_CLIENT,\n  LOAD_BOOKING,\n  SET_FROM_DATE,\n  SET_TO_DATE,\n  SET_ARTIST,\n  SET_CLIENT\n} from '../actions/bookingCreator'\n\nconst initPriceFactors = {\n  organic: false,\n  pensionerRate: false\n}\n\nexport function priceFactors(state = initPriceFactors, action) {\n  switch (action.type) {\n    case CHANGE_ORGANIC: {\n      return Object.assign({}, state, {\n        organic: !state.organic\n      })\n    }\n    case CHANGE_PENSIONER_RATE: {\n      return Object.assign({}, state, {\n        pensionerRate: !state.pensionerRate\n      })\n    }\n    case LOAD_BOOKING: {\n      return Object.assign({}, {\n        organic: action.booking.with_organic === 1 ? true : false,\n        pensionerRate: action.booking.with_pensioner_rate === 1 ? true : false\n      })\n    }\n    case RESET_BOOKING: {\n      return initPriceFactors\n    }\n    default:\n      return state\n  }\n}\n\nconst initDateAddr = {\n  bookingDate: null,\n  bookingEnd: null,\n  bookingAddr: ''\n}\n\nexport function bookingDateAddr(state = initDateAddr, action) {\n  switch (action.type) {\n    case SUBMIT_BOOKING: {\n      return {\n        bookingDate: action.bookingDate,\n        bookingEnd: action.bookingEnd,\n        bookingAddr: action.bookingAddr\n      }\n    }\n    case LOAD_BOOKING: {\n      const booking = action.booking\n      return {\n        bookingDate: new Date(booking.booking_date + ' ' + booking.booking_time + ':00'),\n        bookingEnd: new Date(booking.booking_date + ' ' + booking.booking_end_time + ':00'),\n        bookingAddr: booking.event_address\n      }\n    }\n    case RESET_BOOKING: {\n      return initDateAddr\n    }\n    default:\n      return state\n  }\n}\n\nexport function bookingStage(state = {stage: 0}, action) {\n  switch (action.type) {\n    case CHANGE_BOOKING_STAGE: {\n      return Object.assign({}, state, {\n        stage: action.stage\n      })\n    }\n    case RESET_BOOKING: {\n      return {stage: 0}\n    }\n    default:\n      return state\n  }\n}\n\n/*\n * A list of artists assigned to a job. Only use non-mutating array methods.\n */\nexport function assignedArtists(state = [], action) {\n  switch (action.type) {\n    case ASSIGN_ARTISTS: {\n      return action.artistIds\n    }\n    case LOAD_BOOKING: {\n      return action.booking.artist_id_list\n    }\n    case RESET_BOOKING: {\n      return []\n    }\n    default:\n      return state\n  }\n}\n\nconst initClientInfo = {\n  client: null,\n  comment: '',\n  balance: null,\n  paid: null,\n  bookingId : null\n}\nexport function clientInfo(state = initClientInfo, action) {\n  switch (action.type) {\n    case LOAD_BOOKING: { \n      return Object.assign({}, {\n        client: action.booking.client,\n        comment: action.booking.comment,\n        balance: action.booking.total_amount - action.booking.paid_amount,\n        paid: action.booking.paid_amount,\n        bookingId: action.booking.booking_id\n      })\n    }\n    case ASSIGN_CLIENT: {\n      return Object.assign({}, state, {\n        client: action.client\n      })\n    }\n    case RESET_BOOKING: {\n      return initClientInfo\n    }\n    default:\n      return state\n  }\n}\n\n/*\n * Client selected single artist\n */\nexport function selectedArtist(state = {order: 0}, action) {\n  switch (action.type) {\n    case SET_SELECTED_ARTIST: { \n      return Object.assign({}, state, {\n        order: action.order\n      })\n    }\n    case RESET_BOOKING: {\n      return {order: 0}\n    }\n    default:\n      return state\n  }\n}\n\nconst initAvailArtists = {\n  ids: [],\n  recs: [],\n  isLoading: false,\n  hasErr: false\n}\nexport function availArtists(state = initAvailArtists, action) {\n  switch (action.type) {\n    case GET_AVAIL_ARTISTS: {\n      return Object.assign({}, state, {\n        ids: [],\n        recs: [],\n        isLoading: true,\n        hasErr: false\n      })\n    }\n    case RECEIVE_AVAIL_ARTISTS: {\n      let list = []\n      let recs = action.payload\n\n      for (let rec of recs) {\n        list.push(rec.artist_id_list[0])\n      }\n  \n      return Object.assign({}, state, {\n        isLoading: false,\n        hasErr: false,\n        ids: list,\n        recs: recs\n      })\n    }\n    case ERROR_AVAIL_ARTISTS: {\n      return Object.assign({}, state, {\n        ids: [],\n        recs: [],\n        isLoading: false,\n        hasErr: true\n      })\n    }\n    case RESET_BOOKING: {\n      return initAvailArtists\n    }\n    default:\n      return state\n  }\n}\n\nexport function itemQty(state = {}, action) {\n  let qty = 0\n  let id = action.itemId\n  if (id in state) {\n    qty = state[id]\n  }\n\n  switch (action.type) {\n    case INC_ITEM_QTY: {\n      qty += 1\n      return Object.assign({}, state, {\n        [id]: qty\n      })\n    }\n    case DEC_ITEM_QTY: {\n      if (qty > 0) {\n        qty -= 1\n      }      \n      \n      if (qty > 0) {\n        return Object.assign({}, state, {\n          [id]: qty\n        })\n      } else {\n        let temp = Object.assign({}, state)\n        //remove the empty item\n        delete temp[id]\n        return Object.assign({}, temp)\n      }\n    }\n    case LOAD_BOOKING: {\n      const services = action.booking.services\n      const quantities = action.booking.quantities\n      let temp = {}\n\n      for (let i = 0; i < services.length; i++ ) {\n        temp[services[i].toString()] = quantities[i]\n      }\n      return Object.assign({}, temp)\n    }\n    case RESET_BOOKING: {\n      return {}\n    }\n    default:\n      return state\n  }\n}\n\nconst initActivation = {\n  servicesActive: true,\n  artistsActive: true,\n  bookingsActive: false,\n  bookingTrigger: false,\n  requestMethod: 'get',\n  data: {},\n  callMe: null,\n  bookingData: {}\n}\n\nexport function storeActivation(state = initActivation, action) {\n  switch (action.type) {\n    case ACTIVATE_BOOKINGS: {\n      return Object.assign({}, state, {\n        bookingsActive: action.val,\n        requestMethod: 'get'\n      })\n    }\n    case SEARCH_BOOKING: {\n      return Object.assign({}, state, {\n        bookingsActive: true,\n        requestMethod: 'get',\n        bookingTrigger: !state.bookingTrigger\n      })\n    }\n    //create a new booking on the server\n    case ADD_BOOKING: {\n      return Object.assign({}, state, {\n        bookingsActive: true,\n        requestMethod: 'post',\n        data: action.payload,\n        bookingTrigger: !state.bookingTrigger,\n        callMe: action.callMe\n      })\n    }\n    //modify an existing booking on the server\n    case UPDATE_BOOKING: {\n      return Object.assign({}, state, {\n        bookingsActive: true,\n        requestMethod: 'put',\n        data: action.payload,\n        bookingTrigger: !state.bookingTrigger,\n        callMe: action.callMe\n      })\n    }\n    /*\n     * Save booking information in an object as required by submission format for later use.\n     * This is different from LOAD_BOOKING which initializes the booking state from an existing booking.\n     */\n    case SAVE_BOOKING: {\n      return Object.assign({}, state, {\n        bookingData: action.payload\n      })\n    }\n    case RESET_BOOKING: {\n      return initActivation\n    }\n    default:\n      return state\n  }\n}\n\nconst today = new Date()\n\nconst initBookingFilter = {\n  fromDate: new Date(),\n  toDate: today.setDate(today.getDate() + 7),\n  artist: null,\n  client: null\n}\n\nexport function bookingFilter(state = initBookingFilter, action) {\n  switch (action.type) {\n    case SET_FROM_DATE: {\n      return Object.assign({}, state, {\n        fromDate: action.val\n      })\n    }\n    case SET_TO_DATE: {\n      return Object.assign({}, state, {\n        toDate: action.val\n      })\n    }\n    case SET_ARTIST: {\n      return Object.assign({}, state, {\n        artist: action.val\n      })\n    }\n    case SET_CLIENT: {\n      return Object.assign({}, state, {\n        client: action.val\n      })\n    }\n    default:\n      return state\n  }\n}","import {SIGN_IN, SIGN_OUT} from '../actions/userCreator'\n\nconst initUser = {\n  firstName: '',\n  lastName: '',\n  nickName: '',\n  email: '',\n  id: '',\n  phone: '',\n  loggedIn: false,\n  isArtist: false\n}\n\nexport function userInfo(state = initUser, action) {\n  switch (action.type) {\n    case SIGN_IN: {\n      return Object.assign({}, state, {\n        firstName: action.payload.firstName,\n        lastName: action.payload.lastName,\n        nickName: action.payload.nickName,\n        email: action.payload.email,\n        id: action.payload.id,\n        loggedIn: action.payload.loggedIn,\n        isArtist: action.payload.isArtist\n      })\n    }\n    case SIGN_OUT: {\n      return Object.assign({}, initUser)\n    }\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport {\n  priceFactors,\n  bookingDateAddr,\n  bookingStage,\n  selectedArtist,\n  assignedArtists,\n  clientInfo,\n  availArtists,\n  itemQty,\n  storeActivation,\n  bookingFilter\n} from './bookingInfo'\n\nimport { userInfo } from './userInfo'\n\nconst rootReducer = combineReducers({\n  priceFactors,\n  bookingDateAddr,\n  bookingStage,\n  selectedArtist,\n  assignedArtists,\n  clientInfo,\n  availArtists,\n  itemQty,\n  storeActivation,\n  bookingFilter,\n  userInfo,\n})\n\nexport default rootReducer","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducer from '../reducers/rootReducer'\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(thunk)\n)\n\nexport default store","import { connect } from 'react-redux'\nimport { BookingsStoreProvider } from '../components/BookingsStoreProvider'\n\nconst mapStateToProps = state => {\n  return {\n    storeCtrl : state.storeActivation,\n    bookingFilter: state.bookingFilter\n  }\n}\n\nexport default connect(mapStateToProps, null)(BookingsStoreProvider)","import { getBookingValue } from './getBookingValue'\n\nexport function normaliseArtists(artistArr)\n{\n  let artists = {}\n  \n  for (let i = 0; i < artistArr.length; i++ ) {\n    artists[artistArr[i].id.toString()] = {\n      id: artistArr[i].id,\n      name: artistArr[i].name,\n      state: artistArr[i].state,\n      photo: artistArr[i].photo,\n      title: artistArr[i].title,\n      bio: artistArr[i].bio,\n      hashtag: artistArr[i].hashtag ? artistArr[i].hashtag.replace('#', '') : \"haironthemove2u\"\n    }\n  }\n  \n  return artists\n}\n\nexport function normaliseClients(clientArr)\n{\n  let clients = {}\n  \n  for (let i = 0; i < clientArr.length; i++ ) {\n    clients[clientArr[i].id.toString()] = {\n      id: clientArr[i].id,\n      name: clientArr[i].name,\n      phone: clientArr[i].phone\n    }\n  }\n\n  return clients\n}\n\nexport function normaliseServices(serviceArr)\n{\n  let services = {}\n  let cats = []\n  \n  for (let i = 0; i < serviceArr.length; i++ ) {\n    let items = Object.values(serviceArr[i].data)\n    let list = []\n    for (let j = 0; j < items.length; j++ ) {\n      let id = items[j].id.toString()\n      list.push(id)\n      services[id] = {\n        cat: i,\n        description: items[j].description,\n        price: items[j].sale_price,\n        organicPrice: items[j].organic_add_price,\n        timeOnsite: items[j].time_on_site,\n        onlineBooking: items[j].online_booking === 1 ? true : false,\n        addOn: items[j].add_on === 1 ? true : false\n      }\n    }\n    cats.push({\n      \"name\": serviceArr[i].cat,\n      \"list\": list\n    })\n  }\n  return { \n    \"items\": services, \n    \"cats\": cats\n  }\n}\n\nexport function getEvents(bookings, artists, clients, servicesMenu)\n{\n  let events = []\n\n  for (let id in bookings) {\n    let serviceItems = []\n    let total = 0\n    let booking = bookings[id]\n\n    //artist && client still exist\n    if (artists[booking.artist_id_list[0]] && clients[booking.client_id]) {\n      let itemQty = {}\n      let priceFactors = {\n        organic: booking.with_organic,\n        pensionerRate: booking.with_pensioner_rate\n      }\n      for (let j = 0; j < booking.services.length; j++) {\n        //Don't know why services contain invalid id. The random id is constrained to a valid range.\n        if (servicesMenu[booking.services[j]]) {\n          serviceItems.push(servicesMenu[booking.services[j]].description + ' Qty ' + booking.quantities[j])\n          itemQty[booking.services[j]] = booking.quantities[j]\n        }\n      }\n\n      total = getBookingValue(servicesMenu, priceFactors, itemQty)\n      events.push({\n        id: booking.booking_id,\n        start: new Date(booking.booking_date + ' ' + booking.booking_time + ':00'),\n        end: new Date(booking.booking_date + ' ' + booking.booking_end_time + ':00'),\n        address: booking.event_address,\n        artists: booking.artist_id_list.map(id => artists[id]),\n        artistNames: booking.artist_id_list.map(id => artists[id].name).join(', '),\n        client: clients[booking.client_id],\n        organic: booking.with_organic,\n        serviceItems: serviceItems,\n        total: total\n      })\n    }\n  }\n\n  return events\n}","import React, { Component } from 'react'\nimport { Provider } from 'react-redux'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport './App.css';\nimport Routes from './config/RootContainer'\nimport store from './config/Store'\nimport BookingsStoreProvider from './config/BookingsStoreProviderContainer'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#f18383'\n    },\n    secondary: {\n      // main: '#e8e5e5'\n      main: '#000'\n    }\n  },\n  // typography: {\n  //   // Use the system font instead of the default Roboto font.\n  //   fontFamily: [\n  //     '\"Lato\"',\n  //     'sans-serif'\n  //   ].join(',')\n  // }\n});\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <BookingsStoreProvider>\n            <Routes theme={theme}/>\n          </BookingsStoreProvider>\n        </ThemeProvider>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}