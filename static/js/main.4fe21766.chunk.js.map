{"version":3,"sources":["images/logo.png","components/AddArtists.js","components/AddClient.js","components/ForgetPWForm.js","components/RegisterForm.js","components/SigninForm.js","config/SigninFormContainer.js","config/dataLinks.js","images/logo192.png","components/ScrollTop.js","components/SignoutForm.js","config/SignoutFormContainer.js","components/Filter.js","config/FilterContainer.js","components/Topbar.js","components/Routes.js","config/RootContainer.js","reducers/bookingInfo.js","reducers/userInfo.js","reducers/rootReducer.js","config/Store.js","config/BookingsStoreProviderContainer.js","App.js","serviceWorker.js","index.js","actions/userCreator.js","actions/bookingCreator.js","utils/getBookingValue.js","actions/useAxiosFetch.js","actions/useAxiosCRUD.js","components/BookingsStoreProvider.js","utils/dataFormatter.js"],"names":["module","exports","AddArtists","tags","setTags","multiArtists","clearable","artists","label","artistOptions","Object","values","sort","a","b","artists1","state","toUpperCase","name","artists2","multiple","id","disableClearable","filterSelectedOptions","options","groupBy","option","getOptionLabel","value","onChange","event","renderInput","params","variant","placeholder","fullWidth","AddClient","client","setClient","useState","open","setOpen","setOptions","searchKey","setSearchKey","active","length","loading","setLoading","useEffect","async","config","method","headers","access_token","url","user_url","axios","clients","data","map","phone","meta","billing_phone","onOpen","onClose","onInputChange","reason","InputProps","endAdornment","Fragment","color","size","useStyles","makeStyles","container1","display","margin","grow","flexGrow","container2","flexDirection","alignContent","button","marginLeft","marginRight","marginTop","marginBottom","ForgetPWForm","triggerOpen","didMountRef","useRef","userLogin","setUserLogin","classes","current","Dialog","DialogContent","DialogContentText","TextField","autoFocus","type","target","DialogActions","className","Button","onClick","reset_pw_url","response","status","alert","logo","require","theme","button1","maxWidth","width","height","breakpoints","down","maxHeight","RegisterForm","signinUser","username","setUsername","password","setPassword","email","setEmail","firstName","setFirstName","lastName","setLastName","company","setCompany","address","setAddress","city","setCity","stateAbbr","setStateAbbr","postcode","setPostcode","setPhone","disableSubmit","setDisableSubmit","onBackdropClick","src","alt","Grid","container","item","xs","required","register_nonce_url","nonceResponse","nonce","userFormData","FormData","set","register_url","regResponse","cookie","user_id","metaFormData","metaConfig","update_user_meta_url","metaResponse","nickName","loggedIn","error","disabled","button2","connect","dispatch","payload","initOpen","triggerForgetPW","setTriggerForgetPW","triggerRegister","setTriggerRegister","signinFormData","auth_url","user","isArtist","capabilities","staff_members","firstname","lastname","nickname","home_url","HOTM_BOOKING_API","services_url","artists_url","bookings_url","available_artists_url","process","instagram_url","term_url","stripe_charge_server","ScrollToTop","prevProps","this","props","location","pathname","window","scrollTo","children","Component","withRouter","userInfo","signoutUser","resetBooking","fontSize","Typography","align","bookingFilter","setFromDate","val","setToDate","setArtist","searchBooking","fromDate","toDate","artist","DialogTitle","utils","DateFnsUtils","disableToolbar","format","KeyboardButtonProps","title","up","sectionDesktop","alignItems","artistMenu","icon","external","userMenu","bookingValue","drawerOpen","setDrawerOpen","triggerSignin","setTriggerSignin","triggerSignout","setTriggerSignout","triggerFilter","setTriggerFilter","currentPath","bookingPage","eventsPage","menu","toggleDrawer","key","AppBar","position","Toolbar","IconButton","aria-label","Drawer","anchor","role","onKeyDown","List","ListItem","component","MaterialLink","Link","href","to","search","ListItemIcon","ListItemText","primary","edge","evt","preventDefault","style","Booking","lazy","ArtistBooking","Manage","Calendar","Routes","bookingStage","changeBookingStage","priceFactors","itemQty","useContext","BookingsStoreContext","services","servicesFetched","events","eventsFetched","setBookingValue","depositPayable","setDepositPayable","getBookingValue","items","getDepositPayable","CssBaseline","fallback","CircularProgress","exact","path","render","newBooking","bookings","stage","initPriceFactors","organic","pensionerRate","initDateAddr","bookingDate","bookingEnd","bookingAddr","initClientInfo","comment","balance","paid","bookingId","initAvailArtists","ids","recs","isLoading","hasErr","initActivation","servicesActive","artistsActive","bookingsActive","bookingTrigger","requestMethod","callMe","bookingData","today","Date","initBookingFilter","setDate","getDate","initUser","rootReducer","combineReducers","action","CHANGE_ORGANIC","assign","CHANGE_PENSIONER_RATE","LOAD_BOOKING","booking","with_organic","with_pensioner_rate","RESET_BOOKING","bookingDateAddr","SUBMIT_BOOKING","booking_date","booking_time","booking_end_time","event_address","CHANGE_BOOKING_STAGE","selectedArtist","order","SET_SELECTED_ARTIST","assignedArtists","ASSIGN_ARTISTS","artistIds","artist_id_list","clientInfo","total_amount","paid_amount","booking_id","ASSIGN_CLIENT","availArtists","GET_AVAIL_ARTISTS","RECEIVE_AVAIL_ARTISTS","list","rec","push","ERROR_AVAIL_ARTISTS","qty","itemId","INC_ITEM_QTY","DEC_ITEM_QTY","temp","quantities","i","toString","storeActivation","ACTIVATE_BOOKINGS","SEARCH_BOOKING","ADD_BOOKING","UPDATE_BOOKING","SAVE_BOOKING","SET_FROM_DATE","SET_TO_DATE","SET_ARTIST","SET_CLIENT","SIGN_IN","SIGN_OUT","store","createStore","reducer","applyMiddleware","thunk","storeCtrl","BookingsStoreProvider","createMuiTheme","palette","main","secondary","App","ThemeProvider","Boolean","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","toggleOrganic","togglePensionerRate","submitBooking","date","addr","changeSelectedArtist","getAvailArtist","fetch","result","json","console","log","incItemQty","decItemQty","setActivateBookings","addBooking","bookingInfo","updateBooking","saveBooking","assignArtists","assignClient","loadBooking","total","pensioner","keys","organicPrice","price","toFixed","totalBookingValue","dataFetchReducer","hasErrored","errorMessage","Error","useAxiosFetch","initialUrl","initialData","useReducer","didCancel","get","fetchData","convertArrayToObject","array","reduce","obj","isUpdating","errMessage","useAxiosCRUD","createData","updateData","createContext","artistId","clientId","moment","initFilter","bookingUrl","setBookingUrl","setServices","setServicesFetched","setArtists","artistsFetched","setArtistsFetched","setEvents","setEventsFetched","clientList","setClientList","clientsFetchTrigger","setClientsFetchTrigger","setClients","servicesData","serviceArr","cats","j","cat","description","sale_price","organic_add_price","timeOnsite","time_on_site","onlineBooking","online_booking","addOn","add_on","normaliseServices","artistsData","newFilter","artistArr","photo","bio","hashtag","replace","normaliseArtists","bookingsData","client_id","includes","getClientListFromBookings","Promise","allSettled","results","forEach","servicesMenu","serviceItems","start","end","artistNames","join","getEvents","Provider"],"mappings":"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","file":"static/js/main.4fe21766.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.a36b5832.png\";","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\n\nexport default function AddArtists({tags, setTags, multiArtists, clearable, artists, label}) {\n\n  const artistOptions = Object.values(artists).sort((a, b) => {\n    let artists1 = a.state.toUpperCase() + a.name\n    let artists2 = b.state.toUpperCase() + b.name\n    if (artists1 < artists2)\n      return -1\n    else if (artists1 > artists2)\n      return 1\n    else\n      return 0\n  })\n\n  const onChangeArtists = (event, value) => {\n    setTags(value)\n  }\n\n  return (\n    <Autocomplete\n      multiple={multiArtists}\n      id=\"artist-list\"\n      disableClearable={clearable}\n      filterSelectedOptions\n      options={artistOptions}\n      groupBy={option => option.state.toUpperCase()}\n      getOptionLabel={option => option.name}\n      value={tags}\n      onChange={onChangeArtists}\n      renderInput={params => (\n        <TextField\n          {...params}\n          variant=\"outlined\"\n          placeholder=\"Artist name\"\n          label={label}\n          fullWidth\n        />\n      )}\n  />\n)\n}","import React, { useState, useEffect } from 'react'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { user_url, access_token } from '../config/dataLinks'\nimport axios from \"axios\"\n\nexport default function AddClient({client, setClient, label}) {\n  const [open, setOpen] = useState(false)\n  const [options, setOptions] = useState(client !== null ? [client] : [])\n  const [searchKey, setSearchKey] = useState('')\n  const active = open && searchKey.length >= 3\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n\n    if (active && !loading) {\n      (async () => {\n\n        const config = {\n          method: 'get',\n          headers: { 'Authorization': access_token },\n          url: `${user_url}?search=${searchKey}`\n        }\n\n        setLoading(true)\n        let clients = await axios(config)\n\n        setOptions(clients.data.map(client => {\n          return {\n            id: client.id,\n            name: client.name, \n            phone: client.meta.billing_phone[0]\n          }\n        }))\n        setLoading(false)\n\n      })()\n    }\n\n  }, [searchKey, active])\n\n  const handleChangeClient = (event, value) => {\n    setClient(value)\n  }\n\n  const handleChangeSearchKey = (event, value, reason) => {\n    if (reason === 'input')\n      setSearchKey(value)\n    else if (reason === 'clear')\n      setSearchKey('')\n  }\n\n  const handleOpen = () => {\n    setOpen(true)\n  }\n\n  const handleClose = () => {\n    setOpen(false)\n    setSearchKey('')\n    setOptions([])\n  }\n\n  const getOptionLabel = option => {\n    return `${option.name} - ${option.phone}`\n  }\n\n  return (\n    <Autocomplete\n      id=\"asynchronous-client\"\n      open={open}\n      onOpen={handleOpen}\n      onClose={handleClose}\n      getOptionLabel={getOptionLabel}\n      options={options}\n      loading={loading}\n      value={client}\n      onChange={handleChangeClient}\n      onInputChange={handleChangeSearchKey}\n      renderInput={params => (\n        <TextField\n          {...params}\n          label={label}\n          fullWidth\n          variant=\"outlined\"\n          placeholder=\"Client name or username\"\n          InputProps={{\n            ...params.InputProps,\n            endAdornment: (\n              <React.Fragment>\n                {loading ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                {params.InputProps.endAdornment}\n              </React.Fragment>\n            ),\n          }}\n        />\n      )}\n    />\n  )\n}","import React, { useState, useEffect, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport TextField from '@material-ui/core/TextField'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { reset_pw_url } from '../config/dataLinks'\nimport axios from 'axios'\n\nconst useStyles = makeStyles(() => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  grow: {\n    flexGrow: 1\n  },\n  container2: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignContent: 'center'\n  },\n  button: {\n    display: 'flex',\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  }\n}))\n\nexport default function ForgetPWForm({triggerOpen}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n  const [userLogin, setUserLogin] = useState('')\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const onChangeUserLogin = event => {\n    setUserLogin(event.target.value)\n  }\n\n  const handleResetPW = async () => {\n    const url = reset_pw_url + userLogin\n\n    let response = await axios(url)\n\n    if (response.status === 200) {\n      let data = response.data\n\n      if (data.status === 'ok') {\n        alert('An email to reset your password has been sent to you.')\n        setOpen(false)\n      }\n      else {\n        alert('username or email not found')\n      }\n    }\n    else {\n      alert('username or email not found')\n    }\n  }\n\n  return (\n    <Dialog open={open}>\n    <DialogContent>\n        <DialogContentText>\n          To reset password, please enter your username or email.\n        </DialogContentText>\n        <TextField\n          autoFocus\n          margin=\"dense\"\n          label=\"username or email\"\n          type=\"userLogin\"\n          fullWidth\n          onChange={onChangeUserLogin}\n        />\n      </DialogContent>\n      <DialogActions className={classes.button}>\n        <Button variant=\"contained\" onClick={handleClose} color=\"primary\" fullWidth>\n          Cancel\n        </Button>\n        <Button variant=\"contained\" onClick={handleResetPW} color=\"primary\" fullWidth>\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import React, { useEffect, useState, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Grid from '@material-ui/core/Grid'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { register_nonce_url, register_url, update_user_meta_url } from '../config/dataLinks'\nimport axios from 'axios'\n\nconst logo = require('../images/logo.png')\n\nconst useStyles = makeStyles(theme => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  grow: {\n    flexGrow: 1\n  },\n  button1: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 10,\n    marginBottom: 10\n  },\n  logo: {\n    maxWidth: '50%',\n    width: 'auto',\n    height: 'auto',\n    [theme.breakpoints.down('sm')]: {\n      maxHeight: 120,\n    }\n  }\n}))\n\nexport default function RegisterForm({triggerOpen, signinUser}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [email, setEmail] = useState('')\n  const [firstName, setFirstName] = useState('')\n  const [lastName, setLastName] = useState('')\n  const [company, setCompany] = useState('')\n  const [address, setAddress] = useState('')\n  const [city, setCity] = useState('')\n  const [stateAbbr, setStateAbbr] = useState('')\n  const [postcode, setPostcode] = useState('')\n  const [phone, setPhone] = useState('')\n  const classes = useStyles()\n  const [disableSubmit, setDisableSubmit] = useState(true)\n\n  useEffect(() => {\n    if (username === '' || password === '' || email === '' || firstName === '' || lastName === '' || phone === '')\n      setDisableSubmit(true)\n    else\n      setDisableSubmit(false)\n  },[username, password, email, firstName, lastName, phone])\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const onChangeUsername = event => {\n    setUsername(event.target.value)\n  }\n\n  const onChangePassword = event => {\n    setPassword(event.target.value)\n  }\n\n  const onChangeEmail = event => {\n    setEmail(event.target.value)\n  }\n\n  const onChangeFirstName = event => {\n    setFirstName(event.target.value)\n  }\n\n  const onChangeLastName = event => {\n    setLastName(event.target.value)\n  }\n\n  const onChangeCompany = event => {\n    setCompany(event.target.value)\n  }\n\n  const onChangeAddress = event => {\n    setAddress(event.target.value)\n  }\n\n  const onChangeCity = event => {\n    setCity(event.target.value)\n  }\n\n  const onChangeStateAbbr = event => {\n    setStateAbbr(event.target.value)\n  }\n\n  const onChangePostcode = event => {\n    setPostcode(event.target.value)\n  }\n\n  const onChangePhone= event => {\n    setPhone(event.target.value)\n  }\n\n  const handleRegister = async () => {\n\n    let nonceResponse = await axios(register_nonce_url)\n\n    if (nonceResponse.status === 200 && nonceResponse.data.status === 'ok') {\n      const nonce = nonceResponse.data.nonce\n\n      let userFormData = new FormData()\n      userFormData.set('username', username)\n      userFormData.set('user_pass', password)\n      userFormData.set('email', email)\n      userFormData.set('display_name', `${firstName} ${lastName}`)\n      userFormData.set('nonce', nonce)\n\n      const config = {\n        method: 'post',\n        headers: {\"Content-Type\": 'multipart/form-data'},\n        url: register_url,\n        data: userFormData\n      }\n\n      let regResponse = await axios(config)\n\n      if (regResponse.status === 200 && regResponse.data.status === 'ok') {\n        const cookie = regResponse.data.cookie\n        const user_id = regResponse.data.user_id\n\n        let metaFormData = new FormData()\n        metaFormData.set('cookie', cookie)\n        metaFormData.set('billing_firstname', firstName)\n        metaFormData.set('billing_lastname', lastName)\n        metaFormData.set('billing_company', company)\n        metaFormData.set('billing_address_1', address)\n        metaFormData.set('billing_city', city)\n        metaFormData.set('billing_state', stateAbbr)\n        metaFormData.set('billing_postcode', postcode)\n        metaFormData.set('billing_phone', phone)\n\n        const metaConfig = {\n          method: 'post',\n          headers: {\"Content-Type\": 'multipart/form-data'},\n          url: update_user_meta_url,\n          data: metaFormData\n        }\n    \n        let metaResponse = await axios(metaConfig)\n\n        if (metaResponse.status === 200 && metaResponse.data.status === 'ok') {\n          const payload = {\n            firstName,\n            lastName,\n            nickName: firstName,\n            email: email,\n            id: user_id,\n            loggedIn: true\n          }\n          signinUser(payload)\n          alert('You are now registered for HOTM online booking!')\n          setOpen(false)\n        }\n        else {\n          alert(metaResponse.data.error)\n        }\n      }\n      else {\n        alert(regResponse.data.error)\n      }\n    }\n    else {\n      alert(nonceResponse.data.error)\n    }\n  }\n\n  return (\n    <Dialog open={open} onBackdropClick={() => setOpen(false)}>\n      <div className={classes.container1}>\n        <div className={classes.grow} />\n        <img className={classes.logo} src={logo} alt=\"Hair on the move logo\" />\n        <div className={classes.grow} />\n      </div>\n      <DialogContent>\n        <Grid container>\n          <Grid item xs={6}>\n            <TextField\n              autoFocus\n              required\n              margin=\"dense\"\n              label=\"username\"\n              type=\"username\"\n              fullWidth\n              onChange={onChangeUsername}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"password\"\n              type=\"password\"\n              fullWidth\n              onChange={onChangePassword}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"email\"\n              type=\"email\"\n              fullWidth\n              onChange={onChangeEmail}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"first name\"\n              type=\"firstname\"\n              fullWidth\n              onChange={onChangeFirstName}\n            />\n          </Grid>  \n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"last name\"\n              type=\"lastname\"\n              fullWidth\n              onChange={onChangeLastName}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              margin=\"dense\"\n              label=\"company\"\n              type=\"company\"\n              fullWidth\n              onChange={onChangeCompany}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <TextField\n              margin=\"dense\"\n              label=\"address\"\n              type=\"address\"\n              fullWidth\n              onChange={onChangeAddress}\n            />\n          </Grid>  \n          <Grid item xs={6}>\n            <TextField\n              margin=\"dense\"\n              label=\"city\"\n              type=\"city\"\n              fullWidth\n              onChange={onChangeCity}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              margin=\"dense\"\n              label=\"postcode\"\n              type=\"postcode\"\n              fullWidth\n              onChange={onChangePostcode}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              margin=\"dense\"\n              label=\"state abbr.\"\n              type=\"state\"\n              fullWidth\n              onChange={onChangeStateAbbr}\n            />\n          </Grid>\n          <Grid item xs={6}>\n            <TextField\n              required\n              margin=\"dense\"\n              label=\"phone\"\n              type=\"phone\"\n              fullWidth\n              onChange={onChangePhone}\n            />\n          </Grid>  \n        </Grid>\n      </DialogContent>\n      <DialogActions className={classes.button1}>\n        <Button variant=\"contained\" onClick={handleRegister} color=\"primary\" fullWidth disabled={disableSubmit}>\n          Submit\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import React, { useEffect, useState, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { auth_url } from '../config/dataLinks'\nimport axios from 'axios'\nimport ForgetPWForm from './ForgetPWForm'\nimport RegisterForm from './RegisterForm'\n\nconst logo = require('../images/logo.png')\n\nconst useStyles = makeStyles(theme => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  container2: {\n    display: 'flex'\n  },\n  grow: {\n    flexGrow: 1\n  },\n  button1: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20\n  },\n  button2: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  },\n  logo: {\n    maxWidth: '50%',\n    width: 'auto',\n    height: 'auto',\n    [theme.breakpoints.down('sm')]: {\n      maxHeight: 120,\n    }\n  }\n}))\n\nexport default function SigninForm({theme, triggerOpen, signinUser, initOpen}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n  const[username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [triggerForgetPW, setTriggerForgetPW] = useState(false)\n  const [triggerRegister, setTriggerRegister] = useState(false)\n\n  const classes = useStyles(theme)\n\n  useEffect(() => {\n    if (didMountRef.current) {\n      setOpen(true)\n    }\n    else {\n      didMountRef.current = true\n      setOpen(initOpen)\n    }\n  }, [triggerOpen, initOpen])\n\n  const onChangeUsername = event => {\n    setUsername(event.target.value)\n  }\n\n  const onChangePassword = event => {\n    setPassword(event.target.value)\n  }\n\n  const handleSignin = async () => {\n    let signinFormData = new FormData()\n    signinFormData.set('username', username)\n    signinFormData.set('password', password)\n\n    const config = {\n      method: 'post',\n      headers: {\"Content-Type\": 'multipart/form-data'},\n      url: auth_url,\n      data: signinFormData\n    }\n\n    let response = await axios(config)\n\n    if (response.status === 200 && response.data.user) {\n      let user = response.data.user\n      let isArtist = false\n      if (user.capabilities.staff_members)\n        isArtist = true\n      const payload = {\n        firstName: user.firstname,\n        lastName: user.lastname,\n        nickName: user.nickname,\n        email: user.email,\n        id: user.id,\n        loggedIn: true,\n        isArtist: isArtist\n      }\n      signinUser(payload)\n      setOpen(false)\n    }\n    else {\n      alert('login failed')\n    }\n  }\n\n  const handleForget = () => {\n    setOpen(false)\n    setTriggerForgetPW(!triggerForgetPW)\n  }\n\n  const handleRegister = () => {\n    setOpen(false)\n    setTriggerRegister(!triggerRegister)\n  }\n\n  return (\n    <>\n      <Dialog open={open} onBackdropClick={() => setOpen(false)}>\n        <div className={classes.container1}>\n          <div className={classes.grow} />\n          <img className={classes.logo} src={logo} alt=\"Hair on the move logo\" />\n          <div className={classes.grow} />\n        </div>\n        <DialogContent>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"username or email\"\n            type=\"username\"\n            fullWidth\n            onChange={onChangeUsername}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"password\"\n            type=\"password\"\n            fullWidth\n            onChange={onChangePassword}\n          />\n        </DialogContent>\n        <DialogActions className={classes.button1}>\n          <Button variant=\"contained\" onClick={handleSignin} color=\"primary\" fullWidth>\n            Sign in\n          </Button>\n        </DialogActions>\n        <DialogActions className={classes.container2}>\n          <div className={classes.grow} />\n          <Button variant=\"text\" onClick={handleForget} color=\"primary\">\n            Forget password?\n          </Button>\n          <div className={classes.grow} />\n        </DialogActions>\n        <div className={classes.container2}>\n          <div className={classes.grow} />\n          <p>OR</p>\n          <div className={classes.grow} />\n        </div>\n        <DialogActions className={classes.button2}>\n          <Button variant=\"contained\" onClick={handleRegister} color=\"primary\" fullWidth>\n            Register\n          </Button>\n        </DialogActions>\n      </Dialog>\n      <ForgetPWForm triggerOpen={triggerForgetPW}/>\n      <RegisterForm triggerOpen={triggerRegister} signinUser={signinUser}/>\n    </>\n  )\n}","import { connect } from 'react-redux'\nimport { signinUser } from '../actions/userCreator'\nimport SigninForm from '../components/SigninForm'\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signinUser: (payload) => dispatch(signinUser(payload))\n  }\n}\n\nexport default connect(null, mapDispatchToProps)(SigninForm)","const miniOrangeAccessKey = process.env.REACT_APP_MINIORANGE_ACCESS_KEY\n/*\n * Hair On the Move 2 U Home page\n */\nexport const home_url = \"https://procomhost.com\"\n// export const home_url = \"https://appvelation.app\"\n\n\n/*\n * The active custom booking api\n */\nconst HOTM_BOOKING_API = home_url + \"/hotm_booking/api/v0.8\"\nexport const services_url = HOTM_BOOKING_API + \"/services\"\nexport const artists_url = HOTM_BOOKING_API + \"/artists\"\nexport const bookings_url = HOTM_BOOKING_API + \"/bookings\"\nexport const available_artists_url = HOTM_BOOKING_API + '/get_available_artists.php'\n\n/*\n * Simulated data for testing\n */\n// export const artists_url = 'http://localhost:5000/artists'\n// export const bookings_url = 'http://localhost:5000/bookings'\n\n/*\n * JSON API Auth & JSON API User Plugin\n */\nexport const register_nonce_url = home_url + \"/api/get_nonce/?controller=user&method=register\"\nexport const register_url = home_url + \"/api/user/register\"\nexport const update_user_meta_url = home_url + \"/api/user/update_user_meta_vars\"\nexport const auth_url = home_url + \"/api/auth/generate_auth_cookie\"\nexport const reset_pw_url = home_url + \"/api/user/retrieve_password/?user_login=\"\n\n/*\n * miniOrange API Authentication\n */\nexport const user_url = home_url + \"/wp-json/wp/v2/users\"\n// Use relative path in development mode to make use of proxy\n// export const user_url = \"/wp-json/wp/v2/users\"\n// Client-ID : Client-Secret authentication\nexport const access_token = miniOrangeAccessKey\n\n/*\n * Instagram root for artists\n */\nexport const instagram_url = \"https://www.instagram.com/explore/tags/\"\n\n/*\n * Hair On the Move 2 U Terms & Conditions\n */\nexport const term_url = home_url + \"/terms-conditions/\"\n\n/*\n * Stripe charge server running on Node.js deployed to Heroku\n */\nexport const stripe_charge_server = \"https://boiling-shore-55046.herokuapp.com/charge\"","module.exports = __webpack_public_path__ + \"static/media/logo192.4d162816.png\";","import { Component } from 'react'\nimport { withRouter } from 'react-router-dom'\n\nclass ScrollToTop extends Component {\n    componentDidUpdate(prevProps) {\n      if (this.props.location.pathname !== prevProps.location.pathname) {\n        window.scrollTo(0, 0);\n      }\n    }\n\n    render() {\n      return this.props.children;\n    }\n  }\n\n  export default withRouter(ScrollToTop);","import React, { useState, useEffect, useRef} from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\n\n\nconst useStyles = makeStyles(() => ({\n  container1: {\n    display: 'flex',\n    margin: 20\n  },\n  grow: {\n    flexGrow: 1\n  },\n  container2: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignContent: 'center'\n  },\n  button: {\n    display: 'flex',\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  }\n}))\n\nexport default function SignoutForm({firstName, lastName, email, triggerOpen, signoutUser, resetBooking}) {\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n\n  const classes = useStyles()\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n\n  const handleSignout = () => {\n    signoutUser()\n    resetBooking()\n    setOpen(false)\n  }\n\n  return (\n    <Dialog maxWidth='xs' fullWidth open={open}>\n      <div className={classes.container1}>\n        <div className={classes.grow} />\n        <ExitToAppIcon color='primary' fontSize='large'/>\n        <div className={classes.grow} />\n      </div>\n      <DialogContent className={classes.container2}>\n        <Typography variant='h6' align='center'>\n          { `${firstName} ${lastName}` }\n        </Typography>\n        <Typography variant='body2' align='center'>\n          {email}\n        </Typography>\n      </DialogContent>  \n      <DialogActions className={classes.button}>\n        <Button variant=\"contained\" onClick={handleClose} color=\"primary\" fullWidth>\n          Cancel\n        </Button>\n        <Button variant=\"contained\" onClick={handleSignout} color=\"primary\" fullWidth>\n          Sign out\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import { connect } from 'react-redux'\nimport { signoutUser } from '../actions/userCreator'\nimport { resetBooking } from '../actions/bookingCreator'\nimport SignoutForm from '../components/SignoutForm'\n\nconst mapStateToProps = state => {\n  return {\n    firstName: state.userInfo.firstName,\n    lastName: state.userInfo.lastName,\n    email: state.userInfo.email\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    signoutUser: () => dispatch(signoutUser()),\n    resetBooking: () => dispatch(resetBooking())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignoutForm)","import React, { useEffect, useState, useRef } from 'react'\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogTitle from '@material-ui/core/DialogTitle'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport { makeStyles } from '@material-ui/core/styles'\nimport DateFnsUtils from '@date-io/date-fns'\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDatePicker,\n} from '@material-ui/pickers'\nimport AddArtists from './AddArtists'\nimport AddClient from './AddClient'\n\nconst useStyles = makeStyles(theme => ({\n  button: {\n    marginLeft: 15,\n    marginRight: 15,\n    marginTop: 20,\n    marginBottom: 20\n  }\n}))\n\nexport default function Filter({\n  theme,\n  artists,\n  triggerOpen, \n  bookingFilter,\n  setFromDate,\n  setToDate,\n  setArtist,\n  setClient,\n  searchBooking}) {\n\n  const {fromDate, toDate, artist, client} = bookingFilter\n  const [open, setOpen] = useState(false)\n  const didMountRef = useRef(false)\n\n  const classes = useStyles(theme)\n\n  useEffect(() => {\n    if (didMountRef.current)\n      setOpen(true)\n    else\n      didMountRef.current = true\n  }, [triggerOpen])\n\n  const handleSearch = () => {\n    searchBooking()\n    setOpen(false)\n  }\n  \n  return (\n    <Dialog open={open} onBackdropClick={() => setOpen(false)}>\n      <DialogTitle id=\"simple-dialog-title\">Filters for booking search</DialogTitle>\n      <DialogContent>\n        <MuiPickersUtilsProvider utils={DateFnsUtils}>\n          <KeyboardDatePicker\n            disableToolbar\n            variant=\"inline\"\n            format=\"dd/MM/yyyy\"\n            margin=\"normal\"\n            id=\"date-picker-inline\"\n            label=\"Select from date\"\n            value={fromDate}\n            onChange={setFromDate}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n          <KeyboardDatePicker\n            disableToolbar\n            variant=\"inline\"\n            format=\"dd/MM/yyyy\"\n            margin=\"normal\"\n            id=\"date-picker-inline\"\n            label=\"Select to date\"\n            value={toDate}\n            onChange={setToDate}\n            KeyboardButtonProps={{\n              'aria-label': 'change date',\n            }}\n          />\n        </MuiPickersUtilsProvider>\n        <br/>\n        <br/>\n        <AddArtists\n          artists={artists}\n          multiArtists={false}\n          clearable={false}\n          setTags={setArtist}\n          tags={artist}\n          label=\"Select artist\"\n        />\n        <br/>\n        <AddClient\n          setClient={setClient}\n          client={client}\n          label=\"Select client\"\n        />\n      </DialogContent>\n      <DialogActions className={classes.button}>\n        <Button variant=\"contained\" onClick={handleSearch} color=\"primary\" fullWidth>\n          Search\n        </Button>\n      </DialogActions>\n    </Dialog>\n  )\n}","import { connect } from 'react-redux'\nimport { setFromDate, setToDate, setArtist, setClient, searchBooking } from '../actions/bookingCreator'\nimport Filter from '../components/Filter'\n\nconst mapStateToProps = state => {\n  return {\n    bookingFilter: state.bookingFilter\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    setFromDate: (val) => dispatch(setFromDate(val)),\n    setToDate: (val) => dispatch(setToDate(val)),\n    setArtist: (val) => dispatch(setArtist(val)),\n    setClient: (val) => dispatch(setClient(val)),\n    searchBooking: () => dispatch(searchBooking()) \n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter)","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { Link, withRouter } from 'react-router-dom'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport AppBar from '@material-ui/core/AppBar'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport ListItemText from '@material-ui/core/ListItemText'\nimport Drawer from '@material-ui/core/Drawer'\nimport { Link as MaterialLink, Typography } from '@material-ui/core'\nimport AddIcon from '@material-ui/icons/Add'\nimport EventIcon from '@material-ui/icons/Event'\nimport LinkIcon from '@material-ui/icons/Link'\nimport CreateIcon from '@material-ui/icons/Create'\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet'\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle'\nimport LockIcon from '@material-ui/icons/Lock'\nimport LibraryBooksIcon from '@material-ui/icons/LibraryBooks'\nimport FilterListIcon from '@material-ui/icons/FilterList'\n\nimport SigninForm from '../config/SigninFormContainer'\nimport SignoutForm from '../config/SignoutFormContainer'\nimport Filter from '../config/FilterContainer'\nimport { home_url } from '../config/dataLinks'\n\nconst logo = require('../images/logo192.png')\n\nconst useStyles = makeStyles(theme => ({\n  grow: {\n    flexGrow: 1,\n  },\n  title: {\n    display: 'none',\n    [theme.breakpoints.up('sm')]: {\n      display: 'block',\n    },\n  },\n  sectionDesktop: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n}))\n\nconst artistMenu = [\n  {\n    label: \"Add a booking\",\n    pathname: \"/\",\n    icon: <AddIcon />\n  },\n  {\n    label: \"Artist add a booking\",\n    pathname: \"/artist\",\n    icon: <CreateIcon />\n  },\n  {\n    label: \"Manage bookings\",\n    pathname: \"/manage\",\n    icon: <LibraryBooksIcon />\n  },\n  {\n    label: \"Booking calendar\",\n    pathname: \"/calendar\",\n    icon: <EventIcon />\n  },\n  {\n    label: \"Go to Hair on the Move\",\n    pathname: home_url,\n    external: true,\n    icon: <LinkIcon />\n  }\n];\n\nconst userMenu = [\n  {\n    label: \"Add a booking\",\n    pathname: \"/\",\n    icon: <AddIcon />\n  },\n  {\n    label: \"Go to Hair on the Move\",\n    pathname: home_url,\n    external: true,\n    icon: <LinkIcon />\n  }\n];\n\nfunction Topbar ({location, bookingValue, loggedIn, isArtist, artists}) {\n  const classes = useStyles()\n  const [drawerOpen, setDrawerOpen] = useState(false)\n  const [triggerSignin, setTriggerSignin] = useState(false)\n  const [triggerSignout, setTriggerSignout] = useState(false)\n  const [triggerFilter, setTriggerFilter] = useState(false)\n  const currentPath = location.pathname\n  const bookingPage = currentPath === '/' || currentPath === '/artist'\n  const eventsPage = currentPath === '/manage' || currentPath === '/calendar'\n  const menu = isArtist ? artistMenu : userMenu\n  \n  const toggleDrawer = (open) => event => {\n    if (event.type === 'keydown' && (event.key === 'Tab' || event.key === 'Shift')) {\n      return\n    }\n\n    setDrawerOpen(open)\n  }\n\n  const handleUser = evt => {\n    evt.preventDefault()\n    if (loggedIn)\n      setTriggerSignout(!triggerSignout)\n    else\n      setTriggerSignin(!triggerSignin)\n  }\n\n  const handleFilter = evt => {\n    evt.preventDefault()\n    setTriggerFilter(!triggerFilter)\n  }\n\n  let title\n\n  switch (currentPath) {\n    case '/calendar':\n      title = 'Booking calendar'\n      break\n    case '/manage':\n      title = 'Manage bookings'\n      break\n    case '/artist':\n      title = 'Artist add a booking'\n      break\n    default:\n      title = 'Add a booking'\n  }\n\n  return (\n    <div className={classes.grow}>\n      <AppBar color=\"secondary\" position='static'>\n        <Toolbar>\n          <img width={60} src={logo} alt=\"Hair on the move logo\" />\n          <React.Fragment>\n            <IconButton onClick={toggleDrawer(true)} color=\"inherit\" aria-label=\"Menu\">\n              <MenuIcon />\n            </IconButton>\n            <div className={classes.title}>\n              <Typography variant='h6'>{ title }</Typography>\n            </div>\n            <Drawer anchor=\"left\" open={drawerOpen} onClose={toggleDrawer(false)}>\n              <div\n                role=\"presentation\"\n                onClick={toggleDrawer(false)}\n                onKeyDown={toggleDrawer(false)}\n              >\n                <List>\n                  {menu.map(item => (\n                    <ListItem \n                      component={item.external ? MaterialLink : Link} \n                      href={item.external ? item.pathname : null} \n                      to={item.external ? null : {pathname: item.pathname, search: location.search}} \n                      button key={item.label}\n                      target={item.external ? \"_blank\" : null}\n                    >\n                      <ListItemIcon>{item.icon}</ListItemIcon>\n                      <ListItemText primary={item.label} />\n                    </ListItem>\n                  ))}\n                </List>\n              </div>\n            </Drawer>\n          </React.Fragment>\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            {bookingPage && \n            <React.Fragment>\n              <AccountBalanceWalletIcon fontSize='small'/>\n              <span>{ `$${bookingValue}` }</span>\n            </React.Fragment>}\n            {eventsPage && \n            <IconButton\n              edge=\"end\"\n              color=\"inherit\"\n              onClick={handleFilter}\n            >\n              <FilterListIcon/>\n            </IconButton>}\n            <IconButton\n              edge=\"end\"\n              color=\"default\"\n              onClick={handleUser}\n            >\n              {loggedIn ? <AccountCircleIcon color='primary'/> : <LockIcon style={{color: 'white'}}/>}\n            </IconButton>\n          </div>\n        </Toolbar>\n        <SignoutForm triggerOpen={triggerSignout}/> \n        <SigninForm triggerOpen={triggerSignin} initOpen={false}/>\n        <Filter triggerOpen={triggerFilter} artists={artists}/> \n      </AppBar>\n    </div>\n  )\n}\n\nexport default withRouter(Topbar)\n","import React, { useState, useEffect, useContext, Suspense, lazy } from \"react\"\nimport { Route, Switch, HashRouter } from \"react-router-dom\"\nimport ScrollToTop from './ScrollTop'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport Topbar from './Topbar'\nimport { BookingsStoreContext } from './BookingsStoreProvider'\nimport { getBookingValue, getDepositPayable } from '../utils/getBookingValue'\nimport CircularProgress from '@material-ui/core/CircularProgress'\n\n//Use route based lazy loading to split the code to smaller chunks\nconst Booking = lazy(() => import('../pages/Booking'))\nconst ArtistBooking = lazy(() => import('../pages/ArtistBooking'))\nconst Manage = lazy(() => import('../config/ManageContainer'))\nconst Calendar = lazy(() => import('../pages/Calendar'))\n\n// import Booking from '../pages/Booking'\n// import ArtistBooking from '../pages/ArtistBooking'\n// import Manage from  '../config/ManageContainer'\n// import Calendar from '../pages/Calendar'\n\n/**\n * For deploy testing frontend without backend\n */\nconst Routes = ({ theme, bookingStage, changeBookingStage, resetBooking, priceFactors, itemQty, loggedIn, isArtist }) => {\n  const { services, servicesFetched, events, eventsFetched, artists } = useContext(BookingsStoreContext)\n  const [bookingValue, setBookingValue] = useState(0)\n  const [depositPayable, setDepositPayable] = useState(0)\n\n  useEffect(() => {\n    setBookingValue(getBookingValue(services.items, priceFactors, itemQty))\n    setDepositPayable(getDepositPayable(bookingValue))\n  }, [services.items, priceFactors, itemQty, bookingValue])\n  \n  return (\n    <HashRouter>\n      <ScrollToTop>\n        <CssBaseline />\n        <Topbar bookingValue={bookingValue} loggedIn={loggedIn} isArtist={isArtist} artists={artists}/>\n        <Suspense fallback={<CircularProgress/>}>\n        {servicesFetched &&\n          <Switch>\n            <Route exact path='/' render={() => \n              <Booking \n                theme={theme} \n                services={services} \n                bookingStage={bookingStage} \n                changeBookingStage={changeBookingStage} \n                bookingValue={bookingValue}\n                depositPayable={depositPayable}\n                artists={artists}\n                resetBooking={resetBooking}/>} \n            />\n            <Route exact path='/artist' render={() => \n              <ArtistBooking \n                theme={theme} \n                services={services} \n                bookingStage={bookingStage} \n                changeBookingStage={changeBookingStage} \n                bookingValue={bookingValue}\n                depositPayable={depositPayable}\n                artists={artists}\n                newBooking={true}\n                resetBooking={resetBooking}/>} \n            />\n            <Route path='/manage' render={() => \n              <Manage \n                events={events} \n                eventsFetched={eventsFetched}\n                services={services} \n                bookingStage={bookingStage} \n                changeBookingStage={changeBookingStage} \n                bookingValue={bookingValue}\n                depositPayable={depositPayable}\n                artists={artists}/>} \n            />\n            <Route path='/calendar' render={() => <Calendar events={events} />} />\n          </Switch>}\n        </Suspense>\n      </ScrollToTop>\n    </HashRouter>\n  )\n}\n\nexport default Routes","import { connect } from 'react-redux'\nimport Routes from '../components/Routes'\nimport { changeBookingStage, resetBooking } from '../actions/bookingCreator'\n\nconst mapStateToProps = state => {\n  return {\n    priceFactors: state.priceFactors,\n    itemQty: state.itemQty,\n    artists: state.artists,\n    clients: state.clients,\n    bookings: state.bookings,\n    bookingStage: state.bookingStage.stage,\n    loggedIn: state.userInfo.loggedIn,\n    isArtist: state.userInfo.isArtist\n  }\n}\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    changeBookingStage: stage => dispatch(changeBookingStage(stage)),\n    resetBooking: () => dispatch(resetBooking())\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Routes)","import {\n  CHANGE_ORGANIC,\n  CHANGE_PENSIONER_RATE,\n  CHANGE_BOOKING_STAGE,\n  SET_SELECTED_ARTIST,\n  INC_ITEM_QTY,\n  DEC_ITEM_QTY,\n  SUBMIT_BOOKING,\n  GET_AVAIL_ARTISTS,\n  RECEIVE_AVAIL_ARTISTS,\n  ERROR_AVAIL_ARTISTS,\n  ACTIVATE_BOOKINGS,\n  SEARCH_BOOKING,\n  ADD_BOOKING,\n  SAVE_BOOKING,\n  UPDATE_BOOKING,\n  RESET_BOOKING,\n  ASSIGN_ARTISTS,\n  ASSIGN_CLIENT,\n  LOAD_BOOKING,\n  SET_FROM_DATE,\n  SET_TO_DATE,\n  SET_ARTIST,\n  SET_CLIENT\n} from '../actions/bookingCreator'\n\nconst initPriceFactors = {\n  organic: false,\n  pensionerRate: false\n}\n\nexport function priceFactors(state = initPriceFactors, action) {\n  switch (action.type) {\n    case CHANGE_ORGANIC: {\n      return Object.assign({}, state, {\n        organic: !state.organic\n      })\n    }\n    case CHANGE_PENSIONER_RATE: {\n      return Object.assign({}, state, {\n        pensionerRate: !state.pensionerRate\n      })\n    }\n    case LOAD_BOOKING: {\n      return Object.assign({}, {\n        organic: action.booking.with_organic === 1 ? true : false,\n        pensionerRate: action.booking.with_pensioner_rate === 1 ? true : false\n      })\n    }\n    case RESET_BOOKING: {\n      return initPriceFactors\n    }\n    default:\n      return state\n  }\n}\n\nconst initDateAddr = {\n  bookingDate: null,\n  bookingEnd: null,\n  bookingAddr: ''\n}\n\nexport function bookingDateAddr(state = initDateAddr, action) {\n  switch (action.type) {\n    case SUBMIT_BOOKING: {\n      return {\n        bookingDate: action.bookingDate,\n        bookingEnd: action.bookingEnd,\n        bookingAddr: action.bookingAddr\n      }\n    }\n    case LOAD_BOOKING: {\n      const booking = action.booking\n      return {\n        bookingDate: new Date(booking.booking_date + ' ' + booking.booking_time + ':00'),\n        bookingEnd: new Date(booking.booking_date + ' ' + booking.booking_end_time + ':00'),\n        bookingAddr: booking.event_address\n      }\n    }\n    case RESET_BOOKING: {\n      return initDateAddr\n    }\n    default:\n      return state\n  }\n}\n\nexport function bookingStage(state = {stage: 0}, action) {\n  switch (action.type) {\n    case CHANGE_BOOKING_STAGE: {\n      return Object.assign({}, state, {\n        stage: action.stage\n      })\n    }\n    case RESET_BOOKING: {\n      return {stage: 0}\n    }\n    default:\n      return state\n  }\n}\n\n/*\n * A list of artists assigned to a job. Only use non-mutating array methods.\n */\nexport function assignedArtists(state = [], action) {\n  switch (action.type) {\n    case ASSIGN_ARTISTS: {\n      return action.artistIds\n    }\n    case LOAD_BOOKING: {\n      return action.booking.artist_id_list\n    }\n    case RESET_BOOKING: {\n      return []\n    }\n    default:\n      return state\n  }\n}\n\nconst initClientInfo = {\n  client: null,\n  comment: '',\n  balance: null,\n  paid: null,\n  bookingId : null\n}\nexport function clientInfo(state = initClientInfo, action) {\n  switch (action.type) {\n    case LOAD_BOOKING: { \n      return Object.assign({}, {\n        client: action.booking.client,\n        comment: action.booking.comment,\n        balance: action.booking.total_amount - action.booking.paid_amount,\n        paid: action.booking.paid_amount,\n        bookingId: action.booking.booking_id\n      })\n    }\n    case ASSIGN_CLIENT: {\n      return Object.assign({}, state, {\n        client: action.client\n      })\n    }\n    case RESET_BOOKING: {\n      return initClientInfo\n    }\n    default:\n      return state\n  }\n}\n\n/*\n * Client selected single artist\n */\nexport function selectedArtist(state = {order: 0}, action) {\n  switch (action.type) {\n    case SET_SELECTED_ARTIST: { \n      return Object.assign({}, state, {\n        order: action.order\n      })\n    }\n    case RESET_BOOKING: {\n      return {order: 0}\n    }\n    default:\n      return state\n  }\n}\n\nconst initAvailArtists = {\n  ids: [],\n  recs: [],\n  isLoading: false,\n  hasErr: false\n}\nexport function availArtists(state = initAvailArtists, action) {\n  switch (action.type) {\n    case GET_AVAIL_ARTISTS: {\n      return Object.assign({}, state, {\n        ids: [],\n        recs: [],\n        isLoading: true,\n        hasErr: false\n      })\n    }\n    case RECEIVE_AVAIL_ARTISTS: {\n      let list = []\n      let recs = action.payload\n\n      for (let rec of recs) {\n        list.push(rec.artist_id_list[0])\n      }\n  \n      return Object.assign({}, state, {\n        isLoading: false,\n        hasErr: false,\n        ids: list,\n        recs: recs\n      })\n    }\n    case ERROR_AVAIL_ARTISTS: {\n      return Object.assign({}, state, {\n        ids: [],\n        recs: [],\n        isLoading: false,\n        hasErr: true\n      })\n    }\n    case RESET_BOOKING: {\n      return initAvailArtists\n    }\n    default:\n      return state\n  }\n}\n\nexport function itemQty(state = {}, action) {\n  let qty = 0\n  let id = action.itemId\n  if (id in state) {\n    qty = state[id]\n  }\n\n  switch (action.type) {\n    case INC_ITEM_QTY: {\n      qty += 1\n      return Object.assign({}, state, {\n        [id]: qty\n      })\n    }\n    case DEC_ITEM_QTY: {\n      if (qty > 0) {\n        qty -= 1\n      }      \n      \n      if (qty > 0) {\n        return Object.assign({}, state, {\n          [id]: qty\n        })\n      } else {\n        let temp = Object.assign({}, state)\n        //remove the empty item\n        delete temp[id]\n        return Object.assign({}, temp)\n      }\n    }\n    case LOAD_BOOKING: {\n      const services = action.booking.services\n      const quantities = action.booking.quantities\n      let temp = {}\n\n      for (let i = 0; i < services.length; i++ ) {\n        temp[services[i].toString()] = quantities[i]\n      }\n      return Object.assign({}, temp)\n    }\n    case RESET_BOOKING: {\n      return {}\n    }\n    default:\n      return state\n  }\n}\n\nconst initActivation = {\n  servicesActive: true,\n  artistsActive: true,\n  bookingsActive: false,\n  bookingTrigger: false,\n  requestMethod: 'get',\n  data: {},\n  callMe: null,\n  bookingData: {}\n}\n\nexport function storeActivation(state = initActivation, action) {\n  switch (action.type) {\n    case ACTIVATE_BOOKINGS: {\n      return Object.assign({}, state, {\n        bookingsActive: action.val,\n        requestMethod: 'get'\n      })\n    }\n    case SEARCH_BOOKING: {\n      return Object.assign({}, state, {\n        bookingsActive: true,\n        requestMethod: 'get',\n        bookingTrigger: !state.bookingTrigger\n      })\n    }\n    //create a new booking on the server\n    case ADD_BOOKING: {\n      return Object.assign({}, state, {\n        bookingsActive: true,\n        requestMethod: 'post',\n        data: action.payload,\n        bookingTrigger: !state.bookingTrigger,\n        callMe: action.callMe\n      })\n    }\n    //modify an existing booking on the server\n    case UPDATE_BOOKING: {\n      return Object.assign({}, state, {\n        bookingsActive: true,\n        requestMethod: 'put',\n        data: action.payload,\n        bookingTrigger: !state.bookingTrigger,\n        callMe: action.callMe\n      })\n    }\n    /*\n     * Save booking information in an object as required by submission format for later use.\n     * This is different from LOAD_BOOKING which initializes the booking state from an existing booking.\n     */\n    case SAVE_BOOKING: {\n      return Object.assign({}, state, {\n        bookingData: action.payload\n      })\n    }\n    case RESET_BOOKING: {\n      return initActivation\n    }\n    default:\n      return state\n  }\n}\n\nconst today = new Date()\n\nconst initBookingFilter = {\n  fromDate: new Date(),\n  toDate: today.setDate(today.getDate() + 7),\n  artist: null,\n  client: null\n}\n\nexport function bookingFilter(state = initBookingFilter, action) {\n  switch (action.type) {\n    case SET_FROM_DATE: {\n      return Object.assign({}, state, {\n        fromDate: action.val\n      })\n    }\n    case SET_TO_DATE: {\n      return Object.assign({}, state, {\n        toDate: action.val\n      })\n    }\n    case SET_ARTIST: {\n      return Object.assign({}, state, {\n        artist: action.val\n      })\n    }\n    case SET_CLIENT: {\n      return Object.assign({}, state, {\n        client: action.val\n      })\n    }\n    default:\n      return state\n  }\n}","import {SIGN_IN, SIGN_OUT} from '../actions/userCreator'\n\nconst initUser = {\n  firstName: '',\n  lastName: '',\n  nickName: '',\n  email: '',\n  id: '',\n  phone: '',\n  loggedIn: false,\n  isArtist: false\n}\n\nexport function userInfo(state = initUser, action) {\n  switch (action.type) {\n    case SIGN_IN: {\n      return Object.assign({}, state, {\n        firstName: action.payload.firstName,\n        lastName: action.payload.lastName,\n        nickName: action.payload.nickName,\n        email: action.payload.email,\n        id: action.payload.id,\n        loggedIn: action.payload.loggedIn,\n        isArtist: action.payload.isArtist\n      })\n    }\n    case SIGN_OUT: {\n      return Object.assign({}, initUser)\n    }\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux'\nimport {\n  priceFactors,\n  bookingDateAddr,\n  bookingStage,\n  selectedArtist,\n  assignedArtists,\n  clientInfo,\n  availArtists,\n  itemQty,\n  storeActivation,\n  bookingFilter\n} from './bookingInfo'\n\nimport { userInfo } from './userInfo'\n\nconst rootReducer = combineReducers({\n  priceFactors,\n  bookingDateAddr,\n  bookingStage,\n  selectedArtist,\n  assignedArtists,\n  clientInfo,\n  availArtists,\n  itemQty,\n  storeActivation,\n  bookingFilter,\n  userInfo,\n})\n\nexport default rootReducer","import { createStore, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport reducer from '../reducers/rootReducer'\n\nconst store = createStore(\n  reducer,\n  applyMiddleware(thunk)\n)\n\nexport default store","import { connect } from 'react-redux'\nimport { BookingsStoreProvider } from '../components/BookingsStoreProvider'\n\nconst mapStateToProps = state => {\n  return {\n    storeCtrl : state.storeActivation,\n    bookingFilter: state.bookingFilter\n  }\n}\n\nexport default connect(mapStateToProps, null)(BookingsStoreProvider)","import React, { Component } from 'react'\nimport { Provider } from 'react-redux'\nimport { ThemeProvider } from '@material-ui/styles'\nimport { createMuiTheme } from '@material-ui/core/styles'\nimport './App.css';\nimport Routes from './config/RootContainer'\nimport store from './config/Store'\nimport BookingsStoreProvider from './config/BookingsStoreProviderContainer'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: {\n      main: '#f18383'\n    },\n    secondary: {\n      // main: '#e8e5e5'\n      main: '#000'\n    }\n  },\n  // typography: {\n  //   // Use the system font instead of the default Roboto font.\n  //   fontFamily: [\n  //     '\"Lato\"',\n  //     'sans-serif'\n  //   ].join(',')\n  // }\n});\n\n\nclass App extends Component {\n  render() {\n    return (\n      <Provider store={store}>\n        <ThemeProvider theme={theme}>\n          <BookingsStoreProvider>\n            <Routes theme={theme}/>\n          </BookingsStoreProvider>\n        </ThemeProvider>\n      </Provider>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export const SIGN_IN = 'SIGN_IN'\nexport const SIGN_OUT = 'SIGN_OUT'\n\nexport const signinUser = (payload) => ({\n  type: SIGN_IN,\n  payload\n})\n\nexport const signoutUser = () => ({\n  type: SIGN_OUT,\n})\n","export const CHANGE_ORGANIC = 'CHANGE_ORGANIC'\nexport const CHANGE_PENSIONER_RATE = 'CHANGE_PENSIONER_RATE'\nexport const SUBMIT_BOOKING = 'SUBMIT_BOOKING'\nexport const CHANGE_BOOKING_STAGE = 'CHANGE_BOOKING_STAGE'\nexport const SET_SELECTED_ARTIST = 'SET_SELECTED_ARTIST'\nexport const INC_ITEM_QTY = 'INC_ITEM_QTY'\nexport const DEC_ITEM_QTY = 'DEC_ITEM_QTY'\nexport const GET_AVAIL_ARTISTS = 'GET_AVAIL_ARTISTS'\nexport const RECEIVE_AVAIL_ARTISTS = 'RECEIVE_AVAIL_ARTISTS'\nexport const ERROR_AVAIL_ARTISTS = 'ERROR_AVAIL_ARTISTS'\nexport const RESET_BOOKING = 'RESET_BOOKING'\nexport const MAKE_BOOKING = 'MAKE_BOOKING'\nexport const ACTIVATE_BOOKINGS = 'ACTIVATE_BOOKINGS'\nexport const SEARCH_BOOKING = 'SEARCH_BOOKING'\nexport const ADD_BOOKING = 'ADD_BOOKING'\nexport const SAVE_BOOKING = 'SAVE_BOOKING'\nexport const UPDATE_BOOKING = 'UPDATE_BOOKING'\nexport const ASSIGN_ARTISTS = 'ASSIGN_ARTISTS'\nexport const ASSIGN_CLIENT = 'ASSIGN_CLIENT'\nexport const LOAD_BOOKING = 'LOAD_BOOKING'\nexport const SET_FROM_DATE = 'SET_FROM_DATE'\nexport const SET_TO_DATE = 'SET_TO_DATE'\nexport const SET_ARTIST = 'SET_ARTIST'\nexport const SET_CLIENT = 'SET_CLIENT'\n\nexport const toggleOrganic = () => ({\n  type: CHANGE_ORGANIC\n})\n\nexport const togglePensionerRate = () => ({\n  type: CHANGE_PENSIONER_RATE\n})\n\nexport const submitBooking = (date, bookingEnd, addr) => ({\n  type: SUBMIT_BOOKING,\n  bookingDate: date,\n  bookingEnd: bookingEnd,\n  bookingAddr: addr\n})\n\nexport const changeBookingStage = stage => ({\n  type: CHANGE_BOOKING_STAGE,\n  stage\n})\n\nexport const changeSelectedArtist = order => ({\n  type: SET_SELECTED_ARTIST,\n  order\n})\n\nexport function getAvailArtist(url) {\n  return async function(dispatch) {\n    dispatch({\n      type: GET_AVAIL_ARTISTS\n    })\n\n    try {\n      const result = await fetch(url)\n      const data = await result.json()\n      dispatch({\n        type: RECEIVE_AVAIL_ARTISTS,\n        payload: data\n      })\n    } catch (err) {\n      console.log(\"Artists fetching error\")\n      dispatch({\n        type: ERROR_AVAIL_ARTISTS\n      })\n    }\n  }\n}\n\nexport const incItemQty = id => ({\n  type: INC_ITEM_QTY,\n  itemId: id\n})\n\nexport const decItemQty = id => ({\n  type: DEC_ITEM_QTY,\n  itemId: id\n})\n\nexport const resetBooking = () => ({\n  type: RESET_BOOKING,\n})\n\nexport const setActivateBookings = val => ({\n  type : ACTIVATE_BOOKINGS,\n  val\n})\n\nexport const searchBooking = () => ({\n  type : SEARCH_BOOKING\n})\n\nexport const addBooking = (bookingInfo, callMe) => ({\n  type: ADD_BOOKING,\n  payload: bookingInfo,\n  callMe\n})\n\nexport const updateBooking = (bookingInfo, callMe) => ({\n  type: UPDATE_BOOKING,\n  payload: bookingInfo,\n  callMe\n})\n\nexport const saveBooking = (bookingData) => ({\n  type: SAVE_BOOKING,\n  payload: bookingData,\n})\n\nexport const assignArtists = (artistIds) => ({\n  type: ASSIGN_ARTISTS,\n  artistIds\n})\n\nexport const assignClient = (client) => ({\n  type: ASSIGN_CLIENT,\n  client\n})\n\nexport const loadBooking = (booking) => ({\n  type: LOAD_BOOKING,\n  booking\n})\n\nexport const setFromDate = (val) => ({\n  type: SET_FROM_DATE,\n  val\n})\n\nexport const setToDate = (val) => ({\n  type: SET_TO_DATE,\n  val\n})\n\nexport const setClient = (val) => ({\n  type: SET_CLIENT,\n  val\n})\n\nexport const setArtist = (val) => ({\n  type: SET_ARTIST,\n  val\n})","export const getBookingValue = (items, priceFactors, itemQty) => {\n  let total = 0\n  let organic = priceFactors.organic\n  let pensioner = priceFactors.pensionerRate\n\n  for (let id of Object.keys(itemQty)) {\n    let qty = itemQty[id]\n    total += (organic ? items[id].organicPrice : items[id].price) * (pensioner ? 0.8 : 1) * qty\n  }\n  \n  return total.toFixed(2)\n}\n\nexport const getDepositPayable = (totalBookingValue) => {\n  return (totalBookingValue * 0.3).toFixed(2)\n}\n","import { useState, useEffect, useReducer } from \"react\"\nimport axios from \"axios\"\n\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_INIT\":\n      return { ...state, isLoading: true, hasErrored: false }\n    case \"FETCH_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        data: action.payload\n      }\n    case \"FETCH_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        hasErrored: true,\n        errorMessage: \"Data Retrieve Failure\"\n      }\n    default:\n      throw new Error()\n  }\n}\n\nconst useAxiosFetch = (initialUrl, initialData, active) => {\n  const [url] = useState(initialUrl)\n\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    hasErrored: false,\n    errorMessage: \"\",\n    data: initialData\n  })\n\n  useEffect(() => {\n    let didCancel = false\n\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_INIT\" })\n\n      try {\n        let result = await axios.get(url)\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data })\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_FAILURE\" })\n        }\n      }\n    }\n\n    if (active) {\n      fetchData()\n    }\n\n    return () => {\n      didCancel = true\n    }\n  }, [url, active])\n\n  return { ...state }\n}\n\nexport default useAxiosFetch\n","import { useEffect, useReducer } from \"react\"\nimport axios from \"axios\"\nimport { bookings_url } from '../config/dataLinks'\n\nconst convertArrayToObject = (array, key) => {\n  const initialValue = {};\n  return array.reduce((obj, item) => {\n    return {\n      ...obj,\n      [item[key].toString()]: item,\n    };\n  }, initialValue)\n}\n\nconst dataFetchReducer = (state, action) => {\n  switch (action.type) {\n    case \"FETCH_INIT\":\n      return {\n        ...state,\n        isLoading: true,\n        isUpdating: false,\n        hasErrored: false\n      }\n    case \"FETCH_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        // data: Object.assign({}, state.data, convertArrayToObject(action.payload, 'booking_id'))\n        data: Object.assign({}, convertArrayToObject(action.payload, 'booking_id'))\n      }\n    case \"FETCH_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: true,\n        errorMessage: \"Data Retrieve Failure\"\n      }\n    case \"UPDATE_INIT\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: true,\n        hasErrored: false\n      }\n    case \"POST_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        data: Object.assign({}, state.data, convertArrayToObject([action.payload], 'booking_id'))\n      }\n    case \"PUT_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\",\n        data: Object.assign({}, state.data, convertArrayToObject([action.payload], 'booking_id'))\n      }\n    case \"DELETE_SUCCESS\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: false,\n        errorMessage: \"\"\n      }\n    case \"UPDATE_FAILURE\":\n      return {\n        ...state,\n        isLoading: false,\n        isUpdating: false,\n        hasErrored: true,\n        errorMessage: action.errMessage\n      }\n  \n    default:\n      throw new Error()\n  }\n}\n\nconst useAxiosCRUD = (url, initialData, active, method, data, callMe, bookingTrigger) => {\n\n  const [state, dispatch] = useReducer(dataFetchReducer, {\n    isLoading: false,\n    isUpdating: false,\n    hasErrored: false,\n    errorMessage: \"\",\n    data: initialData\n  })\n\n  useEffect(() => {\n    let didCancel = false\n\n    const fetchData = async () => {\n      dispatch({ type: \"FETCH_INIT\" })\n\n      try {\n        let result = await axios.get(url)\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_SUCCESS\", payload: result.data })\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"FETCH_FAILURE\" })\n        }\n      }\n    }\n\n    const createData = async (data) => {\n      dispatch({ type: \"UPDATE_INIT\"})\n\n      const config = {\n        method: 'post',\n        headers: {\"Content-Type\": \"application/json\"},\n        url: bookings_url,\n        data: data\n      }\n\n      try {\n        const result = await axios(config)\n        const bookingId = result.data.booking_id\n        if (!didCancel) {\n          if (bookingId > 0) {\n            const payload = {...data, booking_id: bookingId}\n            dispatch({ type: \"POST_SUCCESS\", payload: payload })\n            callMe()\n          }\n          else {\n            alert(`${result.data.error} Please call to resolve this issue.`)\n          }\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"UPDATE_FAILURE\", errorMessage: err })\n        }\n      }\n    }\n\n    const updateData = async (data) => {\n      dispatch({ type: \"UPDATE_INIT\"})\n\n      const config = {\n        method: 'put',\n        headers: {\"Content-Type\": \"application/json\"},\n        url: bookings_url,\n        data: data\n      }\n\n      try {\n        const result = await axios(config)\n        const bookingId = result.data.booking_id\n        if (!didCancel) {\n          if (bookingId > 0) {\n            /*\n             * Balance payment success. Change paid_amount to total_amount locally. Server performs this step. Because \n             * we don't read back the updated booking record from the server, we simply modify paid_amount locally.\n             */ \n            if (data.paid_amount > 0)\n              data.paid_amount = data.total_amount\n            dispatch({ type: \"PUT_SUCCESS\", payload: data })\n            callMe()\n          }\n          else {\n            alert(`${result.data.error} Please call to resolve this issue.`)\n          }\n        }\n      } catch (err) {\n        if (!didCancel) {\n          dispatch({ type: \"UPDATE_FAILURE\", errorMessage: err })\n        }\n      }\n    }\n\n    if (active && !state.isLoading && !state.isUpdating) {\n      switch (method) {\n        case 'get': {\n          fetchData()\n          break\n        }\n        case 'post': {\n          createData(data)\n          break\n        }\n        case 'put': {\n          updateData(data)\n          break\n        }\n        default:\n          throw new Error()\n      }\n    }\n\n    return () => {\n      didCancel = true\n    }\n  }, [active, method, data, bookingTrigger])\n\n  return { ...state }\n}\n\nexport default useAxiosCRUD\n","import React, { useState, useEffect, createContext } from \"react\"\nimport useAxiosFetch from '../actions/useAxiosFetch'\nimport useAxiosCRUD from '../actions/useAxiosCRUD'\nimport { normaliseArtists, normaliseServices } from '../utils/dataFormatter'\nimport { bookings_url, user_url, access_token, artists_url, services_url } from '../config/dataLinks'\nimport { getEvents } from '../utils/dataFormatter'\nimport axios from 'axios'\nimport moment from 'moment'\n\nconst BookingsStoreContext = createContext()\n\nconst initFilter = (fromDate, toDate) => {\n  return `${bookings_url}?from_date=${moment(fromDate).format(\"YYYY-MM-DD\")}&to_date=${moment(toDate).format(\"YYYY-MM-DD\")}`\n}\n\nconst BookingsStoreProvider = ({children, storeCtrl, bookingFilter}) => {\n  const {servicesActive, artistsActive, bookingsActive, requestMethod, data, callMe, bookingTrigger} = storeCtrl\n  const {fromDate, toDate} = bookingFilter\n  const artistId = bookingFilter.artist ? bookingFilter.artist.id : null\n  const clientId = bookingFilter.client ? bookingFilter.client.id : null\n  const [bookingUrl, setBookingUrl] = useState(initFilter(fromDate, toDate))\n  const [services, setServices] = useState({})\n  const [servicesFetched, setServicesFetched] = useState(false)\n  const [artists, setArtists] = useState({})\n  const [artistsFetched, setArtistsFetched] = useState(false)\n  const [events, setEvents] = useState([])\n  const [eventsFetched, setEventsFetched] = useState(false)\n  const [clientList, setClientList] = useState([])\n  const [clientsFetchTrigger, setClientsFetchTrigger] = useState(false)\n  const [clients, setClients] = useState({})\n\n  let servicesData = useAxiosFetch(services_url, [], servicesActive)\n\n  useEffect(() => {\n    if (servicesData.data.length !== 0) {\n      setServices(normaliseServices(servicesData.data))\n      setServicesFetched(true)\n    }\n  }, [servicesData.isLoading, servicesData.data])\n\n  let artistsData = useAxiosFetch(artists_url, [], artistsActive)\n\n  //update booking filter\n  useEffect(() => {\n    let newFilter = `${bookings_url}?from_date=${moment(fromDate).format(\"YYYY-MM-DD\")}&to_date=${moment(toDate).format(\"YYYY-MM-DD\")}`\n    \n    if (artistId)\n      newFilter = `${newFilter}&artist_id=${artistId.toString()}`\n\n    if (clientId)\n      newFilter = `${newFilter}&client_id=${clientId.toString()}`\n\n    setBookingUrl(newFilter)\n  }, [fromDate, toDate, artistId, clientId])\n\n  useEffect(() => {\n    if (artistsData.data.length !== 0) {\n      setArtists(normaliseArtists(artistsData.data))\n      setArtistsFetched(true)\n    }\n  }, [artistsData.isLoading, artistsData.data])\n\n  let bookingsData = useAxiosCRUD(bookingUrl, {}, bookingsActive, requestMethod, data, callMe, bookingTrigger)\n\n  const getClientListFromBookings = bookings => {\n    let list = []\n    for (let key in bookings) {\n      let client_id = bookings[key].client_id\n      if (!list.includes(client_id))\n        list.push(client_id)\n    }\n\n    return list\n  }\n\n  useEffect(() => {\n    if (bookingsData.data.length !== 0) {\n      setClientList(getClientListFromBookings(bookingsData.data))\n    }\n  }, [bookingsData.isLoading, bookingsData.data])\n\n  useEffect(() => {\n    if (clientList.length > 0) {\n      \n      Promise.allSettled(clientList.map(id => {\n        const config = {\n          method: 'get',\n          headers: { 'Authorization': access_token },\n          url: `${user_url}/${id}`\n        }\n        return axios(config)\n      }))\n      .then((results) => {\n        let temp = {}\n        results.forEach(result => {\n          if (result.status === 'fulfilled') {\n            let client = result.value.data\n            let id = client.id\n            temp[id.toString()] = {\n              id,\n              name: client.name,\n              phone: client.meta.billing_phone[0]\n            }\n          }\n        })\n        setClients(temp)\n        setClientsFetchTrigger(!clientsFetchTrigger)\n      })\n    }\n  }, [clientList])\n\n  useEffect(() => {\n    if (artistsFetched && servicesFetched) {\n      setEvents(getEvents(bookingsData.data, artists, clients, services.items))\n      setEventsFetched(true)\n    }\n  }, [clientsFetchTrigger, clients])\n\n  return (\n    <BookingsStoreContext.Provider value={{services, servicesFetched, events, eventsFetched, artists, artistsFetched, bookingsData}}>\n      {children}\n    </BookingsStoreContext.Provider>\n  )\n}\n\nexport { BookingsStoreContext, BookingsStoreProvider }","import { getBookingValue } from './getBookingValue'\n\nexport function normaliseArtists(artistArr)\n{\n  let artists = {}\n  \n  for (let i = 0; i < artistArr.length; i++ ) {\n    artists[artistArr[i].id.toString()] = {\n      id: artistArr[i].id,\n      name: artistArr[i].name,\n      state: artistArr[i].state,\n      photo: artistArr[i].photo,\n      title: artistArr[i].title,\n      bio: artistArr[i].bio,\n      hashtag: artistArr[i].hashtag ? artistArr[i].hashtag.replace('#', '') : \"haironthemove2u\"\n    }\n  }\n  \n  return artists\n}\n\nexport function normaliseClients(clientArr)\n{\n  let clients = {}\n  \n  for (let i = 0; i < clientArr.length; i++ ) {\n    clients[clientArr[i].id.toString()] = {\n      id: clientArr[i].id,\n      name: clientArr[i].name,\n      phone: clientArr[i].phone\n    }\n  }\n\n  return clients\n}\n\nexport function normaliseServices(serviceArr)\n{\n  let services = {}\n  let cats = []\n  \n  for (let i = 0; i < serviceArr.length; i++ ) {\n    let items = Object.values(serviceArr[i].data)\n    let list = []\n    for (let j = 0; j < items.length; j++ ) {\n      let id = items[j].id.toString()\n      list.push(id)\n      services[id] = {\n        cat: i,\n        description: items[j].description,\n        price: items[j].sale_price,\n        organicPrice: items[j].organic_add_price,\n        timeOnsite: items[j].time_on_site,\n        onlineBooking: items[j].online_booking === 1 ? true : false,\n        addOn: items[j].add_on === 1 ? true : false\n      }\n    }\n    cats.push({\n      \"name\": serviceArr[i].cat,\n      \"list\": list\n    })\n  }\n  return { \n    \"items\": services, \n    \"cats\": cats\n  }\n}\n\nexport function getEvents(bookings, artists, clients, servicesMenu)\n{\n  let events = []\n\n  for (let id in bookings) {\n    let serviceItems = []\n    let total = 0\n    let booking = bookings[id]\n\n    //artist && client still exist\n    if (artists[booking.artist_id_list[0]] && clients[booking.client_id]) {\n      let itemQty = {}\n      let priceFactors = {\n        organic: booking.with_organic,\n        pensionerRate: booking.with_pensioner_rate\n      }\n      for (let j = 0; j < booking.services.length; j++) {\n        //Don't know why services contain invalid id. The random id is constrained to a valid range.\n        if (servicesMenu[booking.services[j]]) {\n          serviceItems.push(`${servicesMenu[booking.services[j]].description} Qty ${booking.quantities[j]}`)\n          itemQty[booking.services[j]] = booking.quantities[j]\n        }\n      }\n\n      total = getBookingValue(servicesMenu, priceFactors, itemQty)\n      events.push({\n        id: booking.booking_id,\n        start: new Date(`${booking.booking_date}T${booking.booking_time}:00`),\n        end: new Date(`${booking.booking_date}T${booking.booking_end_time}:00`),\n        address: booking.event_address,\n        artists: booking.artist_id_list.map(id => artists[id]),\n        artistNames: booking.artist_id_list.map(id => artists[id].name).join(', '),\n        client: clients[booking.client_id],\n        organic: booking.with_organic,\n        serviceItems: serviceItems,\n        total: total\n      })\n    }\n  }\n\n  return events\n}"],"sourceRoot":""}